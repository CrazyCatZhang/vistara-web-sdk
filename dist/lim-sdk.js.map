{"version":3,"sources":["webpack://imsdk/webpack/bootstrap","webpack://imsdk/./src/lim/log/Logger.ts","webpack://imsdk/./src/lim/common/utils.ts","webpack://imsdk/./src/lim/common/ConversationType.ts","webpack://imsdk/./src/lim/core/ImClient.ts","webpack://imsdk/./src/lim/common/Fetch.ts","webpack://imsdk/./src/lim.ts","webpack://imsdk/./src/lim/codec/ByteBuffer.ts","webpack://imsdk/./src/lim/pack/LoginPack.ts","webpack://imsdk/./src/lim/common/WebToolkit.ts","webpack://imsdk/(webpack)/buildin/global.js","webpack://imsdk/./node_modules/wxapp-fetch/dist/wxapp-fetch.js","webpack://imsdk/./node_modules/isomorphic-fetch/fetch-npm-browserify.js","webpack://imsdk/./node_modules/whatwg-fetch/fetch.js","webpack://imsdk/./src/lim/uniapp/http/uni-fetch.js","webpack://imsdk/./node_modules/websocket/lib/browser.js","webpack://imsdk/./node_modules/es5-ext/global.js","webpack://imsdk/./node_modules/websocket/lib/version.js","webpack://imsdk/./src/lim/model/RequestBase.ts","webpack://imsdk/./src/lim/model/RequestParams.ts","webpack://imsdk/./src/lim/core/HttpApi.ts","webpack://imsdk/./src/lim/model/ApiResponse.ts","webpack://imsdk/./src/lim/common/Command.ts","webpack://imsdk/./src/lim/utils/CreateMessage.ts","webpack://imsdk/./src/lim/pack/MessagePack.ts","webpack://imsdk/./src/lim/pack/MessageReadPack.ts","webpack://imsdk/./src/lim/pack/MessageReceiveAckPack.ts","webpack://imsdk/./src/lim/pack/MessageRecallPack.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__spreadArrays","this","il","arguments","length","Array","k","a","j","jl","Logger","info","message","optionalParams","_i","debug","console","apply","Date","toISOString","infoTag","tag","error","errorTag","trace","e","Error","undefined","stack","Beans","to","target","JSON","parse","stringify","bean","json","copy","replace","replaceJSON","v","toMapByKey","arrs","result","forEach","strEmpty","strNotEmpty","isEmpty","str","uuid","Math","random","toString","slice","getTime","ConversationType","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","op","TypeError","pop","push","imClient","getLen","limLogin","ImClient","sleep","State","TimeUnit","Logger_1","ByteBuffer_1","LoginPack_1","WebToolkit_1","websocket_1","RequestBase_1","RequestParams_1","HttpApi_1","utils_1","Command_1","CreateMessage_1","ConversationType_1","MessageReadPack_1","MessageReceiveAckPack_1","MessageRecallPack_1","firstMonitorSocket","second","Unit","Second","_a","setTimeout","url","version","clientType","listeners","state","INIT","httpUrl","getRequestBase","RequestBase","appId","imei","isInit","CONNECTED","getRequestParams","RequestParams","userId","userSign","init","callback","self","resp","ip","port","req","success","err","conn","_this","_b","getDeviceInfo","system","imeiLength","isFailed","data","LoginPack","onerror","onSocketErrorEvent","errorHandler","onclose","CLOSEING","onSocketCloseEvent","reason","onmessage","evt","bytebuf","byteBuffer","int32","unpack","command","bodyLen","msgBody","vstring","log","MessageCommand","MSG_P2P","onP2PMessage","MSG_ACK","onMessageAck","MSG_RECEIVE_ACK","onMessageReceiveAck","MSG_READED_NOTIFY","onMessageReadedNotify","MSG_READED_RECEIPT","onMessageReadedReceipt","MSG_RECALL_NOTIFY","onMessageRecallNotify","MSG_RECALL_ACK","onMessageRecallAck","FriendshipEventCommand","FRIEND_ADD","onAddFriend","FRIEND_UPDATE","onUpdateFriend","FRIEND_DELETE","onDeleteFriend","FRIEND_REQUEST","onFriendRequest","FRIEND_REQUEST_READ","onReadFriendRequest","FRIEND_REQUEST_APPROVE","onApproveFriendRequest","FRIEND_BLACK_ADD","onBlackFriend","FRIEND_BLACK_DELETE","onDeleteBlackFriend","FRIEND_GROUP_ADD","onAddFriendGroup","FRIEND_GROUP_DELETE","onDeleteFriendGroup","FRIEND_GROUP_MEMBER_ADD","onAddFriendGroupMember","FRIEND_GROUP_MEMBER_DELETE","onDeleteFriendGroupMember","FRIEND_ALL_DELETE","onDeleteAllFriend","GroupEventCommand","JOIN_GROUP","onJoinGroup","ADDED_MEMBER","onAddGroupMember","CREATED_GROUP","onCreateGroup","UPDATED_GROUP","onUpdateGroup","EXIT_GROUP","onExitGroup","UPDATED_MEMBER","onUpdateGroupMember","DELETED_MEMBER","onDeleteGroupMember","DESTROY_GROUP","onDestroyGroup","TRANSFER_GROUP","onTransferGroup","MUTE_GROUP","onMuteGroup","SPEAK_GROUP_MEMBER","onMuteGroupMember","GROUP_REQUEST_APPROVE","onApproveGroupRequest","GROUP_REQUEST_READ","onReadGroupRequest","MSG_GROUP","onGroupMessage","MSG_GROUP_READED_NOTIFY","onGroupMessageReadedNotify","MSG_GROUP_READED_RECEIPT","onGroupMessageReadedReceipt","GROUP_MSG_ACK","onGroupMessageAck","UserEventCommand","USER_MODIFY","onUserModify","USER_ONLINE_STATUS_CHANGE_NOTIFY","onUserOnlineStatusChangeNotify","USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC","onUserOnlineStatusChangeNotifySync","USER_CUSTOM_STATUS_CHANGE_NOTIFY","onUserCustomStatusChangeNotify","ConversationEventCommand","CONVERSATION_DELETE","onConversationDelete","CONVERSATION_UPDATE","onConversationUpdate","heartbeatLoop","onLogin","buildMessagePack","messagePack","jsonData","pack","index","error_1","CLOSED","RECONNECTING","onSocketReConnectEvent","onSocketReConnectSuccessEvent","getSingleUserInfo","getUserInfo","userIds","modifyUserInfo","userData","getUserSequence","subscribeUserOnlineStatus","subTime","subUserId","setUserCustomerStatus","customText","customStatus","queryUserOnlineStatus","userList","queryFriendOnlineStatus","addFriend","toItem","fromId","updateFriend","deleteFriend","toId","deleteAllFriend","getAllFriend","getRelation","verifyFriendship","checkType","toIds","blackFriend","deleteBlackFriend","verifyBlack","approveFriendshipRequest","id","status","readFriendshipRequest","getFriendshipRequest","addFriendshipGroup","groupName","getAllFriendshipGroup","deleteFriendshipGroup","groupNames","addFriendshipGroupMember","deleteFriendshipGroupMember","createGroup","groupData","updateGroup","getJoinedGroup","limit","offset","memberId","destroyGroup","groupId","transferGroup","ownerId","getGroupInfo","muteGroup","mute","addGroup","groupItem","addGroupMember","members","removeGroupMember","exitGroup","updateGroupMember","role","muteGroupMember","speakDate","addGroupRequest","approveGroupRequest","getGroupRequest","readGroupRequest","updateConversation","conversationId","isMute","isTop","deleteConversation","syncFriendshipList","lastSequence","maxLimit","syncConversationList","syncJoinedGroup","syncOfflineMessage","start","now","loop","pingPack","SystemCommand","PING","send","sendP2PMessageRead","messageData","messageReadPack","MessageReadPack","P2PMessage","sendMessageReadPack","MSG_READED","sendGroupMessageRead","GroupMessage","MSG_GROUP_READED","sendMessageReceiveAck","messageReceiveAckPack","MessageReceiveAckPack","sendP2PMessageRecall","messageRecallPack","MessageRecallPack","sendMessageRecall","MSG_RECALL","sendGroupMessageRecall","sendP2PTextMessage","text","createTextMessage","p2pPack","sendP2PImageMessage","image","createImageMessage","sendP2PAudioMessage","audio","createAudioMessage","sendP2PVideoMessage","video","createVideoMessage","sendP2PEmojiMessage","emoji","createEmojiMessage","sendP2PFileMessage","file","createFileMessage","sendP2PLocationMessage","location","createLocationMessage","sendP2PCustomerMessage","type","custom","createCustomerMessage","sendGroupTextMessage","sendGroupImageMessage","sendGroupAudioMessage","sendGroupVideoMessage","sendGroupEmojiMessage","sendGroupFileMessage","sendGroupLocationMessage","sendGroupCustomerMessage","getUserId","w3cwebsocket","binaryType","tr","clearTimeout","onopen","readyState","OPEN","onSocketConnectEvent","loginPack","LOGIN","LOGIN_ACK","len","charCodeAt","Fetch","getFetchToolkit","httpFetch","global","fetch","im","ImClient_1","uni","ByteBuffer","arrayBuf","Type_Byte","Type_Short","Type_UShort","Type_Int32","Type_UInt32","Type_String","Type_VString","Type_Int64","Type_Float","Type_Double","Type_ByteArray","_offset","_list","_littleEndian","_org_buf","constructor","DataView","Uint8Array","buffer","bigEndian","littleEndianfunction","utf8Write","view","setUint8","val","getInt32","splice","uint32","getUint32","blength","string","utf8Read","utf8Length","chr","end","byte","getUint8","String","fromCharCode","vlen","int64","getFloat64","float","getFloat32","double","byteArray","arr","packWithHead","ifHead","ArrayBuffer","setUint32","setInt8","setInt16","setUint16","setInt32","setFloat64","setFloat32","indx","getAvailable","byteLength","Fetch_1","Base64","_keyStr","encode","u","_utf8_encode","isNaN","charAt","decode","indexOf","_utf8_decode","c2","c3","WebToolkit","getBrowserInfo","agent","navigator","userAgent","toLowerCase","REGSTR_EDGE","REGSTR_IE","OLD_IE","REGSTR_FF","REGSTR_CHROME","REGSTR_SAF","REGSTR_OPERA","code","split","browser","browserVersion","match","getWxAppInfo","getReactNativeInfo","getUniAppInfo","loadJS","script","document","createElement","fn","exist","getElementsByTagName","children","dom","outerHTML","onreadystatechange","onload","src","appendChild","getIpInfoByFetch","request","method","headers","response","res","currentCity","eval","getIpInfoByInsertScript","window","getIpInfo","base64Encode","base64Decode","Function","factory","configurable","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_wxapp_http__","__WEBPACK_IMPORTED_MODULE_0_wxapp_http___default","_typeof","obj","httpClient","maxConcurrent","timeout","header","dataType","generateResponse","config","ok","statusCode","statusText","errMsg","clone","blob","Blob","keys","entries","all","has","options","catch","extendStatics","__extends","setPrototypeOf","__proto__","b","__","__assign","assign","event_emitter_js_1","DEFAULT_CONFIG","Http","_super","ctx","wx","queue","runningTask","requestInterceptor","responseInterceptor","entity","shift","emit","callBack","fail","complete","requestConfig","head","post","put","connect","setRequestInterceptor","interceptor","setResponseInterceptor","clean","default","randomId","substr","findIndexById","findIndex","EventEmitter","on","event","listener","events","container","off","clear","once","argv","concat","map","emitting","dataArray","globalThis","support","viewClasses","isArrayBufferView","isView","normalizeName","test","normalizeValue","iteratorFor","items","Headers","append","isArray","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","set","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","arrayBuffer","isConsumed","byteOffset","readAsText","chars","join","readArrayBufferAsText","formData","oldValue","values","methods","Request","input","upcased","credentials","signal","toUpperCase","referrer","cache","reParamSearch","form","trim","bytes","decodeURIComponent","Response","bodyInit","redirectStatuses","redirect","RangeError","DOMException","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","parts","responseURL","responseText","ontimeout","onabort","open","href","fixUrl","withCredentials","responseType","setRequestHeader","addEventListener","removeEventListener","polyfill","parseUniappHeaders","toStr","rawBody","requestTask","_globalThis","NativeWebSocket","WebSocket","MozWebSocket","websocket_version","W3CWebSocket","uri","protocols","prop","naiveFallback","__global__","identifier","ApiResponse_1","HttpApi","params","reqUrl","paramStr","setQueryConfig","_str","substring","webFetch","response2ApiResponse","apiResponse","msg","ApiResponse","succeed","isSucceed","MessagePack_1","from","conversationType","MessagePack","buildTextMessagePack","buildImageMessagePack","buildAudioMessagePack","buildVideoMessagePack","buildEmojiMessagePack","buildFileMessagePack","buildLocationMessagePack","buildCustomerMessagePack","messageId","messageRandom","RangeInteger","messageTime","min","max","range","floor","content","messageBody","messageSequence","messageKey"],"mappings":"yBACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,+BCjFrD,IAAIC,EAAkBC,MAAQA,KAAKD,gBAAmB,WAClD,IAAK,IAAID,EAAI,EAAG/B,EAAI,EAAGkC,EAAKC,UAAUC,OAAQpC,EAAIkC,EAAIlC,IAAK+B,GAAKI,UAAUnC,GAAGoC,OACxE,IAAItB,EAAIuB,MAAMN,GAAIO,EAAI,EAA3B,IAA8BtC,EAAI,EAAGA,EAAIkC,EAAIlC,IACzC,IAAK,IAAIuC,EAAIJ,UAAUnC,GAAIwC,EAAI,EAAGC,EAAKF,EAAEH,OAAQI,EAAIC,EAAID,IAAKF,IAC1DxB,EAAEwB,GAAKC,EAAEC,GACjB,OAAO1B,GAEXhB,EAAQsB,YAAa,EACrB,IAAIsB,EAAwB,WACxB,SAASA,KAiDT,OA/CAA,EAAOC,KAAO,SAAUC,GAEpB,IADA,IAAIC,EAAiB,GACZC,EAAK,EAAGA,EAAKX,UAAUC,OAAQU,IACpCD,EAAeC,EAAK,GAAKX,UAAUW,GAEnCJ,EAAOK,OACPC,QAAQL,KAAKM,MAAMD,QAAShB,EAAe,EAAC,IAAIkB,MAAOC,cAAgB,MAAQP,GAAUC,KAGjGH,EAAOU,QAAU,SAAUC,EAAKT,GAE5B,IADA,IAAIC,EAAiB,GACZC,EAAK,EAAGA,EAAKX,UAAUC,OAAQU,IACpCD,EAAeC,EAAK,GAAKX,UAAUW,GAEnCJ,EAAOK,OACPC,QAAQL,KAAKM,MAAMD,QAAShB,EAAe,EAAC,IAAIkB,MAAOC,cAAgB,IAAME,EAAM,MAAQT,GAAUC,KAG7GH,EAAOY,MAAQ,SAAUV,GAErB,IADA,IAAIC,EAAiB,GACZC,EAAK,EAAGA,EAAKX,UAAUC,OAAQU,IACpCD,EAAeC,EAAK,GAAKX,UAAUW,GAEnCJ,EAAOK,OACPC,QAAQM,MAAML,MAAMD,QAAShB,EAAe,EAAC,IAAIkB,MAAOC,cAAgB,MAAQP,GAAUC,KAGlGH,EAAOa,SAAW,SAAUF,EAAKT,GAE7B,IADA,IAAIC,EAAiB,GACZC,EAAK,EAAGA,EAAKX,UAAUC,OAAQU,IACpCD,EAAeC,EAAK,GAAKX,UAAUW,GAEnCJ,EAAOK,OACPC,QAAQM,MAAML,MAAMD,QAAShB,EAAe,EAAC,IAAIkB,MAAOC,cAAgB,IAAME,EAAM,OAAST,GAAUC,KAG/GH,EAAOc,MAAQ,SAAUC,GACjBf,EAAOK,QACHU,aAAaC,MACbV,QAAQM,MAAMG,EAAEb,QAAU,aAAsBe,IAAZF,EAAEG,MAAsBH,EAAEG,MAAQ,KAGtEZ,QAAQM,MAAMG,KAI1Bf,EAAOK,OAAQ,EACRL,EAlDgB,GAoD3B5C,EAAiB,QAAI4C,G,6BC5DrB5C,EAAQsB,YAAa,EACrB,IAAIyC,EAAuB,WACvB,SAASA,KAkDT,OAhDAA,EAAMC,GAAK,SAAUC,GACjB,OAAOC,KAAKC,MAAMD,KAAKE,UAAUH,KAErCF,EAAMM,KAAO,SAAUC,GACnB,OAAOJ,KAAKC,MAAMG,IAEtBP,EAAMQ,KAAO,SAAUN,GACnB,OAAOF,EAAMC,GAAGC,IAEpBF,EAAMS,QAAU,SAAUP,EAAQQ,GAC9B,IAAIzD,EAAI+C,EAAMC,GAAGC,GACjB,IAAK,IAAIS,KAAKD,EACVzD,EAAE0D,GAAKD,EAAYC,GAEvB,OAAO1D,GAEX+C,EAAMY,WAAa,SAAUC,EAAMnD,GAC/B,IAAIoD,EAAS,GAMb,OALAD,EAAKE,SAAQ,SAAUJ,GACfA,EAAE3C,eAAeN,KACjBoD,EAAOpD,GAAOiD,MAGfG,GAEXd,EAAMO,KAAO,SAAUL,GACnB,OAAOC,KAAKE,UAAUH,IAE1BF,EAAMgB,SAAW,SAAU9C,GACvB,QAASA,GAEb8B,EAAMiB,YAAc,SAAU/C,GAC1B,OAAQA,GAEZ8B,EAAMkB,QAAU,SAAUC,GACtB,OAAY,OAARA,GACQ,KAARA,QACQrB,IAARqB,GACe,IAAfA,EAAI5C,QAOZyB,EAAMoB,KAAO,WACT,OAAwB,GAAhBC,KAAKC,UAAeC,SAAS,IAAIC,MAAM,IAAK,IAAInC,MAAOoC,UAAUF,YAEtEvB,EAnDe,GAqD1B/D,EAAiB,QAAI+D,G,6BCrDrB,IAAI0B,EADJzF,EAAQsB,YAAa,EAErB,SAAWmE,GACPA,EAAiBA,EAA6B,WAAI,GAAK,aACvDA,EAAiBA,EAA+B,aAAI,GAAK,eAF7D,CAGGA,IAAqBA,EAAmB,KAC3CzF,EAAiB,QAAIyF,G,6BCNrB,IAAIC,EAAavD,MAAQA,KAAKuD,WAAc,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAU/E,GAAS,IAAMgF,EAAKL,EAAUM,KAAKjF,IAAW,MAAOwC,GAAKsC,EAAOtC,IACpF,SAAS0C,EAASlF,GAAS,IAAMgF,EAAKL,EAAiB,MAAE3E,IAAW,MAAOwC,GAAKsC,EAAOtC,IACvF,SAASwC,EAAKtB,GAJlB,IAAe1D,EAIa0D,EAAOyB,KAAON,EAAQnB,EAAO1D,QAJ1CA,EAIyD0D,EAAO1D,MAJhDA,aAAiB0E,EAAI1E,EAAQ,IAAI0E,GAAE,SAAUG,GAAWA,EAAQ7E,OAIToF,KAAKL,EAAWG,GAClGF,GAAML,EAAYA,EAAU3C,MAAMwC,EAASC,GAAc,KAAKQ,YAGlEI,EAAerE,MAAQA,KAAKqE,aAAgB,SAAUb,EAASc,GAC/D,IAAsGC,EAAGC,EAAGvF,EAAGwF,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP3F,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAO4F,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAER,KAAMc,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXjG,SAA0B2F,EAAE3F,OAAOkG,UAAY,WAAa,OAAOhF,OAAUyE,EACvJ,SAASM,EAAKvF,GAAK,OAAO,SAAU+C,GAAK,OACzC,SAAc0C,GACV,GAAIV,EAAG,MAAM,IAAIW,UAAU,mCAC3B,KAAOR,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAMvF,EAAY,EAARgG,EAAG,GAAST,EAAU,OAAIS,EAAG,GAAKT,EAAS,SAAOvF,EAAIuF,EAAU,SAAMvF,EAAEf,KAAKsG,GAAI,GAAKA,EAAEP,SAAWhF,EAAIA,EAAEf,KAAKsG,EAAGS,EAAG,KAAKd,KAAM,OAAOlF,EAE3J,OADIuF,EAAI,EAAGvF,IAAGgG,EAAK,CAAS,EAARA,EAAG,GAAQhG,EAAED,QACzBiG,EAAG,IACP,KAAK,EAAG,KAAK,EAAGhG,EAAIgG,EAAI,MACxB,KAAK,EAAc,OAAXP,EAAEC,QAAgB,CAAE3F,MAAOiG,EAAG,GAAId,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIS,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKP,EAAEI,IAAIK,MAAOT,EAAEG,KAAKM,MAAO,SACxC,QACI,KAAMlG,EAAIyF,EAAEG,MAAM5F,EAAIA,EAAEkB,OAAS,GAAKlB,EAAEA,EAAEkB,OAAS,KAAkB,IAAV8E,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEP,EAAI,EAAG,SACjG,GAAc,IAAVO,EAAG,MAAchG,GAAMgG,EAAG,GAAKhG,EAAE,IAAMgG,EAAG,GAAKhG,EAAE,IAAM,CAAEyF,EAAEC,MAAQM,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYP,EAAEC,MAAQ1F,EAAE,GAAI,CAAEyF,EAAEC,MAAQ1F,EAAE,GAAIA,EAAIgG,EAAI,MAC7D,GAAIhG,GAAKyF,EAAEC,MAAQ1F,EAAE,GAAI,CAAEyF,EAAEC,MAAQ1F,EAAE,GAAIyF,EAAEI,IAAIM,KAAKH,GAAK,MACvDhG,EAAE,IAAIyF,EAAEI,IAAIK,MAChBT,EAAEG,KAAKM,MAAO,SAEtBF,EAAKX,EAAKpG,KAAKsF,EAASkB,GAC1B,MAAOlD,GAAKyD,EAAK,CAAC,EAAGzD,GAAIgD,EAAI,EAAK,QAAUD,EAAItF,EAAI,EACtD,GAAY,EAARgG,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEjG,MAAOiG,EAAG,GAAKA,EAAG,QAAK,EAAQd,MAAM,GArB9BH,CAAK,CAACxE,EAAG+C,OAwB7D1E,EAAQsB,YAAa,EACrBtB,EAAQwH,SAAWxH,EAAQyH,OAASzH,EAAQ0H,SAAW1H,EAAQ2H,SAAW3H,EAAQ4H,MAAQ5H,EAAQ6H,WAAQ,EAC1G,IAkBIA,EASAC,EA3BAC,EAAW,EAAQ,GACnBC,EAAe,EAAQ,GACvBC,EAAc,EAAQ,GACtBC,EAAe,EAAQ,GACvBC,EAAc,EAAQ,IACtBC,EAAgB,EAAQ,IACxBC,EAAkB,EAAQ,IAC1BC,EAAY,EAAQ,IACpBC,EAAU,EAAQ,GAClBC,EAAY,EAAQ,IACpBC,EAAkB,EAAQ,IAC1BC,EAAqB,EAAQ,GAC7BC,EAAoB,EAAQ,IAC5BC,EAA0B,EAAQ,IAClCC,EAAsB,EAAQ,IAG9BC,GAAqB,GAEzB,SAAWjB,GACPA,EAAMA,EAAY,KAAI,GAAK,OAC3BA,EAAMA,EAAkB,WAAI,GAAK,aACjCA,EAAMA,EAAiB,UAAI,GAAK,YAChCA,EAAMA,EAAoB,aAAI,GAAK,eACnCA,EAAMA,EAAgB,SAAI,GAAK,WAC/BA,EAAMA,EAAc,OAAI,GAAK,SANjC,CAOGA,EAAQ7H,EAAQ6H,QAAU7H,EAAQ6H,MAAQ,KAE7C,SAAWC,GACPA,EAASA,EAAiB,OAAI,KAAQ,SACtCA,EAASA,EAAsB,YAAI,GAAK,cAF5C,CAGGA,IAAaA,EAAW,KAC3B9H,EAAQ4H,MAAQ,SAAUmB,EAAQC,GAE9B,YADa,IAATA,IAAmBA,EAAOlB,EAASmB,QAChCvD,OAAU,OAAQ,OAAQ,GAAQ,WACrC,OAAOc,EAAYrE,MAAM,SAAU+G,GAC/B,MAAO,CAAC,EAAc,IAAInD,SAAQ,SAAUC,EAASa,GAC7CsC,YAAW,WACPnD,MACD+C,EAASC,cAKhC,IAAIrB,EAA0B,WAC1B,SAASA,IACLxF,KAAKiH,IAAM,GACXjH,KAAKkH,QAAU,EACflH,KAAKmH,WAAa,EAClBnH,KAAKoH,UAAY,KACjBpH,KAAKqH,MAAQ3B,EAAM4B,KAGnBtH,KAAKuH,QAAU,wBAypCnB,OAvpCA/B,EAAS7F,UAAU6H,eAAiB,WAChC,OAAO,IAAIvB,EAAcwB,YAAYzH,KAAK0H,MAAO1H,KAAKmH,WAAYnH,KAAK2H,OAE3EnC,EAAS7F,UAAUiI,OAAS,WACxB,OAAO5H,KAAKqH,OAAS3B,EAAMmC,WAE/BrC,EAAS7F,UAAUmI,iBAAmB,WAClC,OAAO,IAAI5B,EAAgB6B,cAAc/H,KAAK0H,MAAO1H,KAAKgI,OAAQhI,KAAKiI,WAE3EzC,EAAS7F,UAAUuI,KAAO,SAAUR,EAAOM,EAAQC,EAAUb,EAAWe,GACpE,OAAO5E,EAAUvD,UAAM,OAAQ,GAAQ,WACnC,IAAIoI,EAAWC,EAAMC,EAAIC,EAAMC,EAAKzB,EAAI0B,EAASC,EAAKC,EAClDC,EAAQ5I,KACZ,OAAOqE,EAAYrE,MAAM,SAAU6I,GAC/B,OAAQA,EAAGlE,OACP,KAAK,EASD,OARAyD,EAAOpI,MACF0H,MAAQA,EACbU,EAAKhB,UAAYA,EACjBgB,EAAKT,KAAO5B,EAAsB,QAAE+C,gBAAgBC,OACpDX,EAAKY,WAAanL,EAAQyH,OAAO8C,EAAKT,MACtCS,EAAKJ,OAASA,EACdhI,KAAKiI,SAAWA,EAChBjI,KAAKgJ,WAAaZ,EAAKY,WAClB5C,EAAiB,QAAEtD,QAAQ9C,KAAKiH,MACrCrB,EAAkB,QAAElF,KAAK,UAElB,CAAC,EADF,IAAIyF,EAAmB,QAAEnG,KAAKuH,SACXrJ,KAAK,cAAe,GAAI,CACzCiJ,WAAYnH,KAAKmH,WACjBO,MAAO1H,KAAK0H,MACZM,OAAQhI,KAAKgI,WAN6B,CAAC,EAAa,GAUpE,KAAK,EAGD,IAFAK,EAAOQ,EAAGjE,QAEDqE,WAEL,OADArD,EAAkB,QAAElF,KAAK,iBAClB,CAAC,GAEZ4H,EAAKD,EAAKa,KAAKZ,GACfC,EAAOF,EAAKa,KAAKX,KACjBvI,KAAKiH,IAAM,QAAUqB,EAAK,IAAMC,EAAO,MACvCM,EAAGlE,MAAQ,EACf,KAAK,EAED,OADA6D,EAAM,IAAI1C,EAAYqD,UAAUf,EAAKV,MAAOU,EAAKJ,OAAQ,GAClD,CAAC,EAAanK,EAAQ0H,SAAS6C,EAAKnB,IAAKuB,EAAKJ,IACzD,KAAK,EAqTD,OApTArB,EAAK8B,EAAGjE,OAAQ6D,EAAU1B,EAAG0B,QAASC,EAAM3B,EAAG2B,IAAKC,EAAO5B,EAAG4B,KAC1DF,GACK9B,IACDA,GAAqB,GAGzBgC,EAAKS,QAAU,SAAU/H,GACrBuE,EAAkB,QAAElF,KAAK,oBAAqBW,GAEe,mBAAlDxD,EAAQwH,SAAS+B,UAAUiC,oBAClCxL,EAAQwH,SAAS+B,UAAUiC,mBAAmBhI,GAGlDuH,EAAMU,aAAajI,EAAOmH,IAE9BG,EAAKY,QAAU,SAAU/H,GACrBoE,EAAkB,QAAElF,KAAK,wBACrB0H,EAAKf,OAAS3B,EAAM8D,UAKqC,mBAAlD3L,EAAQwH,SAAS+B,UAAUqC,oBAClC5L,EAAQwH,SAAS+B,UAAUqC,qBAG/Bb,EAAMU,aAAa,IAAI7H,MAAMD,EAAEkI,QAASlB,IARpCI,EAAMW,QAAQ,WAUtBZ,EAAKgB,UAAY,SAAUC,GACvB,IAAIC,EAAU,IAAIhE,EAAsB,QAAE+D,EAAIV,MAC1CY,EAAaD,EAAQE,QAAQA,QAAQC,SACrCC,EAAUH,EAAW,GACrBI,EAAUJ,EAAW,GAErBK,EADSN,EAAQO,QAAQ,KAAMF,GAASF,SACvB,GACrBjJ,QAAQsJ,IAAI,cAAgBF,GACxBF,IAAY5D,EAAUiE,eAAeC,QAEkB,mBAA5C1M,EAAQwH,SAAS+B,UAAUoD,cAClC3M,EAAQwH,SAAS+B,UAAUoD,aAAaL,GAGvCF,IAAY5D,EAAUiE,eAAeG,QAEa,mBAA5C5M,EAAQwH,SAAS+B,UAAUsD,cAClC7M,EAAQwH,SAAS+B,UAAUsD,aAAaP,GAGvCF,IAAY5D,EAAUiE,eAAeK,gBAEoB,mBAAnD9M,EAAQwH,SAAS+B,UAAUwD,qBAClC/M,EAAQwH,SAAS+B,UAAUwD,oBAAoBT,GAG9CF,IAAY5D,EAAUiE,eAAeO,kBAEsB,mBAArDhN,EAAQwH,SAAS+B,UAAU0D,uBAClCjN,EAAQwH,SAAS+B,UAAU0D,sBAAsBX,GAGhDF,IAAY5D,EAAUiE,eAAeS,mBAEuB,mBAAtDlN,EAAQwH,SAAS+B,UAAU4D,wBAClCnN,EAAQwH,SAAS+B,UAAU4D,uBAAuBb,GAGjDF,IAAY5D,EAAUiE,eAAeW,kBAEsB,mBAArDpN,EAAQwH,SAAS+B,UAAU8D,uBAClCrN,EAAQwH,SAAS+B,UAAU8D,sBAAsBf,GAGhDF,IAAY5D,EAAUiE,eAAea,eAEmB,mBAAlDtN,EAAQwH,SAAS+B,UAAUgE,oBAClCvN,EAAQwH,SAAS+B,UAAUgE,mBAAmBjB,GAG7CF,IAAY5D,EAAUgF,uBAAuBC,WAEI,mBAA3CzN,EAAQwH,SAAS+B,UAAUmE,aAClC1N,EAAQwH,SAAS+B,UAAUmE,YAAYpB,GAGtCF,IAAY5D,EAAUgF,uBAAuBG,cAEO,mBAA9C3N,EAAQwH,SAAS+B,UAAUqE,gBAClC5N,EAAQwH,SAAS+B,UAAUqE,eAAetB,GAGzCF,IAAY5D,EAAUgF,uBAAuBK,cAEO,mBAA9C7N,EAAQwH,SAAS+B,UAAUuE,gBAClC9N,EAAQwH,SAAS+B,UAAUuE,eAAexB,GAGzCF,IAAY5D,EAAUgF,uBAAuBO,eAEQ,mBAA/C/N,EAAQwH,SAAS+B,UAAUyE,iBAClChO,EAAQwH,SAAS+B,UAAUyE,gBAAgB1B,GAG1CF,IAAY5D,EAAUgF,uBAAuBS,oBAEY,mBAAnDjO,EAAQwH,SAAS+B,UAAU2E,qBAClClO,EAAQwH,SAAS+B,UAAU2E,oBAAoB5B,GAG9CF,IAAY5D,EAAUgF,uBAAuBW,uBACe,mBAAtDnO,EAAQwH,SAAS+B,UAAU6E,wBAClCpO,EAAQwH,SAAS+B,UAAU6E,uBAAuB9B,GAGjDF,IAAY5D,EAAUgF,uBAAuBa,iBAEM,mBAA7CrO,EAAQwH,SAAS+B,UAAU+E,eAClCtO,EAAQwH,SAAS+B,UAAU+E,cAAchC,GAGxCF,IAAY5D,EAAUgF,uBAAuBe,oBAEY,mBAAnDvO,EAAQwH,SAAS+B,UAAUiF,qBAClCxO,EAAQwH,SAAS+B,UAAUiF,oBAAoBlC,GAG9CF,IAAY5D,EAAUgF,uBAAuBiB,iBAES,mBAAhDzO,EAAQwH,SAAS+B,UAAUmF,kBAClC1O,EAAQwH,SAAS+B,UAAUmF,iBAAiBpC,GAG3CF,IAAY5D,EAAUgF,uBAAuBmB,oBAEY,mBAAnD3O,EAAQwH,SAAS+B,UAAUqF,qBAClC5O,EAAQwH,SAAS+B,UAAUqF,oBAAoBtC,GAG9CF,IAAY5D,EAAUgF,uBAAuBqB,wBAEe,mBAAtD7O,EAAQwH,SAAS+B,UAAUuF,wBAClC9O,EAAQwH,SAAS+B,UAAUuF,uBAAuBxC,GAGjDF,IAAY5D,EAAUgF,uBAAuBuB,2BAEkB,mBAAzD/O,EAAQwH,SAAS+B,UAAUyF,2BAClChP,EAAQwH,SAAS+B,UAAUyF,0BAA0B1C,GAGpDF,IAAY5D,EAAUgF,uBAAuByB,kBAEU,mBAAjDjP,EAAQwH,SAAS+B,UAAU2F,mBAClClP,EAAQwH,SAAS+B,UAAU2F,kBAAkB5C,GAG5CF,IAAY5D,EAAU2G,kBAAkBC,WAES,mBAA3CpP,EAAQwH,SAAS+B,UAAU8F,aAClCrP,EAAQwH,SAAS+B,UAAU8F,YAAY/C,GAGtCF,IAAY5D,EAAU2G,kBAAkBG,aAEc,mBAAhDtP,EAAQwH,SAAS+B,UAAUgG,kBAClCvP,EAAQwH,SAAS+B,UAAUgG,iBAAiBjD,GAG3CF,IAAY5D,EAAU2G,kBAAkBK,cAEW,mBAA7CxP,EAAQwH,SAAS+B,UAAUkG,eAClCzP,EAAQwH,SAAS+B,UAAUkG,cAAcnD,GAGxCF,IAAY5D,EAAU2G,kBAAkBO,cAEW,mBAA7C1P,EAAQwH,SAAS+B,UAAUoG,eAClC3P,EAAQwH,SAAS+B,UAAUoG,cAAcrD,GAGxCF,IAAY5D,EAAU2G,kBAAkBS,WAES,mBAA3C5P,EAAQwH,SAAS+B,UAAUsG,aAClC7P,EAAQwH,SAAS+B,UAAUsG,YAAYvD,GAGtCF,IAAY5D,EAAU2G,kBAAkBW,eAEiB,mBAAnD9P,EAAQwH,SAAS+B,UAAUwG,qBAClC/P,EAAQwH,SAAS+B,UAAUwG,oBAAoBzD,GAG9CF,IAAY5D,EAAU2G,kBAAkBa,eAEiB,mBAAnDhQ,EAAQwH,SAAS+B,UAAU0G,qBAClCjQ,EAAQwH,SAAS+B,UAAU0G,oBAAoB3D,GAG9CF,IAAY5D,EAAU2G,kBAAkBe,cAEY,mBAA9ClQ,EAAQwH,SAAS+B,UAAU4G,gBAClCnQ,EAAQwH,SAAS+B,UAAU4G,eAAe7D,GAGzCF,IAAY5D,EAAU2G,kBAAkBiB,eAEa,mBAA/CpQ,EAAQwH,SAAS+B,UAAU8G,iBAClCrQ,EAAQwH,SAAS+B,UAAU8G,gBAAgB/D,GAG1CF,IAAY5D,EAAU2G,kBAAkBmB,WAES,mBAA3CtQ,EAAQwH,SAAS+B,UAAUgH,aAClCvQ,EAAQwH,SAAS+B,UAAUgH,YAAYjE,GAGtCF,IAAY5D,EAAU2G,kBAAkBqB,mBAEe,mBAAjDxQ,EAAQwH,SAAS+B,UAAUkH,mBAClCzQ,EAAQwH,SAAS+B,UAAUkH,kBAAkBnE,GAG5CF,IAAY5D,EAAU2G,kBAAkBuB,sBAEmB,mBAArD1Q,EAAQwH,SAAS+B,UAAUoH,uBAClC3Q,EAAQwH,SAAS+B,UAAUoH,sBAAsBrE,GAGhDF,IAAY5D,EAAU2G,kBAAkByB,mBAEgB,mBAAlD5Q,EAAQwH,SAAS+B,UAAUsH,oBAClC7Q,EAAQwH,SAAS+B,UAAUsH,mBAAmBvE,GAG7CF,IAAY5D,EAAU2G,kBAAkB2B,UAEY,mBAA9C9Q,EAAQwH,SAAS+B,UAAUwH,gBAClC/Q,EAAQwH,SAAS+B,UAAUwH,eAAezE,GAGzCF,IAAY5D,EAAU2G,kBAAkB6B,wBAEwB,mBAA1DhR,EAAQwH,SAAS+B,UAAU0H,4BAClCjR,EAAQwH,SAAS+B,UAAU0H,2BAA2B3E,GAGrDF,IAAY5D,EAAU2G,kBAAkB+B,yBAEyB,mBAA3DlR,EAAQwH,SAAS+B,UAAU4H,6BAClCnR,EAAQwH,SAAS+B,UAAU4H,4BAA4B7E,GAGtDF,IAAY5D,EAAU2G,kBAAkBiC,cAEe,mBAAjDpR,EAAQwH,SAAS+B,UAAU8H,mBAClCrR,EAAQwH,SAAS+B,UAAU8H,kBAAkB/E,GAG5CF,IAAY5D,EAAU8I,iBAAiBC,YAEW,mBAA5CvR,EAAQwH,SAAS+B,UAAUiI,cAClCxR,EAAQwH,SAAS+B,UAAUiI,aAAalF,GAGvCF,IAAY5D,EAAU8I,iBAAiBG,iCAE6B,mBAA9DzR,EAAQwH,SAAS+B,UAAUmI,gCAClC1R,EAAQwH,SAAS+B,UAAUmI,+BAA+BpF,GAGzDF,IAAY5D,EAAU8I,iBAAiBK,sCAEiC,mBAAlE3R,EAAQwH,SAAS+B,UAAUqI,oCAClC5R,EAAQwH,SAAS+B,UAAUqI,mCAAmCtF,GAG7DF,IAAY5D,EAAU8I,iBAAiBO,iCAE6B,mBAA9D7R,EAAQwH,SAAS+B,UAAUuI,gCAClC9R,EAAQwH,SAAS+B,UAAUuI,+BAA+BxF,GAGzDF,IAAY5D,EAAUuJ,yBAAyBC,oBAEW,mBAApDhS,EAAQwH,SAAS+B,UAAU0I,sBAClCjS,EAAQwH,SAAS+B,UAAU0I,qBAAqB3F,GAG/CF,IAAY5D,EAAUuJ,yBAAyBG,qBAEW,mBAApDlS,EAAQwH,SAAS+B,UAAU4I,sBAClCnS,EAAQwH,SAAS+B,UAAU4I,qBAAqB7F,IAI5DnK,KAAK2I,KAAOA,EACZ3I,KAAKqH,MAAQ3B,EAAMmC,UAInB7H,KAAKiQ,cAAcjQ,KAAK2I,MAC0B,mBAAvC9K,EAAQwH,SAAS+B,UAAU8I,SAClCrS,EAAQwH,SAAS+B,UAAU8I,QAAQlQ,KAAKgI,QAE5CG,EAASC,IAGTxC,EAAkB,QAAEvE,MAAMqH,aAAiC,EAASA,EAAI/H,SAErE,CAAC,WAK5B6E,EAAS7F,UAAUwQ,iBAAmB,SAAUlG,EAASmG,GACrD,IAAIC,EAAWtO,KAAKE,UAAUmO,GAC1BlG,EAAUrM,EAAQyH,OAAO+K,GACzBC,EAAO,IAAIzK,EAAsB,QAAE,KAAM,GAQ7C,OAPAyK,EAAKvG,MAAME,GAASF,MAAM/J,KAAKkH,SAAS6C,MAAM/J,KAAKmH,YAC9C4C,MAAM,GACNA,MAAM/J,KAAK0H,OACXqC,MAAM/J,KAAKgJ,YACXe,MAAMG,GACNE,QAAQpK,KAAK2H,KAAM3H,KAAKgJ,YACxBoB,QAAQiG,EAAUnG,GAChBoG,GAGX9K,EAAS7F,UAAU2J,aAAe,SAAUjI,EAAOmH,GAC/C,OAAOjF,EAAUvD,UAAM,OAAQ,GAAQ,WACnC,IAAIuQ,EAAOxJ,EAAI0B,EAASC,EAAW8H,EACnC,OAAOnM,EAAYrE,MAAM,SAAU6I,GAC/B,OAAQA,EAAGlE,OACP,KAAK,EAGD,GAAI3E,KAAKqH,OAAS3B,EAAM+K,QAAUzQ,KAAKqH,OAAS3B,EAAM8D,SAClD,MAAO,CAAC,GAEZxJ,KAAKqH,MAAQ3B,EAAMgL,aAC8C,mBAAtD7S,EAAQwH,SAAS+B,UAAUuJ,wBAClC9S,EAAQwH,SAAS+B,UAAUuJ,yBAE/BJ,EAAQ,EACR1H,EAAGlE,MAAQ,EACf,KAAK,EACD,OAAM4L,EAAQ,GACP,CAAC,EAAa1S,EAAQ4H,MAAM,IADT,CAAC,EAAa,GAE5C,KAAK,EACDoD,EAAGjE,OACHiE,EAAGlE,MAAQ,EACf,KAAK,EAGD,OAFAkE,EAAGhE,KAAKO,KAAK,CAAC,EAAG,EAAG,CAAE,IACtBQ,EAAkB,QAAElF,KAAK,kBAClB,CAAC,EAAa7C,EAAQ0H,SAASvF,KAAKiH,IAAKuB,EAAKxI,OACzD,KAAK,EAED,OADA+G,EAAK8B,EAAGjE,OAAQ6D,EAAU1B,EAAG0B,QAASC,EAAM3B,EAAG2B,IAAY3B,EAAG4B,KAC1DF,GACwE,mBAA7D5K,EAAQwH,SAAS+B,UAAUwJ,+BAClC/S,EAAQwH,SAAS+B,UAAUwJ,gCAExB,CAAC,KAEZhL,EAAkB,QAAElF,KAAKgI,GAClB,CAAC,EAAa,IACzB,KAAK,EAGD,OAFA8H,EAAU3H,EAAGjE,OACbgB,EAAkB,QAAElF,KAAK8P,GAClB,CAAC,EAAa,GACzB,KAAK,EAED,OADAD,IACO,CAAC,EAAa,GACzB,KAAK,EAED,OADAvQ,KAAKuJ,QAAQ,qBACN,CAAC,WAM5B/D,EAAS7F,UAAU4J,QAAU,SAAUG,GAC/B1J,KAAKqH,OAAS3B,EAAM+K,SAGxBzQ,KAAKqH,MAAQ3B,EAAM+K,OACnB7K,EAAkB,QAAElF,KAAK,4BAA8BgJ,GACvD1J,KAAK2I,UAAOjH,EACZ1B,KAAKgI,OAAS,GAE+C,mBAAlDnK,EAAQwH,SAAS+B,UAAUiC,oBAClCxL,EAAQwH,SAAS+B,UAAUqC,uBAMnCjE,EAAS7F,UAAUkR,kBAAoB,WACnC,IAAIjI,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,0BAA2B0K,EAAMd,mBAAoB,CACrEE,OAAQY,EAAMZ,cAK1BxC,EAAS7F,UAAUmR,YAAc,SAAUC,GACvC,IAAInI,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,oBAAqB0K,EAAMd,mBAAoB,CAAEiJ,QAASA,SAItFvL,EAAS7F,UAAUqR,eAAiB,SAAUC,GAC1C,IAAIrI,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,uBAAwB0K,EAAMd,mBAAoBmJ,QAI9EzL,EAAS7F,UAAUuR,gBAAkB,WACjC,IAAItI,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,wBAAyB0K,EAAMd,mBAAoB,CAAEE,OAAQY,EAAMZ,cAI/FxC,EAAS7F,UAAUwR,0BAA4B,SAAUC,EAASC,GAC9D,IAAIzI,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,kCAAmC0K,EAAMd,mBAAoB,CAC7EsJ,QAASA,EACTC,UAAWA,SAKvB7L,EAAS7F,UAAU2R,sBAAwB,SAAUC,EAAYC,GAC7D,IAAI5I,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,8BAA+B0K,EAAMd,mBAAoB,CACzEE,OAAQY,EAAMZ,OACduJ,WAAYA,EACZC,aAAcA,SAK1BhM,EAAS7F,UAAU8R,sBAAwB,SAAUC,GACjD,IAAI9I,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,8BAA+B0K,EAAMd,mBAAoB,CACzE4J,SAAUA,EACVvK,WAAYyB,EAAMzB,WAClBQ,KAAMiB,EAAMjB,YAKxBnC,EAAS7F,UAAUgS,wBAA0B,WACzC,IAAI/I,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,gCAAiC0K,EAAMd,mBAAoB,CAC3EX,WAAYyB,EAAMzB,WAClBQ,KAAMiB,EAAMjB,YAQxBnC,EAAS7F,UAAUiS,UAAY,SAAUC,GACrC,IAAIjJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,kBAAmB0K,EAAMd,mBAAoB,CAAEgK,OAAQlJ,EAAMZ,OAAQ6J,OAAQA,SAIzGrM,EAAS7F,UAAUoS,aAAe,SAAUF,GACxC,IAAIjJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAAEgK,OAAQlJ,EAAMZ,OAAQ6J,OAAQA,SAI5GrM,EAAS7F,UAAUqS,aAAe,SAAUC,GACxC,IAAIrJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAAEgK,OAAQlJ,EAAMZ,OAAQiK,KAAMA,SAI1GzM,EAAS7F,UAAUuS,gBAAkB,WACjC,IAAItJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,wBAAyB0K,EAAMd,mBAAoB,CACnEgK,OAAQlJ,EAAMZ,cAK1BxC,EAAS7F,UAAUwS,aAAe,WAC9B,IAAIvJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAAEgK,OAAQlJ,EAAMZ,cAI5FxC,EAAS7F,UAAUyS,YAAc,SAAUH,GACvC,IAAIrJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,0BAA2B0K,EAAMd,mBAAoB,CACrEgK,OAAQlJ,EAAMZ,OACdiK,KAAMA,SAKlBzM,EAAS7F,UAAU0S,iBAAmB,SAAUC,EAAWC,GACvD,IAAI3J,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAChEgK,OAAQlJ,EAAMZ,OACdsK,UAAWA,EACXC,MAAOA,SAKnB/M,EAAS7F,UAAU6S,YAAc,SAAUP,GACvC,IAAIrJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,oBAAqB0K,EAAMd,mBAAoB,CAAEgK,OAAQlJ,EAAMZ,OAAQiK,KAAMA,SAIzGzM,EAAS7F,UAAU8S,kBAAoB,SAAUR,GAC7C,IAAIrJ,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,0BAA2B0K,EAAMd,mBAAoB,CAAEgK,OAAQlJ,EAAMZ,OAAQiK,KAAMA,SAI/GzM,EAAS7F,UAAU+S,YAAc,SAAUJ,EAAWC,GAClD,IAAI3J,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,0BAA2B0K,EAAMd,mBAAoB,CACrEgK,OAAQlJ,EAAMZ,OACdsK,UAAWA,EACXC,MAAOA,SAKnB/M,EAAS7F,UAAUgT,yBAA2B,SAAUC,EAAIC,GACxD,IAAIjK,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,6BAA8B0K,EAAMd,mBAAoB,CACxE8K,GAAIA,EACJC,OAAQA,SAKpBrN,EAAS7F,UAAUmT,sBAAwB,WACvC,IAAIlK,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,0BAA2B0K,EAAMd,mBAAoB,CACrEE,OAAQY,EAAMZ,cAK1BxC,EAAS7F,UAAUoT,qBAAuB,WACtC,IAAInK,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,yBAA0B0K,EAAMd,mBAAoB,CACpEE,OAAQY,EAAMZ,cAK1BxC,EAAS7F,UAAUqT,mBAAqB,SAAUC,EAAWV,GACzD,IAAI3J,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,wBAAyB0K,EAAMd,mBAAoB,CACnEgK,OAAQlJ,EAAMZ,OACdiL,UAAWA,EACXV,MAAOA,SAKnB/M,EAAS7F,UAAUuT,sBAAwB,WACvC,IAAItK,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,2BAA4B0K,EAAMd,mBAAoB,CACtEgK,OAAQlJ,EAAMZ,cAK1BxC,EAAS7F,UAAUwT,sBAAwB,SAAUC,GACjD,IAAIxK,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,2BAA4B0K,EAAMd,mBAAoB,CACtEgK,OAAQlJ,EAAMZ,OACdoL,WAAYA,SAKxB5N,EAAS7F,UAAU0T,yBAA2B,SAAUJ,EAAWV,GAC/D,IAAI3J,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,+BAAgC0K,EAAMd,mBAAoB,CAC1EgK,OAAQlJ,EAAMZ,OACdiL,UAAWA,EACXV,MAAOA,SAKnB/M,EAAS7F,UAAU2T,4BAA8B,SAAUL,EAAWV,GAClE,IAAI3J,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,kCAAmC0K,EAAMd,mBAAoB,CAC7EgK,OAAQlJ,EAAMZ,OACdiL,UAAWA,EACXV,MAAOA,SAQnB/M,EAAS7F,UAAU4T,YAAc,SAAUC,GACvC,IAAI5K,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,gBAAiB0K,EAAMd,mBAAoB0L,QAIvEhO,EAAS7F,UAAU8T,YAAc,SAAUD,GACvC,IAAI5K,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAGlCb,EAFU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,gBAAiB0K,EAAMd,mBAAoB0L,QAIvEhO,EAAS7F,UAAU+T,eAAiB,SAAUC,EAAOC,GACjD,IAAIhL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,mBAAoB0K,EAAMd,mBAAoB,CAC9D+L,SAAUjL,EAAMZ,OAChB2L,MAAOA,EACPC,OAAQA,SAKpBpO,EAAS7F,UAAUmU,aAAe,SAAUC,GACxC,IAAInL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,iBAAkB0K,EAAMd,mBAAoB,CAC5DiM,QAASA,SAKrBvO,EAAS7F,UAAUqU,cAAgB,SAAUD,EAASE,GAClD,IAAIrL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,kBAAmB0K,EAAMd,mBAAoB,CAC7DiM,QAASA,EACTE,QAASA,SAKrBzO,EAAS7F,UAAUuU,aAAe,SAAUH,GACxC,IAAInL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,aAAc0K,EAAMd,mBAAoB,CACxDiM,QAASA,SAKrBvO,EAAS7F,UAAUwU,UAAY,SAAUJ,EAASK,GAC9C,IAAIxL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,cAAe0K,EAAMd,mBAAoB,CACzDiM,QAASA,EACTK,KAAMA,SAKlB5O,EAAS7F,UAAU0U,SAAW,SAAUC,GACpC,IAAI1L,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,aAAc0K,EAAMd,mBAAoB,CACxDgK,OAAQlJ,EAAMZ,OACdsM,UAAWA,SAKvB9O,EAAS7F,UAAU4U,eAAiB,SAAUR,EAASS,GACnD,IAAI5L,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,oBAAqB0K,EAAMd,mBAAoB,CAC/DiM,QAASA,EACT5M,WAAYyB,EAAMzB,WAClBqN,QAASA,SAKrBhP,EAAS7F,UAAU8U,kBAAoB,SAAUV,EAASF,GACtD,IAAIjL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,uBAAwB0K,EAAMd,mBAAoB,CAClEiM,QAASA,EACT5M,WAAYyB,EAAMzB,WAClB0M,SAAUA,SAKtBrO,EAAS7F,UAAU+U,UAAY,SAAUX,GACrC,IAAInL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAChEiM,QAASA,SAKrBvO,EAAS7F,UAAUgV,kBAAoB,SAAUZ,EAASF,EAAUe,GAChE,IAAIhM,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAQlCb,EAPU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,uBAAwB0K,EAAMd,mBAAoB,CAClEiM,QAASA,EACT5M,WAAYyB,EAAMzB,WAClB0M,SAAUA,EACVe,KAAMA,SAKlBpP,EAAS7F,UAAUkV,gBAAkB,SAAUd,EAASF,EAAUiB,GAC9D,IAAIlM,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAOlCb,EANU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,sBAAuB0K,EAAMd,mBAAoB,CACjEiM,QAASA,EACTF,SAAUA,EACViB,UAAWA,SAKvBtP,EAAS7F,UAAUoV,gBAAkB,SAAUT,GAC3C,IAAI1L,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAChEgK,OAAQlJ,EAAMZ,OACdsM,UAAWA,SAKvB9O,EAAS7F,UAAUqV,oBAAsB,SAAUpC,EAAIC,GACnD,IAAIjK,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,yBAA0B0K,EAAMd,mBAAoB,CACpE8K,GAAIA,EACJC,OAAQA,SAKpBrN,EAAS7F,UAAUsV,gBAAkB,SAAUlB,GAC3C,IAAInL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qBAAsB0K,EAAMd,mBAAoB,CAChEiM,QAASA,SAKrBvO,EAAS7F,UAAUuV,iBAAmB,SAAUnB,GAC5C,IAAInL,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAKlCb,EAJU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,sBAAuB0K,EAAMd,mBAAoB,CACjEiM,QAASA,SAQrBvO,EAAS7F,UAAUwV,mBAAqB,SAAUC,EAAgBC,EAAQC,GACtE,IAAI1M,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAUlCb,EATU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,mCAAoC0K,EAAMd,mBAAoB,CAC9EgK,OAAQlJ,EAAMZ,OACdb,WAAYyB,EAAMzB,WAClBQ,KAAMiB,EAAMjB,KACZyN,eAAgBA,EAChBC,OAAQA,EACRC,MAAOA,SAKnB9P,EAAS7F,UAAU4V,mBAAqB,SAAUH,GAC9C,IAAIxM,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAQlCb,EAPU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,mCAAoC0K,EAAMd,mBAAoB,CAC9EgK,OAAQlJ,EAAMZ,OACdb,WAAYyB,EAAMzB,WAClBQ,KAAMiB,EAAMjB,KACZyN,eAAgBA,SAQ5B5P,EAAS7F,UAAU6V,mBAAqB,SAAUC,EAAcC,GAC5D,IAAI9M,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,iCAAkC0K,EAAMd,mBAAoB,CAC5E2N,aAAcA,EACdC,SAAUA,SAKtBlQ,EAAS7F,UAAUgW,qBAAuB,SAAUF,EAAcC,GAC9D,IAAI9M,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,qCAAsC0K,EAAMd,mBAAoB,CAChF2N,aAAcA,EACdC,SAAUA,SAKtBlQ,EAAS7F,UAAUiW,gBAAkB,SAAUH,EAAcC,GACzD,IAAI9M,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,yBAA0B0K,EAAMd,mBAAoB,CACpE2N,aAAcA,EACdC,SAAUA,SAKtBlQ,EAAS7F,UAAUkW,mBAAqB,SAAUJ,EAAcC,GAC5D,IAAI9M,EAAQ5I,KACZ,OAAO,IAAI4D,SAAQ,SAAUC,EAASa,GAMlCb,EALU,IAAIsC,EAAmB,QAAEyC,EAAMrB,SAC1BrJ,KAAK,8BAA+B0K,EAAMd,mBAAoB,CACzE2N,aAAcA,EACdC,SAAUA,SAMtBlQ,EAAS7F,UAAUsQ,cAAgB,SAAUtH,GACzC,IAAIC,EAAQ5I,KACR8V,EAAQ7U,KAAK8U,MACbC,EAAO,WACP,GAAIpN,EAAMvB,OAAS3B,EAAMmC,UAAzB,CAIA,GAAI5G,KAAK8U,MAAQD,GA3/BL,IA2/BiC,CACzClQ,EAAkB,QAAElF,KAAK,mBACzBoV,EAAQ7U,KAAK8U,MACb,IAAIE,EAAWpY,EAAQwH,SAAS8K,iBAAiB9J,EAAU6P,cAAcC,KAAM,IAC/ExN,EAAKyN,KAAKH,EAAS3F,MAAK,IAE5BtJ,WAAWgP,EAAM,UATbpQ,EAAkB,QAAEvE,MAAM,yBAWlC2F,WAAWgP,EAAM,MAGrBxQ,EAAS7F,UAAU0W,mBAAqB,SAAUC,GAC9C,IAAIC,EAAkB,IAAI/P,EAAkBgQ,gBAAgBxW,KAAKgI,OAAQsO,EAAa/P,EAA4B,QAAEkQ,YAChHC,EAAsB7Y,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeqM,WAAYJ,GAC7FvW,KAAK2I,MACL3I,KAAK2I,KAAKyN,KAAKM,EAAoBpG,MAAK,KAGhD9K,EAAS7F,UAAUiX,qBAAuB,SAAUN,GAChD,IAAIC,EAAkB,IAAI/P,EAAkBgQ,gBAAgBxW,KAAKgI,OAAQsO,EAAa/P,EAA4B,QAAEsQ,cAChHH,EAAsB7Y,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB8J,iBAAkBP,GACtGvW,KAAK2I,MACL3I,KAAK2I,KAAKyN,KAAKM,EAAoBpG,MAAK,KAIhD9K,EAAS7F,UAAUoX,sBAAwB,SAAUT,GACjD,IAAIU,EAAwB,IAAIvQ,EAAwBwQ,sBAAsBjX,KAAKgI,OAAQsO,GACvFS,EAAwBlZ,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeK,gBAAiBqM,GACpGhX,KAAK2I,MACL3I,KAAK2I,KAAKyN,KAAKW,EAAsBzG,MAAK,KAIlD9K,EAAS7F,UAAUuX,qBAAuB,SAAUZ,GAChD,IAAIa,EAAoB,IAAIzQ,EAAoB0Q,kBAAkBpX,KAAKgI,OAAQsO,EAAa/P,EAA4B,QAAEkQ,YACtHY,EAAoBxZ,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAegN,WAAYH,GAC3FnX,KAAK2I,MACL3I,KAAK2I,KAAKyN,KAAKiB,EAAkB/G,MAAK,KAG9C9K,EAAS7F,UAAU4X,uBAAyB,SAAUjB,GAClD,IAAIa,EAAoB,IAAIzQ,EAAoB0Q,kBAAkBpX,KAAKgI,OAAQsO,EAAa/P,EAA4B,QAAEsQ,cACtHQ,EAAoBxZ,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAegN,WAAYH,GAC3FnX,KAAK2I,MACL3I,KAAK2I,KAAKyN,KAAKiB,EAAkB/G,MAAK,KAI9C9K,EAAS7F,UAAU6X,mBAAqB,SAAU3V,EAAI4V,GAClD,IAAInH,EAAOhK,EAAgBoR,kBAAkB1X,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAI4V,EAAMlR,EAA4B,QAAEkQ,YAC1GkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAIlF,OAHItQ,KAAK2I,MACL3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IAEzBA,GAGX9K,EAAS7F,UAAUiY,oBAAsB,SAAU/V,EAAIgW,GACnD,IAAIvH,EAAOhK,EAAgBwR,mBAAmB9X,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIgW,EAAOtR,EAA4B,QAAEkQ,YAC5GkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUoY,oBAAsB,SAAUlW,EAAImW,GACnD,IAAI1H,EAAOhK,EAAgB2R,mBAAmBjY,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAImW,EAAOzR,EAA4B,QAAEkQ,YAC5GkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUuY,oBAAsB,SAAUrW,EAAIsW,GACnD,IAAI7H,EAAOhK,EAAgB8R,mBAAmBpY,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIsW,EAAO5R,EAA4B,QAAEkQ,YAC5GkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU0Y,oBAAsB,SAAUxW,EAAIyW,GACnD,IAAIhI,EAAOhK,EAAgBiS,mBAAmBvY,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIyW,EAAO/R,EAA4B,QAAEkQ,YAC5GkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU6Y,mBAAqB,SAAU3W,EAAI4W,GAClD,IAAInI,EAAOhK,EAAgBoS,kBAAkB1Y,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAI4W,EAAMlS,EAA4B,QAAEkQ,YAC1GkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUgZ,uBAAyB,SAAU9W,EAAI+W,GACtD,IAAItI,EAAOhK,EAAgBuS,sBAAsB7Y,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAI+W,EAAUrS,EAA4B,QAAEkQ,YAClHkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUmZ,uBAAyB,SAAUjX,EAAIkX,EAAMC,GAC5D,IAAI1I,EAAOhK,EAAgB2S,sBAAsBjZ,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIkX,EAAMC,EAAQzS,EAA4B,QAAEkQ,YACtHkB,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAUiE,eAAeC,QAAS+F,GAClF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUuZ,qBAAuB,SAAUrX,EAAI4V,GACpD,IAAInH,EAAOhK,EAAgBoR,kBAAkB1X,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAI4V,EAAMlR,EAA4B,QAAEsQ,cAC1Gc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUwZ,sBAAwB,SAAUtX,EAAIgW,GACrD,IAAIvH,EAAOhK,EAAgBwR,mBAAmB9X,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIgW,EAAOtR,EAA4B,QAAEsQ,cAC5Gc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAUyZ,sBAAwB,SAAUvX,EAAImW,GACrD,IAAI1H,EAAOhK,EAAgB2R,mBAAmBjY,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAImW,EAAOzR,EAA4B,QAAEsQ,cAC5Gc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU0Z,sBAAwB,SAAUxX,EAAIsW,GACrD,IAAI7H,EAAOhK,EAAgB8R,mBAAmBpY,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIsW,EAAO5R,EAA4B,QAAEsQ,cAC5Gc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU2Z,sBAAwB,SAAUzX,EAAIyW,GACrD,IAAIhI,EAAOhK,EAAgBiS,mBAAmBvY,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIyW,EAAO/R,EAA4B,QAAEsQ,cAC5Gc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU4Z,qBAAuB,SAAU1X,EAAI4W,GACpD,IAAInI,EAAOhK,EAAgBoS,kBAAkB1Y,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAI4W,EAAMlS,EAA4B,QAAEsQ,cAC1Gc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU6Z,yBAA2B,SAAU3X,EAAI+W,GACxD,IAAItI,EAAOhK,EAAgBuS,sBAAsB7Y,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAI+W,EAAUrS,EAA4B,QAAEsQ,cAClHc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAIf9K,EAAS7F,UAAU8Z,yBAA2B,SAAU5X,EAAIkX,EAAMC,GAC9D,IAAI1I,EAAOhK,EAAgB2S,sBAAsBjZ,KAAK0H,MAAO1H,KAAKgI,OAAQnG,EAAIkX,EAAMC,EAAQzS,EAA4B,QAAEsQ,cACtHc,EAAU9Z,EAAQwH,SAAS8K,iBAAiB9J,EAAU2G,kBAAkB2B,UAAW2B,GACvF,GAAItQ,KAAK2I,KAEL,OADA3I,KAAK2I,KAAKyN,KAAKuB,EAAQrH,MAAK,IACrBA,GAGf9K,EAAS7F,UAAU+Z,UAAY,WAC3B,OAAO1Z,KAAKgI,QAETxC,EAlqCkB,GAoqC7B3H,EAAQ2H,SAAWA,EACnB3H,EAAQ0H,SAAW,SAAU0B,EAAKuB,EAAKnD,GAAY,OAAO9B,OAAU,OAAQ,OAAQ,GAAQ,WACxF,OAAOc,EAAYrE,MAAM,SAAU+G,GAC/B,MAAO,CAAC,EAAc,IAAInD,SAAQ,SAAUC,EAASa,GAC7C,IAAIiE,EAAO,IAAI3C,EAAY2T,aAAa1S,GACxC0B,EAAKiR,WAAa,cAClBhU,EAAkB,QAAElF,KAAK,YAEzB,IAAImZ,EAAK7S,YAAW,WAChB8S,aAAaD,GACbhW,EAAQ,CAAE4E,SAAS,EAAOC,IAAK,IAAIjH,MAAM,WAAYkH,KAAMA,MA3sC5D,KA6sCHA,EAAKoR,OAAS,WACV,GAAIpR,EAAKqR,YAAchU,EAAY2T,aAAaM,KAAM,CAEK,mBAA5C5U,EAAS+B,UAAU8S,sBAC1B7U,EAAS+B,UAAU8S,qBAAqBjT,EAAKuB,GAEjD5C,EAAkB,QAAElF,KAAK,QAEzB,IAAIwI,EAAO,CACP,OAAUV,EAAIR,QAEdmS,EAAY9U,EAAS8K,iBAAiB9J,EAAU6P,cAAckE,MAAOlR,GACzEP,EAAKyN,KAAK+D,EAAU7J,MAAK,MAGjC3H,EAAKS,QAAU,SAAU/H,GACrByY,aAAaD,GACbjU,EAAkB,QAAEvE,MAAMA,GAC1BwC,EAAQ,CAAE4E,SAAS,EAAOC,IAAKrH,EAAOsH,KAAMA,KAEhDA,EAAKgB,UAAY,SAAUC,GACvB,GAAwB,iBAAbA,EAAIV,KAAf,CAIA4Q,aAAaD,GACb,IACI/P,EADU,IAAIjE,EAAsB,QAAE+D,EAAIV,MACrBa,QAAQA,QAAQC,SACrCC,EAAUH,EAAW,GACXA,EAAW,GACrBG,GAAW5D,EAAU6P,cAAcmE,WACnCxW,EAAQ,CAAE4E,SAAS,EAAME,KAAMA,SAT/B/C,EAAkB,QAAElF,KAAK,cAAgBkJ,EAAIV,KAAO,iBAe5ErL,EAAQyH,OAAS,SAAUvC,GAEvB,IADA,IAAIuX,EAAM,EACDvc,EAAI,EAAGA,EAAIgF,EAAI5C,OAAQpC,IAAK,CACjC,IAAIK,EAAI2E,EAAIwX,WAAWxc,GAElBK,GAAK,GAAUA,GAAK,KAAY,OAAUA,GAAKA,GAAK,MACrDkc,IAGAA,GAAO,EAGf,OAAOA,GAEXzc,EAAQwH,SAAW,IAAIG,G,8BCtzCvB,YACA3H,EAAQsB,YAAa,EACrB,IAAIqb,EAAuB,WACvB,SAASA,KA0BT,OAxBAA,EAAMC,gBAAkB,WACpB,IAAIC,EAEJ,QAA4B,IAAjBC,EAAOC,OAAiD,mBAAjBD,EAAOC,MAErDF,EAAYC,EAAOC,WAElB,GAAqB,mBAAVA,MACZF,EAAYE,UAEX,CAEDF,EAAY,EAAQ,IAGpBA,EAAY,EAAQ,IAIpBA,EADe,EAAQ,IACFE,MAGzB,OAAOF,GAEJF,EA3Be,GA6B1B3c,EAAiB,QAAI2c,I,8CC9BrB3c,EAAQsB,YAAa,EACrBtB,EAAQgd,QAAK,EACb,IAAIC,EAAa,EAAQ,GACzBjd,EAAQgd,GAAKC,EAAWzV,SAQL,oBAAR0V,MAGPA,IAAQ,GAAID,EAAWzV,W,6BCd3BxH,EAAQsB,YAAa,EACrB,IAAI6b,EAA4B,WAC5B,SAASA,EAAWC,EAAUrH,GAC1B5T,KAAKkb,UAAY,EACjBlb,KAAKmb,WAAa,EAClBnb,KAAKob,YAAc,EACnBpb,KAAKqb,WAAa,EAClBrb,KAAKsb,YAAc,EACnBtb,KAAKub,YAAc,EACnBvb,KAAKwb,aAAe,EACpBxb,KAAKyb,WAAa,EAClBzb,KAAK0b,WAAa,EAClB1b,KAAK2b,YAAc,GACnB3b,KAAK4b,eAAiB,GACtB5b,KAAK6b,QAAU,EACf7b,KAAK8b,MAAQ,GACb9b,KAAK+b,eAAgB,EACrB/b,KAAKgc,SAAWf,EAAYA,EAASgB,aAAeC,SAAWjB,EACxDA,EAASgB,aAAeE,WAAa,IAAID,SAASjB,EAASmB,OAAQxI,GAAU,IAAIsI,SAASjB,EAAUrH,GAAY,IAAIsI,SAAS,IAAIC,WAAW,IAAIC,QACvJpc,KAAKib,SAAWA,EAChBjb,KAAK4T,OAASA,EA6XlB,OA/WAoH,EAAWrb,UAAU0c,UAAY,WAE7B,OADArc,KAAK+b,eAAgB,EACd/b,MAIXgb,EAAWrb,UAAU2c,qBAAuB,WAExC,OADAtc,KAAK+b,eAAgB,EACd/b,MAGXgb,EAAWrb,UAAU4c,UAAY,SAAUC,EAAM5I,EAAQ7Q,GAErD,IADA,IAAI3E,EAAI,EACCL,EAAI,EAAGC,EAAI+E,EAAI5C,OAAQpC,EAAIC,EAAGD,KACnCK,EAAI2E,EAAIwX,WAAWxc,IACX,IACJye,EAAKC,SAAS7I,IAAUxV,GAEnBA,EAAI,MACToe,EAAKC,SAAS7I,IAAU,IAAQxV,GAAK,GACrCoe,EAAKC,SAAS7I,IAAU,IAAY,GAAJxV,IAE3BA,EAAI,OAAUA,GAAK,OACxBoe,EAAKC,SAAS7I,IAAU,IAAQxV,GAAK,IACrCoe,EAAKC,SAAS7I,IAAU,IAAQxV,GAAK,EAAK,IAC1Coe,EAAKC,SAAS7I,IAAU,IAAY,GAAJxV,KAGhCL,IACAK,EAAI,QAAiB,KAAJA,IAAc,GAA2B,KAApB2E,EAAIwX,WAAWxc,IACrDye,EAAKC,SAAS7I,IAAU,IAAQxV,GAAK,IACrCoe,EAAKC,SAAS7I,IAAU,IAAQxV,GAAK,GAAM,IAC3Coe,EAAKC,SAAS7I,IAAU,IAAQxV,GAAK,EAAK,IAC1Coe,EAAKC,SAAS7I,IAAU,IAAY,GAAJxV,KAmC5C4c,EAAWrb,UAAUoK,MAAQ,SAAU2S,EAAKnM,GASxC,OARwB,GAApBrQ,UAAUC,QACVH,KAAK8b,MAAM1W,KAAKpF,KAAKgc,SAASW,SAAS3c,KAAK6b,QAAS7b,KAAK+b,gBAC1D/b,KAAK6b,SAAW,IAGhB7b,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CAAElB,EAAGe,KAAKqb,WAAYhd,EAAGqe,EAAK1e,EAAG,IACtGgC,KAAK6b,SAAW,GAEb7b,MAGXgb,EAAWrb,UAAUkd,OAAS,SAAUH,EAAKnM,GASzC,OARwB,GAApBrQ,UAAUC,QACVH,KAAK8b,MAAM1W,KAAKpF,KAAKgc,SAASc,UAAU9c,KAAK6b,QAAS7b,KAAK+b,gBAC3D/b,KAAK6b,SAAW,IAGhB7b,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CAAElB,EAAGe,KAAKsb,YAAajd,EAAGqe,EAAK1e,EAAG,IACvGgC,KAAK6b,SAAW,GAEb7b,MAMXgb,EAAWrb,UAAUod,QAAU,WAC3B,OAAO/c,KAAK6b,SAMhBb,EAAWrb,UAAUqd,OAAS,SAAUN,EAAKnM,GACzC,GAAwB,GAApBrQ,UAAUC,OAAa,CACvB,IAAIma,EAAMta,KAAKgc,SAASW,SAAS3c,KAAK6b,QAAS7b,KAAK+b,eACpD/b,KAAK6b,SAAW,EAChB7b,KAAK8b,MAAM1W,KAAKpF,KAAKid,SAASjd,KAAKgc,SAAUhc,KAAK6b,QAASvB,IAC3Dta,KAAK6b,SAAWvB,MAEf,CACGA,EAAM,EACNoC,IACApC,EAAMta,KAAKkd,WAAWR,IAE1B1c,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CAAElB,EAAGe,KAAKub,YAAald,EAAGqe,EAAK1e,EAAGsc,IACvGta,KAAK6b,SAAWvB,EAAM,EAE1B,OAAOta,MAGXgb,EAAWrb,UAAUud,WAAa,SAAUna,GAExC,IADA,IAAI3E,EAAI,EAAG+B,EAAS,EACXpC,EAAI,EAAGC,EAAI+E,EAAI5C,OAAQpC,EAAIC,EAAGD,KACnCK,EAAI2E,EAAIwX,WAAWxc,IACX,IACJoC,GAAU,EAEL/B,EAAI,KACT+B,GAAU,EAEL/B,EAAI,OAAUA,GAAK,MACxB+B,GAAU,GAGVpC,IACAoC,GAAU,GAGlB,OAAOA,GAEX6a,EAAWrb,UAAUsd,SAAW,SAAUT,EAAM5I,EAAQzT,GAEpD,IADA,IAAI6c,EAAS,GAAIG,EAAM,EACdpf,EAAI6V,EAAQwJ,EAAMxJ,EAASzT,EAAQpC,EAAIqf,EAAKrf,IAAK,CACtD,IAAIsf,EAAOb,EAAKc,SAASvf,GACzB,GAAsB,IAAV,IAAPsf,GAIL,GAAsB,MAAV,IAAPA,GAKL,GAAsB,MAAV,IAAPA,GAAL,CAMA,GAAsB,MAAV,IAAPA,GAcL,MAAM,IAAI5b,MAAM,gBAAkB4b,EAAKla,SAAS,MAb5Cga,GAAe,EAAPE,IAAgB,IACG,GAArBb,EAAKc,WAAWvf,KAAc,IACT,GAArBye,EAAKc,WAAWvf,KAAc,GACT,GAArBye,EAAKc,WAAWvf,KAAc,IACzB,OACPof,GAAO,MACPH,GAAUO,OAAOC,aAA4B,OAAdL,IAAQ,IAA8B,OAAT,KAANA,KAGtDH,GAAUO,OAAOC,aAAaL,QAflCH,GAAUO,OAAOC,cAAsB,GAAPH,IAAgB,IACrB,GAArBb,EAAKc,WAAWvf,KAAc,GACT,GAArBye,EAAKc,WAAWvf,KAAc,QAPpCif,GAAUO,OAAOC,cAAsB,GAAPH,IAAgB,EACtB,GAArBb,EAAKc,WAAWvf,SALrBif,GAAUO,OAAOC,aAAaH,GA8BtC,OAAOL,GAKXhC,EAAWrb,UAAUyK,QAAU,SAAUsS,EAAKpC,EAAK/J,GAC/C,IAAK+J,EACD,MAAM,IAAI7Y,MAAM,iCAGpB,GAAWC,MAAPgb,GAA2B,MAAPA,EAAa,CAEjC,IADA,IAAIe,EAAO,EACF1f,EAAIiC,KAAK6b,QAAS9d,EAAIiC,KAAK6b,QAAUvB,EAAKvc,IAC3CiC,KAAKgc,SAASsB,SAASvf,GAAK,GAC5B0f,IAERzd,KAAK8b,MAAM1W,KAAKpF,KAAKid,SAASjd,KAAKgc,SAAUhc,KAAK6b,QAAS4B,IAC3Dzd,KAAK6b,SAAWvB,OAGhBta,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CACjElB,EAAGe,KAAKwb,aACRnd,EAAGqe,EACH1e,EAAGsc,IAEPta,KAAK6b,SAAWvB,EAEpB,OAAOta,MAGXgb,EAAWrb,UAAU+d,MAAQ,SAAUhB,EAAKnM,GASxC,OARwB,GAApBrQ,UAAUC,QACVH,KAAK8b,MAAM1W,KAAKpF,KAAKgc,SAAS2B,WAAW3d,KAAK6b,QAAS7b,KAAK+b,gBAC5D/b,KAAK6b,SAAW,IAGhB7b,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CAAElB,EAAGe,KAAKyb,WAAYpd,EAAGqe,EAAK1e,EAAG,IACtGgC,KAAK6b,SAAW,GAEb7b,MAGXgb,EAAWrb,UAAUie,MAAQ,SAAUlB,EAAKnM,GASxC,OARwB,GAApBrQ,UAAUC,QACVH,KAAK8b,MAAM1W,KAAKpF,KAAKgc,SAAS6B,WAAW7d,KAAK6b,QAAS7b,KAAK+b,gBAC5D/b,KAAK6b,SAAW,IAGhB7b,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CAAElB,EAAGe,KAAK0b,WAAYrd,EAAGqe,EAAK1e,EAAG,IACtGgC,KAAK6b,SAAW,GAEb7b,MAGXgb,EAAWrb,UAAUme,OAAS,SAAUpB,EAAKnM,GASzC,OARwB,GAApBrQ,UAAUC,QACVH,KAAK8b,MAAM1W,KAAKpF,KAAKgc,SAAS2B,WAAW3d,KAAK6b,QAAS7b,KAAK+b,gBAC5D/b,KAAK6b,SAAW,IAGhB7b,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CAAElB,EAAGe,KAAK2b,YAAatd,EAAGqe,EAAK1e,EAAG,IACvGgC,KAAK6b,SAAW,GAEb7b,MAMXgb,EAAWrb,UAAUoe,UAAY,SAAUrB,EAAKpC,EAAK/J,GACjD,IAAK+J,EACD,MAAM,IAAI7Y,MAAM,mCAGpB,GAAWC,MAAPgb,GAA2B,MAAPA,EAAa,CACjC,IAAIsB,EAAM,IAAI7B,WAAWnc,KAAKgc,SAASI,OAAOhZ,MAAMpD,KAAK6b,QAAS7b,KAAK6b,QAAUvB,IACjFta,KAAK8b,MAAM1W,KAAK4Y,GAChBhe,KAAK6b,SAAWvB,OAGhBta,KAAK8b,MAAMc,OAAgBlb,MAAT6O,EAAqBA,EAAQvQ,KAAK8b,MAAM3b,OAAQ,EAAG,CACjElB,EAAGe,KAAK4b,eACRvd,EAAGqe,EACH1e,EAAGsc,IAEPta,KAAK6b,SAAWvB,EAEpB,OAAOta,MAMXgb,EAAWrb,UAAUqK,OAAS,WAC1B,OAAOhK,KAAK8b,OAMhBd,EAAWrb,UAAUse,aAAe,WAChC,OAAOje,KAAKsQ,MAAK,IAOrB0K,EAAWrb,UAAU2Q,KAAO,SAAU4N,GAClCle,KAAKgc,SAAW,IAAIE,SAAS,IAAIiC,YAAY,EAAWne,KAAK6b,QAAU,EAAI7b,KAAK6b,UAChF,IAAIjI,EAAS,EACTsK,IACAle,KAAKgc,SAASoC,UAAUxK,EAAQ5T,KAAK6b,QAAS7b,KAAK+b,eACnDnI,GAAU,GAEd,IAAK,IAAI7V,EAAI,EAAGA,EAAIiC,KAAK8b,MAAM3b,OAAQpC,IACnC,OAAQiC,KAAK8b,MAAM/d,GAAGkB,GAClB,KAAKe,KAAKkb,UACNlb,KAAKgc,SAASqC,QAAQzK,EAAQ5T,KAAK8b,MAAM/d,GAAGM,GAC5CuV,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKmb,WACNnb,KAAKgc,SAASsC,SAAS1K,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACrDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKob,YACNpb,KAAKgc,SAASuC,UAAU3K,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACtDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKqb,WACNrb,KAAKgc,SAASwC,SAAS5K,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACrDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKsb,YACNtb,KAAKgc,SAASoC,UAAUxK,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACtDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKub,YAENvb,KAAKgc,SAASoC,UAAUxK,EAAQ5T,KAAK8b,MAAM/d,GAAGC,EAAGgC,KAAK+b,eACtDnI,GAAU,EACV5T,KAAKuc,UAAUvc,KAAKgc,SAAUpI,EAAQ5T,KAAK8b,MAAM/d,GAAGM,GACpDuV,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKwb,aACNxb,KAAKuc,UAAUvc,KAAKgc,SAAUpI,EAAQ5T,KAAK8b,MAAM/d,GAAGM,GAGpD,IAFA,IAESkC,EAAIqT,EAFF5T,KAAKkd,WAAWld,KAAK8b,MAAM/d,GAAGM,GAEbkC,EAAIqT,EAAS5T,KAAK8b,MAAM/d,GAAGC,EAAGuC,IACtDP,KAAKgc,SAASS,SAASlc,EAAG,GAE9BqT,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAKyb,WACNzb,KAAKgc,SAASyC,WAAW7K,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACvDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAK0b,WACN1b,KAAKgc,SAAS0C,WAAW9K,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACvDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAK2b,YACN3b,KAAKgc,SAASyC,WAAW7K,EAAQ5T,KAAK8b,MAAM/d,GAAGM,EAAG2B,KAAK+b,eACvDnI,GAAU5T,KAAK8b,MAAM/d,GAAGC,EACxB,MACJ,KAAKgC,KAAK4b,eACN,IAAI+C,EAAO,EACX,IAASpe,EAAIqT,EAAQrT,EAAIqT,EAAS5T,KAAK8b,MAAM/d,GAAGC,EAAGuC,IAC3Coe,EAAO3e,KAAK8b,MAAM/d,GAAGM,EAAE8B,OACvBH,KAAKgc,SAASS,SAASlc,EAAGP,KAAK8b,MAAM/d,GAAGM,EAAEsgB,IAG1C3e,KAAKgc,SAASS,SAASlc,EAAG,GAE9Boe,IAEJ/K,GAAU5T,KAAK8b,MAAM/d,GAAGC,EAIpC,OAAOgC,KAAKgc,SAASI,QAMzBpB,EAAWrb,UAAUif,aAAe,WAChC,OAAK5e,KAAKgc,SAEHhc,KAAKgc,SAASI,OAAOyC,WAAa7e,KAAK6b,QADnC7b,KAAK6b,SAIbb,EAhZoB,GAkZ/Bnd,EAAiB,QAAImd,G,6BCnZrBnd,EAAQsB,YAAa,EACrBtB,EAAQsL,eAAY,EACpB,IAAIA,EACA,SAAmBzB,EAAOM,EAAQb,GAC9BnH,KAAKgI,OAASA,EACdhI,KAAKmH,WAAaA,EAClBnH,KAAK0H,MAAQA,GAIrB7J,EAAQsL,UAAYA,G,0DCVpBtL,QAAQsB,YAAa,EACrB,IAAI2f,QAAU,oBAAQ,GAClBlZ,SAAW,oBAAQ,GACnBmZ,OAAS,CACTC,QAAS,oEACTC,OAAQ,SAAUzd,GACd,IACIhC,EAAGX,EAAGd,EAAG+B,EAAGtB,EAAG0gB,EAAG5e,EADlBrB,EAAI,GAEJsF,EAAI,EAER,IADA/C,EAAIud,OAAOI,aAAa3d,GACjB+C,EAAI/C,EAAErB,QAITL,GAHAN,EAAIgC,EAAE+Y,WAAWhW,OAGR,EACT/F,GAAS,EAAJgB,IAAU,GAHfX,EAAI2C,EAAE+Y,WAAWhW,OAGO,EACxB2a,GAAS,GAAJrgB,IAAW,GAHhBd,EAAIyD,EAAE+Y,WAAWhW,OAGQ,EACzBjE,EAAQ,GAAJvC,EACAqhB,MAAMvgB,GACNqgB,EAAI5e,EAAI,GAEH8e,MAAMrhB,KACXuC,EAAI,IAERrB,EAAIA,EAAIe,KAAKgf,QAAQK,OAAOvf,GAAKE,KAAKgf,QAAQK,OAAO7gB,GAAKwB,KAAKgf,QAAQK,OAAOH,GAAKlf,KAAKgf,QAAQK,OAAO/e,GAE3G,OAAOrB,GAEXqgB,OAAQ,SAAU9d,GACd,IACIhC,EAAGX,EAAGd,EACHS,EAAG0gB,EAAG5e,EAFTrB,EAAI,GAGJsF,EAAI,EAER,IADA/C,EAAIA,EAAEa,QAAQ,mBAAoB,IAC3BkC,EAAI/C,EAAErB,QAKTX,EAJIQ,KAAKgf,QAAQO,QAAQ/d,EAAE6d,OAAO9a,OAIzB,GAHT/F,EAAIwB,KAAKgf,QAAQO,QAAQ/d,EAAE6d,OAAO9a,QAGhB,EAClB1F,GAAS,GAAJL,IAAW,GAHhB0gB,EAAIlf,KAAKgf,QAAQO,QAAQ/d,EAAE6d,OAAO9a,QAGT,EACzBxG,GAAS,EAAJmhB,IAAU,GAHf5e,EAAIN,KAAKgf,QAAQO,QAAQ/d,EAAE6d,OAAO9a,OAIlCtF,GAAQse,OAAOC,aAAahe,GACnB,IAAL0f,IACAjgB,GAAQse,OAAOC,aAAa3e,IAEvB,IAALyB,IACArB,GAAQse,OAAOC,aAAazf,IAIpC,OADAkB,EAAI8f,OAAOS,aAAavgB,IAG5BkgB,aAAc,SAAU3d,GACpBA,EAAIA,EAAEa,QAAQ,MAAO,KAErB,IADA,IAAIpD,EAAI,GACCO,EAAI,EAAGA,EAAIgC,EAAErB,OAAQX,IAAK,CAC/B,IAAIX,EAAI2C,EAAE+Y,WAAW/a,GACjBX,EAAI,IACJI,GAAKse,OAAOC,aAAa3e,GAEpBA,EAAI,KAAOA,EAAI,MACpBI,GAAKse,OAAOC,aAAa3e,GAAK,EAAI,KAClCI,GAAKse,OAAOC,aAAiB,GAAJ3e,EAAS,OAGlCI,GAAKse,OAAOC,aAAa3e,GAAK,GAAK,KACnCI,GAAKse,OAAOC,aAAa3e,GAAK,EAAI,GAAK,KACvCI,GAAKse,OAAOC,aAAiB,GAAJ3e,EAAS,MAG1C,OAAOI,GAEXugB,aAAc,SAAUhe,GAMpB,IALA,IAAIvC,EAAI,GACJO,EAAI,EACJX,EAAI,EAEJ4gB,EAAK,EACFjgB,EAAIgC,EAAErB,QAET,IADAtB,EAAI2C,EAAE+Y,WAAW/a,IACT,IACJP,GAAKse,OAAOC,aAAa3e,GACzBW,SAEC,GAAIX,EAAI,KAAOA,EAAI,IACpB4gB,EAAKje,EAAE+Y,WAAW/a,EAAI,GACtBP,GAAKse,OAAOC,cAAkB,GAAJ3e,IAAW,EAAS,GAAL4gB,GACzCjgB,GAAK,MAEJ,CACDigB,EAAKje,EAAE+Y,WAAW/a,EAAI,GACtB,IAAIkgB,EAAKle,EAAE+Y,WAAW/a,EAAI,GAC1BP,GAAKse,OAAOC,cAAkB,GAAJ3e,IAAW,IAAW,GAAL4gB,IAAY,EAAS,GAALC,GAC3DlgB,GAAK,EAGb,OAAOP,IAGX0gB,WAA4B,WAC5B,SAASA,cA8KT,OA3KAA,WAAWC,eAAiB,WACxB,IAAIC,EAAQC,UAAUC,UAAUC,cAE5BC,EAAc,iBACdC,EAAY,oBACZC,EAAS,iBACTC,EAAY,oBACZC,EAAgB,mBAChBC,EAAa,mBACbC,EAAe,gBACf7f,EAAO,CACP8f,KAAM,EACNzX,OAVS8W,EAAMY,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAWtDC,QAAS,GACTC,eAAgB,IAGpB,OAAId,EAAMN,QAAQ,WAAa,GAC3B7e,EAAKggB,QAAUb,EAAMe,MAAMV,GAAW,GAAGO,MAAM,KAAK,GACpD/f,EAAKigB,eAAiBd,EAAMe,MAAMV,GAAW,GAAGO,MAAM,KAAK,GACpD/f,GAGPmf,EAAMN,QAAQ,QAAU,GACxB7e,EAAKggB,QAAUb,EAAMe,MAAMT,GAAQ,GAAGM,MAAM,KAAK,GACjD/f,EAAKigB,eAAiBd,EAAMe,MAAMT,GAAQ,GAAGM,MAAM,KAAK,GACjD/f,GAGPmf,EAAMN,QAAQ,QAAU,GACxB7e,EAAKggB,QAAUb,EAAMe,MAAMX,GAAa,GAAGQ,MAAM,KAAK,GACtD/f,EAAKigB,eAAiBd,EAAMe,MAAMX,GAAa,GAAGQ,MAAM,KAAK,GACtD/f,GAGPmf,EAAMN,QAAQ,WAAa,GAC3B7e,EAAKggB,QAAUb,EAAMe,MAAMR,GAAW,GAAGK,MAAM,KAAK,GACpD/f,EAAKigB,eAAiBd,EAAMe,MAAMR,GAAW,GAAGK,MAAM,KAAK,GACpD/f,GAGPmf,EAAMN,QAAQ,OAAS,GACvB7e,EAAKggB,QAAUb,EAAMe,MAAML,GAAc,GAAGE,MAAM,KAAK,GACvD/f,EAAKigB,eAAiBd,EAAMe,MAAML,GAAc,GAAGE,MAAM,KAAK,GACvD/f,GAGPmf,EAAMN,QAAQ,UAAY,GAAKM,EAAMN,QAAQ,UAAY,GACzD7e,EAAKggB,QAAUb,EAAMe,MAAMN,GAAY,GAAGG,MAAM,KAAK,GACrD/f,EAAKigB,eAAiBd,EAAMe,MAAMN,GAAY,GAAGG,MAAM,KAAK,GACrD/f,GAGPmf,EAAMN,QAAQ,UAAY,GAC1B7e,EAAKggB,QAAUb,EAAMe,MAAMP,GAAe,GAAGI,MAAM,KAAK,GACxD/f,EAAKigB,eAAiBd,EAAMe,MAAMP,GAAe,GAAGI,MAAM,KAAK,GACxD/f,IAGPA,EAAK8f,MAAQ,EACN9f,IAIfif,WAAWkB,aAAe,WACtB,MAAO,CACH9X,OAAQ,QACR2X,QAAS,QACTC,eAAgB,QAIxBhB,WAAWmB,mBAAqB,WAC5B,MAAO,CACH/X,OAAQ,WACR2X,QAAS,WACTC,eAAgB,QAIxBhB,WAAWoB,cAAgB,WACvB,MAAO,CACHhY,OAAQ,SACR2X,QAAS,SACTC,eAAgB,QAIxBhB,WAAWqB,OAAS,SAAU/Z,EAAKkB,GAC/B,IAAI8Y,EAASC,SAASC,cAAc,UAAWC,EAAKjZ,GAAY,aAEhE8Y,EAAOlI,KAAO,kBAEd,IAAIsI,GAAQ,EACZ,IAAK,IAAI9e,KAAK2e,SAASI,qBAAqB,QAAQ,GAAGC,SAAU,CAC7D,IAAIC,EAAMN,SAASI,qBAAqB,QAAQ,GAAGC,SAAShf,QACtCb,IAAlB8f,EAAIC,WAA2BD,EAAIC,UAAUlC,QAAQtY,IAAQ,IAC7Doa,GAAQ,GAGZA,EACAD,KAIAH,EAAOjH,WACPiH,EAAOS,mBAAqB,WACC,UAArBT,EAAOjH,YAA+C,YAArBiH,EAAOjH,aACxCiH,EAAOS,mBAAqB,KAC5BN,MAMRH,EAAOU,OAAS,WACZP,KAGRH,EAAOW,IAAM3a,EACbia,SAASI,qBAAqB,QAAQ,GAAGO,YAAYZ,KAGzDtB,WAAWmC,iBAAmB,SAAU3Z,UACpC,IAAIlB,IAAM,uCACN2T,MAAQkE,QAAiB,QAAErE,kBAC3BsH,QAAU,CAAEC,OAAQ,MAAO9iB,KAAM,OAAQ+iB,QAAS,CAAE,eAAgB,qBACxE,OAAOrH,MAAM3T,IAAK8a,SAAS3d,MAAK,SAAU8d,GACtC,OAAOA,EAASzK,UACjBrT,MAAK,SAAU+d,KACd,GAAwB,mBAAbha,SAAyB,CAChC,IAAIia,YAAcC,KAAK,iBAAmBF,IAAI9f,QAAQ,sBAAuB,KAC7E8F,SAASia,iBAEP,OAAE,SAAU5gB,GAClBoE,SAAkB,QAAErE,MAAMC,OAIlCme,WAAW2C,wBAA0B,SAAUna,GAE3CwX,WAAWqB,OADD,wCACa,WACnB7Y,EAASoa,OAAqB,kBAGtC5C,WAAW6C,UAAY,SAAUra,GAG7BwX,WAAWmC,iBAAiB3Z,GAG5BwX,WAAW2C,wBAAwBna,GAGnCwX,WAAW2C,wBAAwBna,GAInCwX,WAAWmC,iBAAiB3Z,IAIhCwX,WAAW7W,cAAgB,WACvB,OAAO6W,WAAWC,kBAEtBD,WAAW8C,aAAe,SAAU1f,GAChC,OAAOgc,OAAOE,OAAOlc,IAEzB4c,WAAW+C,aAAe,SAAU3f,GAChC,OAAOgc,OAAOO,OAAOvc,IAElB4c,WA/KoB,GAiL/B9hB,QAAiB,QAAI8hB,Y,cCtRrB,IAAIlb,EAGJA,EAAI,WACH,OAAOzE,KADJ,GAIJ,IAECyE,EAAIA,GAAK,IAAIke,SAAS,cAAb,GACR,MAAOnhB,GAEc,iBAAX+gB,SAAqB9d,EAAI8d,QAOrCzkB,EAAOD,QAAU4G,G,gBCnBjB,IAAiDme,IASxC,WACT,OAAgB,SAAU3kB,GAEhB,IAAIP,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAqCf,OAhCAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CACpCukB,cAAc,EACdlkB,YAAY,EACZC,IAAKL,KAMRZ,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAGjBlC,EAAoBA,EAAoBmC,EAAI,GA9D7C,CAiEN,CAEJ,SAAUhC,EAAQglB,EAAqBnlB,GAE7C,aACAc,OAAOC,eAAeokB,EAAqB,aAAc,CAAE9jB,OAAO,IAC7C,IAAI+jB,EAA2CplB,EAAoB,GAC/DqlB,EAAmDrlB,EAAoB6B,EAAEujB,GAC9FE,EAA4B,mBAAXnkB,QAAoD,iBAApBA,OAAOkG,SAAwB,SAAUke,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXpkB,QAAyBokB,EAAIjH,cAAgBnd,QAAUokB,IAAQpkB,OAAOa,UAAY,gBAAkBujB,GAIlQC,EAAaH,EAAiD1iB,EAAEjB,OAAO,CACzE+jB,cAAe,GACfC,QAAS,EACTC,OAAQ,GACRC,SAAU,SAGZ,SAASC,EAAiBrB,GACxB,IAAImB,EAASnB,EAAImB,QAAU,GACvBG,EAAStB,EAAIsB,QAAU,GAC3B,MAAO,CACLC,GAAmC,IAA9BvB,EAAIwB,WAAa,IAAM,GAC5B9Q,OAAQsP,EAAIwB,WACZC,WAAYzB,EAAI0B,OAChB5c,IAAKwc,EAAOxc,IACZ6c,MAAO,WACL,OAAON,EAAiBrB,IAE1B1K,KAAM,WACJ,OAAO7T,QAAQC,QAA4B,iBAAbse,EAAIjZ,KAAoBiZ,EAAIjZ,KAAOnH,KAAKE,UAAUkgB,EAAIjZ,QAEtF/G,KAAM,WACJ,GAA0B,WAAtB8gB,EAAQd,EAAIjZ,MAAoB,OAAOtF,QAAQC,QAAQse,EAAIjZ,MAC/D,IAAI/G,EAAO,GACX,IACEA,EAAOJ,KAAKC,MAAMmgB,EAAIjZ,MACtB,MAAOR,GACP3H,QAAQM,MAAMqH,GAEhB,OAAOvG,GAET4hB,KAAM,WACJ,OAAOngB,QAAQC,QAAQ,IAAImgB,KAAK,CAAC7B,EAAIjZ,SAEvC+Y,QAAS,CACPgC,KAAM,WACJ,OAAOxlB,OAAOwlB,KAAKX,IAErBY,QAAS,WACP,IAAIC,EAAM,GACV,IAAK,IAAI7kB,KAAOgkB,EACVA,EAAO1jB,eAAeN,IACxB6kB,EAAI/e,KAAK,CAAC9F,EAAKgkB,EAAOhkB,KAG1B,OAAO6kB,GAETvlB,IAAK,SAAaY,GAChB,OAAO8jB,EAAO9jB,EAAEwgB,gBAElBoE,IAAK,SAAa5kB,GAChB,OAAOA,EAAEwgB,gBAAiBsD,KAMLR,EAA6B,QAAsB,mBAAVlI,MAAuBA,MAAMrb,OAAS,SAAU0H,EAAKod,GAEzH,OADAA,EAAUA,GAAW,GACdlB,EAAWpB,QAAQsC,EAAQrC,QAAU,MAAO/a,EAAKod,EAAQ/f,KAAM+f,EAAQpC,SAAS7d,MAAK,SAAU+d,GACpG,OAAOve,QAAQC,QAAQ2f,EAAiBrB,OACvCmC,OAAM,SAAUnC,GACjB,OAAOve,QAAQE,OAAO0f,EAAiBrB,SAMrC,SAAUrkB,EAAQD,EAASF,GAEjC,IAAiDilB,IASxC,WACT,OAAgB,SAAU3kB,GAEhB,IAAIP,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAqCf,OAhCAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CACpCukB,cAAc,EACdlkB,YAAY,EACZC,IAAKL,KAMRZ,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAGjBlC,EAAoBA,EAAoBmC,EAAI,GA9D7C,CAiEN,CAEJ,SAAUhC,EAAQD,EAASF,GAEjC,aAMA,IACQ4mB,EADJC,EAAaxkB,MAAQA,KAAKwkB,YACtBD,EAAgB9lB,OAAOgmB,gBACtB,CAAEC,UAAW,cAAgBtkB,OAAS,SAAU/B,EAAGsmB,GAAKtmB,EAAEqmB,UAAYC,IACvE,SAAUtmB,EAAGsmB,GAAK,IAAK,IAAI9kB,KAAK8kB,EAAOA,EAAE/kB,eAAeC,KAAIxB,EAAEwB,GAAK8kB,EAAE9kB,KAClE,SAAUxB,EAAGsmB,GAEhB,SAASC,IAAO5kB,KAAKic,YAAc5d,EADnCkmB,EAAclmB,EAAGsmB,GAEjBtmB,EAAEsB,UAAkB,OAANglB,EAAalmB,OAAOY,OAAOslB,IAAMC,EAAGjlB,UAAYglB,EAAEhlB,UAAW,IAAIilB,KAGnFC,EAAY7kB,MAAQA,KAAK6kB,UAAapmB,OAAOqmB,QAAU,SAAS7lB,GAChE,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIU,UAAUC,OAAQpC,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAII,UAAUnC,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KACzDZ,EAAEY,GAAKC,EAAED,IAEjB,OAAOZ,GAEXR,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,IACtD,IAAI+lB,EAAqBpnB,EAAoB,GACzCqnB,EAAiB,CACjB5B,cAAe,GACfC,QAAS,EACTC,OAAQ,GACRC,SAAU,QAEV0B,EAAsB,SAAUC,GAEhC,SAASD,EAAKxB,QACK,IAAXA,IAAqBA,EAASuB,GAClC,IAAIpc,EAAQsc,EAAOhnB,KAAK8B,OAASA,KASjC,OARA4I,EAAM6a,OAASA,EACf7a,EAAMuc,IAAoB,iBAAPC,GAAkBA,GAAK,CAAErD,QAAS,cACrDnZ,EAAMyc,MAAQ,GACdzc,EAAM0c,YAAc,EACpB1c,EAAMwa,cAAgB4B,EAAe5B,cACrCxa,EAAM2c,mBAAqB,SAAU9B,GAAU,OAAO,GACtD7a,EAAM4c,oBAAsB,SAAU/B,EAAQvB,GAAY,OAAO,GACjEtZ,EAAMwa,cAAgBK,EAAOL,cACtBxa,EAuGX,OAnHA4b,EAAUS,EAAMC,GAchBD,EAAKtlB,UAAUN,OAAS,SAAUokB,GAE9B,YADe,IAAXA,IAAqBA,EAASuB,GAC3B,IAAIC,EAAKxB,IAEpBwB,EAAKtlB,UAAUsE,KAAO,WAClB,IAAI2E,EAAQ5I,KACRqlB,EAAQrlB,KAAKqlB,MACjB,GAAKA,EAAMllB,UAAUH,KAAKslB,aAAetlB,KAAKojB,eAA9C,CAEA,IAAIqC,EAASJ,EAAMK,QACfjC,EAASgC,EAAOhC,OACL8B,EAANvlB,KAA8BulB,mBAAoBC,EAAlDxlB,KAA2EwlB,oBACpF,IAA8C,IAA1CD,EAAmBrnB,KAAK8B,KAAMyjB,GAAlC,CAUAzjB,KAAK2lB,KAAK,UAAWlC,GACrBzjB,KAAKslB,YAActlB,KAAKslB,YAAc,EACtC,IAAIM,EAAW,CACXnd,QAAS,SAAU0Z,GACfsD,EAAOvD,SAAWC,EAClBvZ,EAAM+c,KAAK,UAAWlC,EAAQtB,IACmB,IAAjDqD,EAAoBtnB,KAAK0K,EAAO6a,EAAQtB,GAClCsD,EAAO3hB,OAAOqe,GACdsD,EAAO5hB,QAAQse,IAEzB0D,KAAM,SAAU1D,GACZsD,EAAOvD,SAAWC,EAClBvZ,EAAM+c,KAAK,OAAQlC,EAAQtB,IACsB,IAAjDqD,EAAoBtnB,KAAK0K,EAAO6a,EAAQtB,GAClCsD,EAAO3hB,OAAOqe,GACdsD,EAAO5hB,QAAQse,IAEzB2D,SAAU,WACNld,EAAM+c,KAAK,WAAYlC,EAAQgC,EAAOvD,UACtCtZ,EAAM3E,OACN2E,EAAM0c,YAAc1c,EAAM0c,YAAc,IAG5CS,EAAgBtnB,OAAOqmB,OAAOrB,EAAQmC,GAC1C5lB,KAAKmlB,IAAIpD,QAAQgE,QA3BbN,EAAO3hB,OANQ,CACXoF,KAAM,KACN2a,OAAQ,0DACRF,WAAY,EACZL,OAAQ,OA+BpB2B,EAAKtlB,UAAUoiB,QAAU,SAAUC,EAAQ/a,EAAKiC,EAAMoa,EAAQC,GAC1D,IAAI3a,EAAQ5I,UACC,IAATkJ,IAAmBA,EAAO,SACf,IAAXoa,IAAqBA,EAAS,SACjB,IAAbC,IAAuBA,EAAW,QACtC,IAAIE,EAAS,CACTzB,OAAQA,EACR/a,IAAKA,EACLiC,KAAMA,EACNoa,OAAQuB,EAAS,GAAIvB,EAAQtjB,KAAKyjB,OAAOH,QACzCC,SAAUA,GAAYvjB,KAAKyjB,OAAOF,UAEtC,OAAO,IAAI3f,SAAQ,SAAUC,EAASC,GAClC,IAAI2hB,EAAS,CAAEhC,OAAQA,EAAQ5f,QAASA,EAASC,OAAQA,EAAQoe,SAAU,MAC3EtZ,EAAMyc,MAAMjgB,KAAKqgB,GACjB7c,EAAM3E,WAGdghB,EAAKtlB,UAAUqmB,KAAO,SAAU/e,EAAKiC,EAAMoa,EAAQC,GAC/C,OAAOvjB,KAAK+hB,QAAQ,OAAQ9a,EAAKiC,EAAMoa,EAAQC,IAEnD0B,EAAKtlB,UAAU0kB,QAAU,SAAUpd,EAAKiC,EAAMoa,EAAQC,GAClD,OAAOvjB,KAAK+hB,QAAQ,UAAW9a,EAAKiC,EAAMoa,EAAQC,IAEtD0B,EAAKtlB,UAAUf,IAAM,SAAUqI,EAAKiC,EAAMoa,EAAQC,GAC9C,OAAOvjB,KAAK+hB,QAAQ,MAAO9a,EAAKiC,EAAMoa,EAAQC,IAElD0B,EAAKtlB,UAAUsmB,KAAO,SAAUhf,EAAKiC,EAAMoa,EAAQC,GAC/C,OAAOvjB,KAAK+hB,QAAQ,OAAQ9a,EAAKiC,EAAMoa,EAAQC,IAEnD0B,EAAKtlB,UAAUumB,IAAM,SAAUjf,EAAKiC,EAAMoa,EAAQC,GAC9C,OAAOvjB,KAAK+hB,QAAQ,MAAO9a,EAAKiC,EAAMoa,EAAQC,IAElD0B,EAAKtlB,UAAkB,OAAI,SAAUsH,EAAKiC,EAAMoa,EAAQC,GACpD,OAAOvjB,KAAK+hB,QAAQ,SAAU9a,EAAKiC,EAAMoa,EAAQC,IAErD0B,EAAKtlB,UAAU4B,MAAQ,SAAU0F,EAAKiC,EAAMoa,EAAQC,GAChD,OAAOvjB,KAAK+hB,QAAQ,QAAS9a,EAAKiC,EAAMoa,EAAQC,IAEpD0B,EAAKtlB,UAAUwmB,QAAU,SAAUlf,EAAKiC,EAAMoa,EAAQC,GAClD,OAAOvjB,KAAK+hB,QAAQ,UAAW9a,EAAKiC,EAAMoa,EAAQC,IAEtD0B,EAAKtlB,UAAUymB,sBAAwB,SAAUC,GAE7C,OADArmB,KAAKulB,mBAAqBc,EACnBrmB,MAEXilB,EAAKtlB,UAAU2mB,uBAAyB,SAAUD,GAE9C,OADArmB,KAAKwlB,oBAAsBa,EACpBrmB,MAEXilB,EAAKtlB,UAAU4mB,MAAQ,WACnBvmB,KAAKqlB,MAAQ,IAEVJ,EApHc,CAqHvBF,EAAmByB,SACrB3oB,EAAQ2oB,QAAU,IAAIvB,GAKhB,SAAUnnB,EAAQD,EAASF,GAEjC,IAAiDilB,IASxC,WACT,OAAgB,SAAU3kB,GAEhB,IAAIP,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAwCf,OAnCAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBI,EAAI,SAASiB,GAAS,OAAOA,GAGjDrB,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CACpCukB,cAAc,EACdlkB,YAAY,EACZC,IAAKL,KAMRZ,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAGjBlC,EAAoBA,EAAoBmC,EAAI,GAjE7C,CAoEN,CAEJ,SAAUhC,EAAQglB,EAAqBnlB,GAE7C,aACAc,OAAOC,eAAeokB,EAAqB,aAAc,CAAE9jB,OAAO,IAMlE,IAAIV,EAAO,4BAGX,SAASmoB,IACP,OAAOxjB,KAAKC,SAASC,SAAS,IAAIujB,OAAO,EAAG,IAG9C,SAASC,EAAc/T,GACrB,OAAO5S,KAAK4mB,WAAU,SAAUze,GAC9B,OAAOA,EAAsB,SAAMyK,KAIvC,IAAIlU,EAAiBD,OAAOC,eAE5B,SAASmoB,IACP7mB,KAAK1B,GAAQ,GACbI,GAAkBA,EAAesB,KAAM1B,EAAM,CAAEK,YAAY,EAAOkkB,cAAc,IAGlF,IAAIljB,EAAYknB,EAAalnB,UAE7BA,EAAUsc,YAAc4K,EAExBlnB,EAAUmnB,GAAK,SAAUC,EAAOC,GAC9B,IAAIC,EAASjnB,KAAK1B,GACd4oB,EAAYD,EAAOF,GAASE,EAAOF,IAAU,GAC7CnU,EAAK6T,IACLlW,OAAQ,EAGZ,OAFAyW,EAAsB,OAAIpU,EAC1BsU,EAAU9hB,KAAK4hB,GACR,YACLzW,EAAQoW,EAAczoB,KAAKgpB,EAAWtU,KAC7B,GAAKsU,EAAUtK,OAAOrM,EAAO,KAI1C5Q,EAAUwnB,IAAM,SAAUJ,GACxB/mB,KAAK1B,GAAMyoB,GAAS,IAGtBpnB,EAAUynB,MAAQ,WAChBpnB,KAAK1B,GAAQ,IAGfqB,EAAU0nB,KAAO,SAAUN,EAAOC,GAChC,IAAI5e,EAAOpI,KACPinB,EAAS7e,EAAK9J,GACd4oB,EAAYD,EAAOF,GAASE,EAAOF,IAAU,GAC7CnU,EAAK6T,IACLlW,OAAQ,EACRpI,EAAW,YACboI,EAAQoW,EAAczoB,KAAKgpB,EAAWtU,KAC7B,GAAKsU,EAAUtK,OAAOrM,EAAO,GACtCyW,EAAShmB,MAAMoH,EAAMlI,YAEvBiI,EAAsB,OAAIyK,EAC1BsU,EAAU9hB,KAAK+C,IAGjBxI,EAAUgmB,KAAO,WACf,IAAIvd,EAAOpI,KACPsnB,EAAO,GAAGlkB,MAAMlF,KAAKgC,WACrB6mB,EAAQO,EAAK5B,QACbuB,EAAS7e,EAAK9J,IACjB2oB,EAAO,MAAQ,IAAIM,OAAON,EAAOF,IAAU,IAAIS,KAAI,SAAUR,GAC5D,OAAO5e,EAAKqf,SAASV,EAAOO,EAAMN,OAItCrnB,EAAU8nB,SAAW,SAAUV,EAAOW,EAAWV,GAC/CA,EAAShmB,MAAMhB,KAAM0nB,IAGM5E,EAA6B,QAAI+D,MAjK5D/oB,EAAOD,QAAU+kB,QA5OjB9kB,EAAOD,QAAU+kB,QA7JjB9kB,EAAOD,QAAU+kB,K,gBCEnB,EAAQ,IACR9kB,EAAOD,QAAUuK,KAAKwS,MAAMrb,KAAK6I,O,6BCLjC,uNAAIuS,EACqB,oBAAfgN,YAA8BA,YACrB,oBAATvf,MAAwBA,WACb,IAAXuS,GAA0BA,EAEhCiN,EACY,oBAAqBjN,EADjCiN,EAEQ,WAAYjN,GAAU,aAAc7b,OAF5C8oB,EAIA,eAAgBjN,GAChB,SAAUA,GACV,WACE,IAEE,OADA,IAAIqJ,MACG,EACP,MAAOxiB,GACP,OAAO,GALX,GANAomB,EAcQ,aAAcjN,EAdtBiN,EAeW,gBAAiBjN,EAOhC,GAAIiN,EACF,IAAIC,EAAc,CAChB,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEC,EACF3J,YAAY4J,QACZ,SAAS7E,GACP,OAAOA,GAAO2E,EAAYtI,QAAQ9gB,OAAOkB,UAAUwD,SAASjF,KAAKglB,KAAS,GAIhF,SAAS8E,EAAc1pB,GAIrB,GAHoB,iBAATA,IACTA,EAAOif,OAAOjf,IAEZ,6BAA6B2pB,KAAK3pB,IAAkB,KAATA,EAC7C,MAAM,IAAI4G,UAAU,4CAA8C5G,EAAO,KAE3E,OAAOA,EAAK0hB,cAGd,SAASkI,EAAelpB,GAItB,MAHqB,iBAAVA,IACTA,EAAQue,OAAOve,IAEVA,EAIT,SAASmpB,EAAYC,GACnB,IAAIpjB,EAAW,CACbf,KAAM,WACJ,IAAIjF,EAAQopB,EAAM1C,QAClB,MAAO,CAACvhB,UAAgBzC,IAAV1C,EAAqBA,MAAOA,KAU9C,OANI4oB,IACF5iB,EAASlG,OAAOkG,UAAY,WAC1B,OAAOA,IAIJA,EAGF,SAASqjB,EAAQpG,GACtBjiB,KAAKwnB,IAAM,GAEPvF,aAAmBoG,EACrBpG,EAAQtf,SAAQ,SAAS3D,EAAOV,GAC9B0B,KAAKsoB,OAAOhqB,EAAMU,KACjBgB,MACMI,MAAMmoB,QAAQtG,GACvBA,EAAQtf,SAAQ,SAAS2gB,GACvBtjB,KAAKsoB,OAAOhF,EAAO,GAAIA,EAAO,MAC7BtjB,MACMiiB,GACTxjB,OAAO+pB,oBAAoBvG,GAAStf,SAAQ,SAASrE,GACnD0B,KAAKsoB,OAAOhqB,EAAM2jB,EAAQ3jB,MACzB0B,MAgEP,SAASyoB,EAASnkB,GAChB,GAAIA,EAAKokB,SACP,OAAO9kB,QAAQE,OAAO,IAAIoB,UAAU,iBAEtCZ,EAAKokB,UAAW,EAGlB,SAASC,EAAgBC,GACvB,OAAO,IAAIhlB,SAAQ,SAASC,EAASC,GACnC8kB,EAAOjH,OAAS,WACd9d,EAAQ+kB,EAAOlmB,SAEjBkmB,EAAOxf,QAAU,WACftF,EAAO8kB,EAAOvnB,WAKpB,SAASwnB,EAAsB9E,GAC7B,IAAI6E,EAAS,IAAIE,WACbC,EAAUJ,EAAgBC,GAE9B,OADAA,EAAOI,kBAAkBjF,GAClBgF,EAoBT,SAASE,EAAYC,GACnB,GAAIA,EAAI9lB,MACN,OAAO8lB,EAAI9lB,MAAM,GAEjB,IAAIoZ,EAAO,IAAIL,WAAW+M,EAAIrK,YAE9B,OADArC,EAAK2M,IAAI,IAAIhN,WAAW+M,IACjB1M,EAAKJ,OAIhB,SAASgN,IAkHP,OAjHAppB,KAAK0oB,UAAW,EAEhB1oB,KAAKqpB,UAAY,SAAS/kB,GAhM5B,IAAoB4e,EA2MhBljB,KAAK0oB,SAAW1oB,KAAK0oB,SACrB1oB,KAAKspB,UAAYhlB,EACZA,EAEsB,iBAATA,EAChBtE,KAAKupB,UAAYjlB,EACRsjB,GAAgB5D,KAAKrkB,UAAU6pB,cAAcllB,GACtDtE,KAAKypB,UAAYnlB,EACRsjB,GAAoB8B,SAAS/pB,UAAU6pB,cAAcllB,GAC9DtE,KAAK2pB,cAAgBrlB,EACZsjB,GAAwBgC,gBAAgBjqB,UAAU6pB,cAAcllB,GACzEtE,KAAKupB,UAAYjlB,EAAKnB,WACbykB,GAAuBA,KAvNlB1E,EAuN6C5e,IAtNjD4X,SAASvc,UAAU6pB,cAActG,KAuN3CljB,KAAK6pB,iBAAmBZ,EAAY3kB,EAAK8X,QAEzCpc,KAAKspB,UAAY,IAAItF,KAAK,CAAChkB,KAAK6pB,oBACvBjC,IAAwBzJ,YAAYxe,UAAU6pB,cAAcllB,IAASwjB,EAAkBxjB,IAChGtE,KAAK6pB,iBAAmBZ,EAAY3kB,GAEpCtE,KAAKupB,UAAYjlB,EAAO7F,OAAOkB,UAAUwD,SAASjF,KAAKoG,GAhBvDtE,KAAKupB,UAAY,GAmBdvpB,KAAKiiB,QAAQrjB,IAAI,kBACA,iBAAT0F,EACTtE,KAAKiiB,QAAQkH,IAAI,eAAgB,4BACxBnpB,KAAKypB,WAAazpB,KAAKypB,UAAU1Q,KAC1C/Y,KAAKiiB,QAAQkH,IAAI,eAAgBnpB,KAAKypB,UAAU1Q,MACvC6O,GAAwBgC,gBAAgBjqB,UAAU6pB,cAAcllB,IACzEtE,KAAKiiB,QAAQkH,IAAI,eAAgB,qDAKnCvB,IACF5nB,KAAK+jB,KAAO,WACV,IAAI7f,EAAWukB,EAASzoB,MACxB,GAAIkE,EACF,OAAOA,EAGT,GAAIlE,KAAKypB,UACP,OAAO7lB,QAAQC,QAAQ7D,KAAKypB,WACvB,GAAIzpB,KAAK6pB,iBACd,OAAOjmB,QAAQC,QAAQ,IAAImgB,KAAK,CAAChkB,KAAK6pB,oBACjC,GAAI7pB,KAAK2pB,cACd,MAAM,IAAIloB,MAAM,wCAEhB,OAAOmC,QAAQC,QAAQ,IAAImgB,KAAK,CAAChkB,KAAKupB,cAI1CvpB,KAAK8pB,YAAc,WACjB,GAAI9pB,KAAK6pB,iBAAkB,CACzB,IAAIE,EAAatB,EAASzoB,MAC1B,OAAI+pB,IAGA5L,YAAY4J,OAAO/nB,KAAK6pB,kBACnBjmB,QAAQC,QACb7D,KAAK6pB,iBAAiBzN,OAAOhZ,MAC3BpD,KAAK6pB,iBAAiBG,WACtBhqB,KAAK6pB,iBAAiBG,WAAahqB,KAAK6pB,iBAAiBhL,aAItDjb,QAAQC,QAAQ7D,KAAK6pB,mBAG9B,OAAO7pB,KAAK+jB,OAAO3f,KAAKykB,KAK9B7oB,KAAKyX,KAAO,WACV,IAnHoBsM,EAClB6E,EACAG,EAiHE7kB,EAAWukB,EAASzoB,MACxB,GAAIkE,EACF,OAAOA,EAGT,GAAIlE,KAAKypB,UACP,OAzHkB1F,EAyHI/jB,KAAKypB,UAxH3Bb,EAAS,IAAIE,WACbC,EAAUJ,EAAgBC,GAC9BA,EAAOqB,WAAWlG,GACXgF,EAsHE,GAAI/oB,KAAK6pB,iBACd,OAAOjmB,QAAQC,QApHrB,SAA+BqlB,GAI7B,IAHA,IAAI1M,EAAO,IAAIL,WAAW+M,GACtBgB,EAAQ,IAAI9pB,MAAMoc,EAAKrc,QAElBpC,EAAI,EAAGA,EAAIye,EAAKrc,OAAQpC,IAC/BmsB,EAAMnsB,GAAKwf,OAAOC,aAAahB,EAAKze,IAEtC,OAAOmsB,EAAMC,KAAK,IA6GSC,CAAsBpqB,KAAK6pB,mBAC7C,GAAI7pB,KAAK2pB,cACd,MAAM,IAAIloB,MAAM,wCAEhB,OAAOmC,QAAQC,QAAQ7D,KAAKupB,YAI5B3B,IACF5nB,KAAKqqB,SAAW,WACd,OAAOrqB,KAAKyX,OAAOrT,KAAKkb,KAI5Btf,KAAKmC,KAAO,WACV,OAAOnC,KAAKyX,OAAOrT,KAAKrC,KAAKC,QAGxBhC,KAlOTqoB,EAAQ1oB,UAAU2oB,OAAS,SAAShqB,EAAMU,GACxCV,EAAO0pB,EAAc1pB,GACrBU,EAAQkpB,EAAelpB,GACvB,IAAIsrB,EAAWtqB,KAAKwnB,IAAIlpB,GACxB0B,KAAKwnB,IAAIlpB,GAAQgsB,EAAWA,EAAW,KAAOtrB,EAAQA,GAGxDqpB,EAAQ1oB,UAAkB,OAAI,SAASrB,UAC9B0B,KAAKwnB,IAAIQ,EAAc1pB,KAGhC+pB,EAAQ1oB,UAAUf,IAAM,SAASN,GAE/B,OADAA,EAAO0pB,EAAc1pB,GACd0B,KAAKokB,IAAI9lB,GAAQ0B,KAAKwnB,IAAIlpB,GAAQ,MAG3C+pB,EAAQ1oB,UAAUykB,IAAM,SAAS9lB,GAC/B,OAAO0B,KAAKwnB,IAAI5nB,eAAeooB,EAAc1pB,KAG/C+pB,EAAQ1oB,UAAUwpB,IAAM,SAAS7qB,EAAMU,GACrCgB,KAAKwnB,IAAIQ,EAAc1pB,IAAS4pB,EAAelpB,IAGjDqpB,EAAQ1oB,UAAUgD,QAAU,SAASwF,EAAU3E,GAC7C,IAAK,IAAIlF,KAAQ0B,KAAKwnB,IAChBxnB,KAAKwnB,IAAI5nB,eAAetB,IAC1B6J,EAASjK,KAAKsF,EAASxD,KAAKwnB,IAAIlpB,GAAOA,EAAM0B,OAKnDqoB,EAAQ1oB,UAAUskB,KAAO,WACvB,IAAImE,EAAQ,GAIZ,OAHApoB,KAAK2C,SAAQ,SAAS3D,EAAOV,GAC3B8pB,EAAMhjB,KAAK9G,MAEN6pB,EAAYC,IAGrBC,EAAQ1oB,UAAU4qB,OAAS,WACzB,IAAInC,EAAQ,GAIZ,OAHApoB,KAAK2C,SAAQ,SAAS3D,GACpBopB,EAAMhjB,KAAKpG,MAENmpB,EAAYC,IAGrBC,EAAQ1oB,UAAUukB,QAAU,WAC1B,IAAIkE,EAAQ,GAIZ,OAHApoB,KAAK2C,SAAQ,SAAS3D,EAAOV,GAC3B8pB,EAAMhjB,KAAK,CAAC9G,EAAMU,OAEbmpB,EAAYC,IAGjBR,IACFS,EAAQ1oB,UAAUb,OAAOkG,UAAYqjB,EAAQ1oB,UAAUukB,SA6KzD,IAAIsG,EAAU,CAAC,SAAU,MAAO,OAAQ,UAAW,OAAQ,OAOpD,SAASC,EAAQC,EAAOrG,GAC7B,KAAMrkB,gBAAgByqB,GACpB,MAAM,IAAIvlB,UAAU,8FAItB,IAXuB8c,EACnB2I,EAUArmB,GADJ+f,EAAUA,GAAW,IACF/f,KAEnB,GAAIomB,aAAiBD,EAAS,CAC5B,GAAIC,EAAMhC,SACR,MAAM,IAAIxjB,UAAU,gBAEtBlF,KAAKiH,IAAMyjB,EAAMzjB,IACjBjH,KAAK4qB,YAAcF,EAAME,YACpBvG,EAAQpC,UACXjiB,KAAKiiB,QAAU,IAAIoG,EAAQqC,EAAMzI,UAEnCjiB,KAAKgiB,OAAS0I,EAAM1I,OACpBhiB,KAAKd,KAAOwrB,EAAMxrB,KAClBc,KAAK6qB,OAASH,EAAMG,OACfvmB,GAA2B,MAAnBomB,EAAMpB,YACjBhlB,EAAOomB,EAAMpB,UACboB,EAAMhC,UAAW,QAGnB1oB,KAAKiH,IAAMsW,OAAOmN,GAYpB,GATA1qB,KAAK4qB,YAAcvG,EAAQuG,aAAe5qB,KAAK4qB,aAAe,eAC1DvG,EAAQpC,SAAYjiB,KAAKiiB,UAC3BjiB,KAAKiiB,QAAU,IAAIoG,EAAQhE,EAAQpC,UAErCjiB,KAAKgiB,QArCkBA,EAqCOqC,EAAQrC,QAAUhiB,KAAKgiB,QAAU,MApC3D2I,EAAU3I,EAAO8I,cACdN,EAAQjL,QAAQoL,IAAY,EAAIA,EAAU3I,GAoCjDhiB,KAAKd,KAAOmlB,EAAQnlB,MAAQc,KAAKd,MAAQ,KACzCc,KAAK6qB,OAASxG,EAAQwG,QAAU7qB,KAAK6qB,OACrC7qB,KAAK+qB,SAAW,MAEK,QAAhB/qB,KAAKgiB,QAAoC,SAAhBhiB,KAAKgiB,SAAsB1d,EACvD,MAAM,IAAIY,UAAU,6CAItB,GAFAlF,KAAKqpB,UAAU/kB,KAEK,QAAhBtE,KAAKgiB,QAAoC,SAAhBhiB,KAAKgiB,QACV,aAAlBqC,EAAQ2G,OAA0C,aAAlB3G,EAAQ2G,OAAsB,CAEhE,IAAIC,EAAgB,gBACpB,GAAIA,EAAchD,KAAKjoB,KAAKiH,KAE1BjH,KAAKiH,IAAMjH,KAAKiH,IAAI5E,QAAQ4oB,EAAe,QAAS,IAAIhqB,MAAOoC,eAC1D,CAGLrD,KAAKiH,MADe,KACOghB,KAAKjoB,KAAKiH,KAAO,IAAM,KAAO,MAAO,IAAIhG,MAAOoC,YAUnF,SAASic,EAAOhb,GACd,IAAI4mB,EAAO,IAAIxB,SAYf,OAXAplB,EACG6mB,OACA1K,MAAM,KACN9d,SAAQ,SAASyoB,GAChB,GAAIA,EAAO,CACT,IAAI3K,EAAQ2K,EAAM3K,MAAM,KACpBniB,EAAOmiB,EAAMiF,QAAQrjB,QAAQ,MAAO,KACpCrD,EAAQyhB,EAAM0J,KAAK,KAAK9nB,QAAQ,MAAO,KAC3C6oB,EAAK5C,OAAO+C,mBAAmB/sB,GAAO+sB,mBAAmBrsB,QAGxDksB,EA6BF,SAASI,EAASC,EAAUlH,GACjC,KAAMrkB,gBAAgBsrB,GACpB,MAAM,IAAIpmB,UAAU,8FAEjBmf,IACHA,EAAU,IAGZrkB,KAAK+Y,KAAO,UACZ/Y,KAAK6S,YAA4BnR,IAAnB2iB,EAAQxR,OAAuB,IAAMwR,EAAQxR,OAC3D7S,KAAK0jB,GAAK1jB,KAAK6S,QAAU,KAAO7S,KAAK6S,OAAS,IAC9C7S,KAAK4jB,gBAAoCliB,IAAvB2iB,EAAQT,WAA2B,GAAK,GAAKS,EAAQT,WACvE5jB,KAAKiiB,QAAU,IAAIoG,EAAQhE,EAAQpC,SACnCjiB,KAAKiH,IAAMod,EAAQpd,KAAO,GAC1BjH,KAAKqpB,UAAUkC,GA5DjBd,EAAQ9qB,UAAUmkB,MAAQ,WACxB,OAAO,IAAI2G,EAAQzqB,KAAM,CAACsE,KAAMtE,KAAKspB,aA2CvCF,EAAKlrB,KAAKusB,EAAQ9qB,WAmBlBypB,EAAKlrB,KAAKotB,EAAS3rB,WAEnB2rB,EAAS3rB,UAAUmkB,MAAQ,WACzB,OAAO,IAAIwH,EAAStrB,KAAKspB,UAAW,CAClCzW,OAAQ7S,KAAK6S,OACb+Q,WAAY5jB,KAAK4jB,WACjB3B,QAAS,IAAIoG,EAAQroB,KAAKiiB,SAC1Bhb,IAAKjH,KAAKiH,OAIdqkB,EAASjqB,MAAQ,WACf,IAAI6gB,EAAW,IAAIoJ,EAAS,KAAM,CAACzY,OAAQ,EAAG+Q,WAAY,KAE1D,OADA1B,EAASnJ,KAAO,QACTmJ,GAGT,IAAIsJ,EAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,KAE5CF,EAASG,SAAW,SAASxkB,EAAK4L,GAChC,IAA0C,IAAtC2Y,EAAiBjM,QAAQ1M,GAC3B,MAAM,IAAI6Y,WAAW,uBAGvB,OAAO,IAAIJ,EAAS,KAAM,CAACzY,OAAQA,EAAQoP,QAAS,CAACrJ,SAAU3R,MAG1D,IAAI0kB,EAAehR,EAAOgR,aACjC,IACE,IAAIA,EACJ,MAAOjjB,IACPijB,EAAe,SAAShrB,EAASrC,GAC/B0B,KAAKW,QAAUA,EACfX,KAAK1B,KAAOA,EACZ,IAAI+C,EAAQI,MAAMd,GAClBX,KAAK2B,MAAQN,EAAMM,QAERhC,UAAYlB,OAAOY,OAAOoC,MAAM9B,WAC7CgsB,EAAahsB,UAAUsc,YAAc0P,EAGhC,SAAS/Q,EAAM8P,EAAOxiB,GAC3B,OAAO,IAAItE,SAAQ,SAASC,EAASC,GACnC,IAAIie,EAAU,IAAI0I,EAAQC,EAAOxiB,GAEjC,GAAI6Z,EAAQ8I,QAAU9I,EAAQ8I,OAAOe,QACnC,OAAO9nB,EAAO,IAAI6nB,EAAa,UAAW,eAG5C,IAAIE,EAAM,IAAIC,eAEd,SAASC,IACPF,EAAIG,QAGNH,EAAIlK,OAAS,WACX,IAnGgBsK,EAChBhK,EAkGIoC,EAAU,CACZxR,OAAQgZ,EAAIhZ,OACZ+Q,WAAYiI,EAAIjI,WAChB3B,SAtGcgK,EAsGQJ,EAAIK,yBAA2B,GArGvDjK,EAAU,IAAIoG,EAGQ4D,EAAW5pB,QAAQ,eAAgB,KAK1Doe,MAAM,MACN+G,KAAI,SAASlE,GACZ,OAAgC,IAAzBA,EAAO/D,QAAQ,MAAc+D,EAAOoD,OAAO,EAAGpD,EAAOnjB,QAAUmjB,KAEvE3gB,SAAQ,SAASwpB,GAChB,IAAIC,EAAQD,EAAK1L,MAAM,KACnBnhB,EAAM8sB,EAAM1G,QAAQyF,OACxB,GAAI7rB,EAAK,CACP,IAAIN,EAAQotB,EAAMjC,KAAK,KAAKgB,OAC5BlJ,EAAQqG,OAAOhpB,EAAKN,OAGnBijB,IAmFHoC,EAAQpd,IAAM,gBAAiB4kB,EAAMA,EAAIQ,YAAchI,EAAQpC,QAAQrjB,IAAI,iBAC3E,IAAI0F,EAAO,aAAcunB,EAAMA,EAAI3J,SAAW2J,EAAIS,aAClDtlB,YAAW,WACTnD,EAAQ,IAAIynB,EAAShnB,EAAM+f,MAC1B,IAGLwH,EAAIziB,QAAU,WACZpC,YAAW,WACTlD,EAAO,IAAIoB,UAAU,6BACpB,IAGL2mB,EAAIU,UAAY,WACdvlB,YAAW,WACTlD,EAAO,IAAIoB,UAAU,6BACpB,IAGL2mB,EAAIW,QAAU,WACZxlB,YAAW,WACTlD,EAAO,IAAI6nB,EAAa,UAAW,iBAClC,IAWLE,EAAIY,KAAK1K,EAAQC,OARjB,SAAgB/a,GACd,IACE,MAAe,KAARA,GAAc0T,EAAO/B,SAAS8T,KAAO/R,EAAO/B,SAAS8T,KAAOzlB,EACnE,MAAOzF,GACP,OAAOyF,GAIc0lB,CAAO5K,EAAQ9a,MAAM,GAElB,YAAxB8a,EAAQ6I,YACViB,EAAIe,iBAAkB,EACW,SAAxB7K,EAAQ6I,cACjBiB,EAAIe,iBAAkB,GAGpB,iBAAkBf,IAChBjE,EACFiE,EAAIgB,aAAe,OAEnBjF,GACA7F,EAAQE,QAAQrjB,IAAI,kBACyD,IAA7EmjB,EAAQE,QAAQrjB,IAAI,gBAAgB2gB,QAAQ,8BAE5CsM,EAAIgB,aAAe,iBAInB3kB,GAAgC,iBAAjBA,EAAK+Z,SAA0B/Z,EAAK+Z,mBAAmBoG,EAKxEtG,EAAQE,QAAQtf,SAAQ,SAAS3D,EAAOV,GACtCutB,EAAIiB,iBAAiBxuB,EAAMU,MAL7BP,OAAO+pB,oBAAoBtgB,EAAK+Z,SAAStf,SAAQ,SAASrE,GACxDutB,EAAIiB,iBAAiBxuB,EAAM4pB,EAAehgB,EAAK+Z,QAAQ3jB,QAQvDyjB,EAAQ8I,SACV9I,EAAQ8I,OAAOkC,iBAAiB,QAAShB,GAEzCF,EAAInK,mBAAqB,WAEA,IAAnBmK,EAAI7R,YACN+H,EAAQ8I,OAAOmC,oBAAoB,QAASjB,KAKlDF,EAAIzV,UAAkC,IAAtB2L,EAAQuH,UAA4B,KAAOvH,EAAQuH,cAIvE1O,EAAMqS,UAAW,EAEZtS,EAAOC,QACVD,EAAOC,MAAQA,EACfD,EAAO0N,QAAUA,EACjB1N,EAAO8P,QAAUA,EACjB9P,EAAO2Q,SAAWA,I,6BC3lBpB,uNAAI3Q,EACqB,oBAAfgN,YAA8BA,YACrB,oBAATvf,MAAwBA,WACb,IAAXuS,GAA0BA,EAEhCiN,EACY,oBAAqBjN,EADjCiN,EAEQ,WAAYjN,GAAU,aAAc7b,OAF5C8oB,EAIA,eAAgBjN,GAChB,SAAUA,GACV,WACE,IAEE,OADA,IAAIqJ,MACG,EACP,MAAOxiB,GACP,OAAO,GALX,GANAomB,EAcQ,aAAcjN,EAdtBiN,EAeW,gBAAiBjN,EAOhC,GAAIiN,EACF,IAAIC,EAAc,CAChB,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEC,EACF3J,YAAY4J,QACZ,SAAS7E,GACP,OAAOA,GAAO2E,EAAYtI,QAAQ9gB,OAAOkB,UAAUwD,SAASjF,KAAKglB,KAAS,GAIhF,SAAS8E,EAAc1pB,GAIrB,GAHoB,iBAATA,IACTA,EAAOif,OAAOjf,IAEZ,6BAA6B2pB,KAAK3pB,IAAkB,KAATA,EAC7C,MAAM,IAAI4G,UAAU,4CAA8C5G,EAAO,KAG3E,OAAOA,EAGT,SAAS4pB,EAAelpB,GAItB,MAHqB,iBAAVA,IACTA,EAAQue,OAAOve,IAEVA,EAIT,SAASmpB,EAAYC,GACnB,IAAIpjB,EAAW,CACbf,KAAM,WACJ,IAAIjF,EAAQopB,EAAM1C,QAClB,MAAO,CAACvhB,UAAgBzC,IAAV1C,EAAqBA,MAAOA,KAU9C,OANI4oB,IACF5iB,EAASlG,OAAOkG,UAAY,WAC1B,OAAOA,IAIJA,EAGF,SAASqjB,EAAQpG,GACtBjiB,KAAKwnB,IAAM,GAEPvF,aAAmBoG,EACrBpG,EAAQtf,SAAQ,SAAS3D,EAAOV,GAC9B0B,KAAKsoB,OAAOhqB,EAAMU,KACjBgB,MACMI,MAAMmoB,QAAQtG,GACvBA,EAAQtf,SAAQ,SAAS2gB,GACvBtjB,KAAKsoB,OAAOhF,EAAO,GAAIA,EAAO,MAC7BtjB,MACMiiB,GACTxjB,OAAO+pB,oBAAoBvG,GAAStf,SAAQ,SAASrE,GACnD0B,KAAKsoB,OAAOhqB,EAAM2jB,EAAQ3jB,MACzB0B,MAgEP,SAASyoB,EAASnkB,GAChB,GAAIA,EAAKokB,SACP,OAAO9kB,QAAQE,OAAO,IAAIoB,UAAU,iBAEtCZ,EAAKokB,UAAW,EAGlB,SAASC,EAAgBC,GACvB,OAAO,IAAIhlB,SAAQ,SAASC,EAASC,GACnC8kB,EAAOjH,OAAS,WACd9d,EAAQ+kB,EAAOlmB,SAEjBkmB,EAAOxf,QAAU,WACftF,EAAO8kB,EAAOvnB,WAKpB,SAASwnB,EAAsB9E,GAC7B,IAAI6E,EAAS,IAAIE,WACbC,EAAUJ,EAAgBC,GAE9B,OADAA,EAAOI,kBAAkBjF,GAClBgF,EAoBT,SAASE,EAAYC,GACnB,GAAIA,EAAI9lB,MACN,OAAO8lB,EAAI9lB,MAAM,GAEjB,IAAIoZ,EAAO,IAAIL,WAAW+M,EAAIrK,YAE9B,OADArC,EAAK2M,IAAI,IAAIhN,WAAW+M,IACjB1M,EAAKJ,OAIhB,SAASgN,IAkHP,OAjHAppB,KAAK0oB,UAAW,EAEhB1oB,KAAKqpB,UAAY,SAAS/kB,GAjM5B,IAAoB4e,EA4MhBljB,KAAK0oB,SAAW1oB,KAAK0oB,SACrB1oB,KAAKspB,UAAYhlB,EACZA,EAEsB,iBAATA,EAChBtE,KAAKupB,UAAYjlB,EACRsjB,GAAgB5D,KAAKrkB,UAAU6pB,cAAcllB,GACtDtE,KAAKypB,UAAYnlB,EACRsjB,GAAoB8B,SAAS/pB,UAAU6pB,cAAcllB,GAC9DtE,KAAK2pB,cAAgBrlB,EACZsjB,GAAwBgC,gBAAgBjqB,UAAU6pB,cAAcllB,GACzEtE,KAAKupB,UAAYjlB,EAAKnB,WACbykB,GAAuBA,KAxNlB1E,EAwN6C5e,IAvNjD4X,SAASvc,UAAU6pB,cAActG,KAwN3CljB,KAAK6pB,iBAAmBZ,EAAY3kB,EAAK8X,QAEzCpc,KAAKspB,UAAY,IAAItF,KAAK,CAAChkB,KAAK6pB,oBACvBjC,IAAwBzJ,YAAYxe,UAAU6pB,cAAcllB,IAASwjB,EAAkBxjB,IAChGtE,KAAK6pB,iBAAmBZ,EAAY3kB,GAEpCtE,KAAKupB,UAAYjlB,EAAO7F,OAAOkB,UAAUwD,SAASjF,KAAKoG,GAhBvDtE,KAAKupB,UAAY,GAmBdvpB,KAAKiiB,QAAQrjB,IAAI,kBACA,iBAAT0F,EACTtE,KAAKiiB,QAAQkH,IAAI,eAAgB,4BACxBnpB,KAAKypB,WAAazpB,KAAKypB,UAAU1Q,KAC1C/Y,KAAKiiB,QAAQkH,IAAI,eAAgBnpB,KAAKypB,UAAU1Q,MACvC6O,GAAwBgC,gBAAgBjqB,UAAU6pB,cAAcllB,IACzEtE,KAAKiiB,QAAQkH,IAAI,eAAgB,qDAKnCvB,IACF5nB,KAAK+jB,KAAO,WACV,IAAI7f,EAAWukB,EAASzoB,MACxB,GAAIkE,EACF,OAAOA,EAGT,GAAIlE,KAAKypB,UACP,OAAO7lB,QAAQC,QAAQ7D,KAAKypB,WACvB,GAAIzpB,KAAK6pB,iBACd,OAAOjmB,QAAQC,QAAQ,IAAImgB,KAAK,CAAChkB,KAAK6pB,oBACjC,GAAI7pB,KAAK2pB,cACd,MAAM,IAAIloB,MAAM,wCAEhB,OAAOmC,QAAQC,QAAQ,IAAImgB,KAAK,CAAChkB,KAAKupB,cAI1CvpB,KAAK8pB,YAAc,WACjB,GAAI9pB,KAAK6pB,iBAAkB,CACzB,IAAIE,EAAatB,EAASzoB,MAC1B,OAAI+pB,IAGA5L,YAAY4J,OAAO/nB,KAAK6pB,kBACnBjmB,QAAQC,QACb7D,KAAK6pB,iBAAiBzN,OAAOhZ,MAC3BpD,KAAK6pB,iBAAiBG,WACtBhqB,KAAK6pB,iBAAiBG,WAAahqB,KAAK6pB,iBAAiBhL,aAItDjb,QAAQC,QAAQ7D,KAAK6pB,mBAG9B,OAAO7pB,KAAK+jB,OAAO3f,KAAKykB,KAK9B7oB,KAAKyX,KAAO,WACV,IAnHoBsM,EAClB6E,EACAG,EAiHE7kB,EAAWukB,EAASzoB,MACxB,GAAIkE,EACF,OAAOA,EAGT,GAAIlE,KAAKypB,UACP,OAzHkB1F,EAyHI/jB,KAAKypB,UAxH3Bb,EAAS,IAAIE,WACbC,EAAUJ,EAAgBC,GAC9BA,EAAOqB,WAAWlG,GACXgF,EAsHE,GAAI/oB,KAAK6pB,iBACd,OAAOjmB,QAAQC,QApHrB,SAA+BqlB,GAI7B,IAHA,IAAI1M,EAAO,IAAIL,WAAW+M,GACtBgB,EAAQ,IAAI9pB,MAAMoc,EAAKrc,QAElBpC,EAAI,EAAGA,EAAIye,EAAKrc,OAAQpC,IAC/BmsB,EAAMnsB,GAAKwf,OAAOC,aAAahB,EAAKze,IAEtC,OAAOmsB,EAAMC,KAAK,IA6GSC,CAAsBpqB,KAAK6pB,mBAC7C,GAAI7pB,KAAK2pB,cACd,MAAM,IAAIloB,MAAM,wCAEhB,OAAOmC,QAAQC,QAAQ7D,KAAKupB,YAI5B3B,IACF5nB,KAAKqqB,SAAW,WACd,OAAOrqB,KAAKyX,OAAOrT,KAAKkb,KAI5Btf,KAAKmC,KAAO,WACV,OAAOnC,KAAKyX,OAAOrT,KAAKrC,KAAKC,QAGxBhC,KAlOTqoB,EAAQ1oB,UAAU2oB,OAAS,SAAShqB,EAAMU,GACxCV,EAAO0pB,EAAc1pB,GACrBU,EAAQkpB,EAAelpB,GACvB,IAAIsrB,EAAWtqB,KAAKwnB,IAAIlpB,GACxB0B,KAAKwnB,IAAIlpB,GAAQgsB,EAAWA,EAAW,KAAOtrB,EAAQA,GAGxDqpB,EAAQ1oB,UAAkB,OAAI,SAASrB,UAC9B0B,KAAKwnB,IAAIQ,EAAc1pB,KAGhC+pB,EAAQ1oB,UAAUf,IAAM,SAASN,GAE/B,OADAA,EAAO0pB,EAAc1pB,GACd0B,KAAKokB,IAAI9lB,GAAQ0B,KAAKwnB,IAAIlpB,GAAQ,MAG3C+pB,EAAQ1oB,UAAUykB,IAAM,SAAS9lB,GAC/B,OAAO0B,KAAKwnB,IAAI5nB,eAAeooB,EAAc1pB,KAG/C+pB,EAAQ1oB,UAAUwpB,IAAM,SAAS7qB,EAAMU,GACrCgB,KAAKwnB,IAAIQ,EAAc1pB,IAAS4pB,EAAelpB,IAGjDqpB,EAAQ1oB,UAAUgD,QAAU,SAASwF,EAAU3E,GAC7C,IAAK,IAAIlF,KAAQ0B,KAAKwnB,IAChBxnB,KAAKwnB,IAAI5nB,eAAetB,IAC1B6J,EAASjK,KAAKsF,EAASxD,KAAKwnB,IAAIlpB,GAAOA,EAAM0B,OAKnDqoB,EAAQ1oB,UAAUskB,KAAO,WACvB,IAAImE,EAAQ,GAIZ,OAHApoB,KAAK2C,SAAQ,SAAS3D,EAAOV,GAC3B8pB,EAAMhjB,KAAK9G,MAEN6pB,EAAYC,IAGrBC,EAAQ1oB,UAAU4qB,OAAS,WACzB,IAAInC,EAAQ,GAIZ,OAHApoB,KAAK2C,SAAQ,SAAS3D,GACpBopB,EAAMhjB,KAAKpG,MAENmpB,EAAYC,IAGrBC,EAAQ1oB,UAAUukB,QAAU,WAC1B,IAAIkE,EAAQ,GAIZ,OAHApoB,KAAK2C,SAAQ,SAAS3D,EAAOV,GAC3B8pB,EAAMhjB,KAAK,CAAC9G,EAAMU,OAEbmpB,EAAYC,IAGjBR,IACFS,EAAQ1oB,UAAUb,OAAOkG,UAAYqjB,EAAQ1oB,UAAUukB,SA6KzD,IAAIsG,EAAU,CAAC,SAAU,MAAO,OAAQ,UAAW,OAAQ,OAOpD,SAASC,EAAQC,EAAOrG,GAC7B,KAAMrkB,gBAAgByqB,GACpB,MAAM,IAAIvlB,UAAU,8FAItB,IAXuB8c,EACnB2I,EAUArmB,GADJ+f,EAAUA,GAAW,IACF/f,KAEnB,GAAIomB,aAAiBD,EAAS,CAC5B,GAAIC,EAAMhC,SACR,MAAM,IAAIxjB,UAAU,gBAEtBlF,KAAKiH,IAAMyjB,EAAMzjB,IACjBjH,KAAK4qB,YAAcF,EAAME,YACpBvG,EAAQpC,UACXjiB,KAAKiiB,QAAU,IAAIoG,EAAQqC,EAAMzI,UAEnCjiB,KAAKgiB,OAAS0I,EAAM1I,OACpBhiB,KAAKd,KAAOwrB,EAAMxrB,KAClBc,KAAK6qB,OAASH,EAAMG,OACfvmB,GAA2B,MAAnBomB,EAAMpB,YACjBhlB,EAAOomB,EAAMpB,UACboB,EAAMhC,UAAW,QAGnB1oB,KAAKiH,IAAMsW,OAAOmN,GAYpB,GATA1qB,KAAK4qB,YAAcvG,EAAQuG,aAAe5qB,KAAK4qB,aAAe,eAC1DvG,EAAQpC,SAAYjiB,KAAKiiB,UAC3BjiB,KAAKiiB,QAAU,IAAIoG,EAAQhE,EAAQpC,UAErCjiB,KAAKgiB,QArCkBA,EAqCOqC,EAAQrC,QAAUhiB,KAAKgiB,QAAU,MApC3D2I,EAAU3I,EAAO8I,cACdN,EAAQjL,QAAQoL,IAAY,EAAIA,EAAU3I,GAoCjDhiB,KAAKd,KAAOmlB,EAAQnlB,MAAQc,KAAKd,MAAQ,KACzCc,KAAK6qB,OAASxG,EAAQwG,QAAU7qB,KAAK6qB,OACrC7qB,KAAK+qB,SAAW,MAEK,QAAhB/qB,KAAKgiB,QAAoC,SAAhBhiB,KAAKgiB,SAAsB1d,EACvD,MAAM,IAAIY,UAAU,6CAItB,GAFAlF,KAAKqpB,UAAU/kB,KAEK,QAAhBtE,KAAKgiB,QAAoC,SAAhBhiB,KAAKgiB,QACV,aAAlBqC,EAAQ2G,OAA0C,aAAlB3G,EAAQ2G,OAAsB,CAEhE,IAAIC,EAAgB,gBACpB,GAAIA,EAAchD,KAAKjoB,KAAKiH,KAE1BjH,KAAKiH,IAAMjH,KAAKiH,IAAI5E,QAAQ4oB,EAAe,QAAS,IAAIhqB,MAAOoC,eAC1D,CAGLrD,KAAKiH,MADe,KACOghB,KAAKjoB,KAAKiH,KAAO,IAAM,KAAO,MAAO,IAAIhG,MAAOoC,YAUnF,SAASic,EAAOhb,GACd,IAAI4mB,EAAO,IAAIxB,SAYf,OAXAplB,EACG6mB,OACA1K,MAAM,KACN9d,SAAQ,SAASyoB,GAChB,GAAIA,EAAO,CACT,IAAI3K,EAAQ2K,EAAM3K,MAAM,KACpBniB,EAAOmiB,EAAMiF,QAAQrjB,QAAQ,MAAO,KACpCrD,EAAQyhB,EAAM0J,KAAK,KAAK9nB,QAAQ,MAAO,KAC3C6oB,EAAK5C,OAAO+C,mBAAmB/sB,GAAO+sB,mBAAmBrsB,QAGxDksB,EA2BT,SAASgC,EAAmBjB,GAC1B,IAAIhK,EAAU,IAAIoG,EAClB,IAAI,IAAI/oB,KAAO2sB,EACbhK,EAAQqG,OAAOhpB,EAAK2sB,EAAW3sB,IAEjC,OAAO2iB,EAMF,SAASqJ,EAASC,EAAUlH,GACjC,KAAMrkB,gBAAgBsrB,GACpB,MAAM,IAAIpmB,UAAU,8FAEjBmf,IACHA,EAAU,IAGZrkB,KAAK+Y,KAAO,UACZ/Y,KAAK6S,YAA4BnR,IAAnB2iB,EAAQxR,OAAuB,IAAMwR,EAAQxR,OAC3D7S,KAAK0jB,GAAK1jB,KAAK6S,QAAU,KAAO7S,KAAK6S,OAAS,IAC9C7S,KAAK4jB,gBAAoCliB,IAAvB2iB,EAAQT,WAA2B,GAAK,GAAKS,EAAQT,WACvE5jB,KAAKiiB,QAAU,IAAIoG,EAAQhE,EAAQpC,SACnCjiB,KAAKiH,IAAMod,EAAQpd,KAAO,GAC1BjH,KAAKqpB,UAAUkC,GArEjBd,EAAQ9qB,UAAUmkB,MAAQ,WACxB,OAAO,IAAI2G,EAAQzqB,KAAM,CAACsE,KAAMtE,KAAKspB,aAoDvCF,EAAKlrB,KAAKusB,EAAQ9qB,WAmBlBypB,EAAKlrB,KAAKotB,EAAS3rB,WAEnB2rB,EAAS3rB,UAAUmkB,MAAQ,WACzB,OAAO,IAAIwH,EAAStrB,KAAKspB,UAAW,CAClCzW,OAAQ7S,KAAK6S,OACb+Q,WAAY5jB,KAAK4jB,WACjB3B,QAAS,IAAIoG,EAAQroB,KAAKiiB,SAC1Bhb,IAAKjH,KAAKiH,OAIdqkB,EAASjqB,MAAQ,WACf,IAAI6gB,EAAW,IAAIoJ,EAAS,KAAM,CAACzY,OAAQ,EAAG+Q,WAAY,KAE1D,OADA1B,EAASnJ,KAAO,QACTmJ,GAGT,IAAIsJ,EAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,KAE5CF,EAASG,SAAW,SAASxkB,EAAK4L,GAChC,IAA0C,IAAtC2Y,EAAiBjM,QAAQ1M,GAC3B,MAAM,IAAI6Y,WAAW,uBAGvB,OAAO,IAAIJ,EAAS,KAAM,CAACzY,OAAQA,EAAQoP,QAAS,CAACrJ,SAAU3R,MAG1D,IAAI0kB,EAAehR,EAAOgR,aACjC,IACE,IAAIA,EACJ,MAAOjjB,IACPijB,EAAe,SAAShrB,EAASrC,GAC/B0B,KAAKW,QAAUA,EACfX,KAAK1B,KAAOA,EACZ,IAAI+C,EAAQI,MAAMd,GAClBX,KAAK2B,MAAQN,EAAMM,QAERhC,UAAYlB,OAAOY,OAAOoC,MAAM9B,WAC7CgsB,EAAahsB,UAAUsc,YAAc0P,EAIhC,SAAS/Q,EAAM8P,EAAOxiB,GAC3B,OAAO,IAAItE,SAAQ,SAASC,EAASC,GACnC,IAAIie,EAAU,IAAI0I,EAAQC,EAAOxiB,GAEjC,GAAI6Z,EAAQ8I,QAAU9I,EAAQ8I,OAAOe,QACnC,OAAO9nB,EAAO,IAAI6nB,EAAa,UAAW,eAwB5C,SAASwB,EAAMhrB,GACb,IACE,GAAmB,iBAARA,EACT,OAAOJ,KAAKE,UAAUE,GAExB,GAAmB,iBAARA,EACR,OAAOA,EAEV,MAAMX,IAER,OAAOW,EAAKgB,WAId,IAAIiqB,OAAuC,IAAtBrL,EAAQuH,UAA4B,KAAOvH,EAAQuH,UACrEvH,EAAQE,QAAQriB,eAAe,iBAAmBmiB,EAAQE,QAAQ,gBAAgB1C,QAAQ,qBAAuB,GAC7E,SAAjCwC,EAAQC,OAAO8I,gBAChBsC,EAAUrrB,KAAKC,MAAMorB,IAG1B,MAAMC,EAActS,IAAIgH,QAAQ,CAC9B9a,IA1CF,SAAgBA,GACd,IACE,MAAe,KAARA,GAAc0T,EAAO/B,SAAS8T,KAAO/R,EAAO/B,SAAS8T,KAAOzlB,EACnE,MAAOzF,GACP,OAAOyF,GAsCJ0lB,CAAO5K,EAAQ9a,KACpB+a,OAAQD,EAAQC,OAChB9Y,KAAMkkB,EACN9J,OAAQvB,EAAQE,QAAQuF,IACxB1B,SAAWzd,IAKT,GAHI0Z,EAAQ8I,QACV9I,EAAQ8I,OAAOmC,oBAAoB,QAASjB,GAE3C1jB,EAAKwb,OAAOtE,QAAQ,SAAW,EAChCvY,YAAW,WACTlD,EAAO,IAAIoB,UAAU,6BACpB,OAHL,CAYA,IAAImf,EAAU,CACZxR,OAAQxK,EAAKsb,WACbC,WAAYvb,EAAKa,KAAOikB,EAAM9kB,EAAKa,MAAQ,GAC3C+Y,QAASiL,EAAmB7kB,EAAKib,QAAU,KAE7Ce,EAAQpd,IAAMod,EAAQpC,QAAQrjB,IAAI,iBAClC,IAAI0F,EAAO+f,EAAQT,WACnB5c,YAAW,WACTnD,EAAQ,IAAIynB,EAAShnB,EAAM+f,MAC1B,OAIP,SAAS0H,IACPsB,EAAYrB,QAEVjK,EAAQ8I,QACV9I,EAAQ8I,OAAOkC,iBAAiB,QAAShB,MAM/CnR,EAAMqS,UAAW,EAEZtS,EAAOC,QACVD,EAAOC,MAAQA,EACfD,EAAO0N,QAAUA,EACjB1N,EAAO8P,QAAUA,EACjB9P,EAAO2Q,SAAWA,I,gBClmBpB,IAAIgC,EACJ,GAA0B,iBAAf3F,WACV2F,EAAc3F,gBAEd,IACC2F,EAAc,EAAQ,IACrB,MAAOjsB,IACP,QAED,GADKisB,GAAiC,oBAAX/K,SAA0B+K,EAAc/K,SAC9D+K,EAAe,MAAM,IAAI7rB,MAAM,mCAItC,IAAI8rB,EAAkBD,EAAYE,WAAaF,EAAYG,aACvDC,EAAoB,EAAQ,IAMhC,SAASC,EAAaC,EAAKC,GAiB1B,OAdIA,EACe,IAAIN,EAAgBK,EAAKC,GAGzB,IAAIN,EAAgBK,GAYpCL,GACH,CAAC,aAAc,OAAQ,UAAW,UAAU5qB,SAAQ,SAASmrB,GAC5DrvB,OAAOC,eAAeivB,EAAcG,EAAM,CACzClvB,IAAK,WAAa,OAAO2uB,EAAgBO,SAQ5ChwB,EAAOD,QAAU,CACb,aAAiB0vB,EAAkBI,EAAe,KAClD,QAAiBD,I,cCpDrB,IAAIK,EAAgB,WACnB,GAAoB,iBAAT3lB,MAAqBA,KAAM,OAAOA,KAC7C,GAAsB,iBAAXma,QAAuBA,OAAQ,OAAOA,OACjD,MAAM,IAAI9gB,MAAM,oCAGjB3D,EAAOD,QAAU,WAChB,GAAImC,KAAM,OAAOA,KAKjB,GAA0B,iBAAf2nB,YAA2BA,WAAY,OAAOA,WAKzD,IACClpB,OAAOC,eAAeD,OAAOkB,UAAW,aAAc,CACrDf,IAAK,WAAc,OAAOoB,MAC1B6iB,cAAc,IAEd,MAAOxhB,GAGR,OAAO0sB,IAER,IAEC,OAAKC,YAAmBD,IAEvB,eACMtvB,OAAOkB,UAAUquB,YA1BT,I,gBCNjBlwB,EAAOD,QAAU,EAAQ,IAAmBqJ,S,onCCC5CrJ,EAAQsB,YAAa,EACrBtB,EAAQ4J,iBAAc,EACtB,IAAIA,EACA,SAAqBC,EAAOP,EAAYQ,GACpC3H,KAAK0H,MAAQA,EACb1H,KAAKmH,WAAaA,EAClBnH,KAAK2H,KAAOA,GAIpB9J,EAAQ4J,YAAcA,G,6BCVtB5J,EAAQsB,YAAa,EACrBtB,EAAQkK,mBAAgB,EACxB,IAAIA,EACA,SAAuBL,EAAOumB,EAAYhmB,GACtCjI,KAAK0H,MAAQA,EACb1H,KAAKiuB,WAAaA,EAClBjuB,KAAKiI,SAAWA,GAIxBpK,EAAQkK,cAAgBA,G,6BCVxBlK,EAAQsB,YAAa,EACrB,IAAIyG,EAAW,EAAQ,GACnBkV,EAAa,EAAQ,GACrBoT,EAAgB,EAAQ,IACxB9nB,EAAU,EAAQ,GAClB0Y,EAAU,EAAQ,GAClBqP,EAAyB,WACzB,SAASA,EAAQlnB,GACbjH,KAAKiH,IAAM,wBACXjH,KAAKiH,IAAMA,EAuGf,OArGAknB,EAAQxuB,UAAUzB,KAAO,SAAU+I,EAAKmnB,EAAQ9pB,GAC5C,IAAI0D,EAAS8S,EAAWzV,SAAS2C,OACjCpC,EAAkB,QAAElF,KAAKsH,GACzB,IAAIqmB,EAASruB,KAAKiH,IAAMA,EACxB,GAAc,MAAVmnB,EAAgB,CAChB,IAAIE,EAAWtuB,KAAKuuB,eAAeH,GACnCrtB,QAAQsJ,IAAIikB,GACZD,GAAUC,EAEd,IAGIvM,EAAU,CAAEC,OAAQ,OAAQC,QAHlB,CACV,eAAgB,oBAE8B/iB,KAAM,OAAQoF,KAAM8B,EAAiB,QAAEjE,KAAKmC,IAC9F,OAAOtE,KAAK0a,UAAU2T,EAAQtM,IAElCoM,EAAQxuB,UAAU4uB,eAAiB,SAAUH,GACzC,IAAII,EAAO,IACX,IAAK,IAAIhwB,KAAK4vB,EACVI,GAAQhwB,EAAI,IAAM4vB,EAAO5vB,GAAK,IAGlC,OADAgwB,EAAOA,EAAKC,UAAU,EAAGD,EAAKruB,OAAS,IAG3CguB,EAAQxuB,UAAU+a,UAAY,SAAUzT,EAAK8a,GACzC,IAAInZ,EAAQ5I,KACZe,QAAQsJ,IAAI,aACZ,IAqDQqkB,EAAW5P,EAAiB,QAAErE,kBAElC,OADA1Z,QAAQsJ,IAAI,YACLqkB,EAASznB,EAAK8a,GAAS3d,MAAK,SAAU8d,GACzC,OAAOA,EAAS/f,UACjBiC,MAAK,SAAU+d,GACdvc,EAAkB,QAAElF,KAAK,QAAUqhB,EAAQC,OAAS,KAAO/a,EAAM,SAAWb,EAAiB,QAAEjE,KAAKggB,IACpG,IAAI9Z,EAAOO,EAAM+lB,qBAAqBxM,GAEtC,OADAphB,QAAQsJ,IAAI8X,GACR9Z,EAAKY,WACErF,QAAQE,OAAOuE,GAEnBzE,QAAQC,QAAQ+E,EAAM+lB,qBAAqBxM,QAI9DgM,EAAQxuB,UAAUgvB,qBAAuB,SAAUzM,GAC/C,IAAI0M,EAAc,IAAIV,EAAuB,SAAE,GAI/C,OAHAU,EAAY1lB,KAAOgZ,EAAShZ,KAC5B0lB,EAAYC,IAAM3M,EAAS2M,IAC3BD,EAAYpO,KAAO0B,EAAS1B,KACrBoO,GAEJT,EA1GiB,GA4G5BtwB,EAAiB,QAAIswB,G,6BClHrBtwB,EAAQsB,YAAa,EACrB,IAAI2vB,EAA6B,WAC7B,SAASA,EAAYC,QACD,IAAZA,IAAsBA,GAAU,GACpC/uB,KAAK6uB,IAAM,GACX7uB,KAAKkJ,KAAO,KACR6lB,IACA/uB,KAAKwgB,KAAO,KASpB,OANAsO,EAAYnvB,UAAUqvB,UAAY,WAC9B,OAAqB,MAAdhvB,KAAKwgB,MAEhBsO,EAAYnvB,UAAUsJ,SAAW,WAC7B,OAAQjJ,KAAKgvB,aAEVF,EAfqB,GAiBhCjxB,EAAiB,QAAIixB,G,6BChBrB,IAAIxkB,EAsBAe,EA8BA2B,EAkEAkJ,EAgBA/G,EAcAS,EAtJJ/R,EAAQsB,YAAa,EACrBtB,EAAQ+R,yBAA2B/R,EAAQsR,iBAAmBtR,EAAQqY,cAAgBrY,EAAQmP,kBAAoBnP,EAAQwN,uBAAyBxN,EAAQyM,oBAAiB,EAE5K,SAAWA,GAEPA,EAAeA,EAAwB,QAAI,MAAQ,UAEnDA,EAAeA,EAAwB,QAAI,MAAQ,UAEnDA,EAAeA,EAAgC,gBAAI,MAAQ,kBAE3DA,EAAeA,EAA2B,WAAI,MAAQ,aAEtDA,EAAeA,EAAkC,kBAAI,MAAQ,oBAE7DA,EAAeA,EAAmC,mBAAI,MAAQ,qBAE9DA,EAAeA,EAA2B,WAAI,MAAQ,aAEtDA,EAAeA,EAAkC,kBAAI,MAAQ,oBAE7DA,EAAeA,EAA+B,eAAI,MAAQ,iBAlB9D,CAmBGA,IAAmBA,EAAiB,KACvCzM,EAAQyM,eAAiBA,EAEzB,SAAWe,GAEPA,EAAuBA,EAAmC,WAAI,KAAQ,aAEtEA,EAAuBA,EAAsC,cAAI,MAAQ,gBAEzEA,EAAuBA,EAAsC,cAAI,MAAQ,gBAEzEA,EAAuBA,EAAuC,eAAI,MAAQ,iBAE1EA,EAAuBA,EAA4C,oBAAI,MAAQ,sBAE/EA,EAAuBA,EAA+C,uBAAI,MAAQ,yBAElFA,EAAuBA,EAAyC,iBAAI,MAAQ,mBAE5EA,EAAuBA,EAA4C,oBAAI,MAAQ,sBAE/EA,EAAuBA,EAAyC,iBAAI,MAAQ,mBAE5EA,EAAuBA,EAA4C,oBAAI,MAAQ,sBAE/EA,EAAuBA,EAAgD,wBAAI,MAAQ,0BAEnFA,EAAuBA,EAAmD,2BAAI,MAAQ,6BAEtFA,EAAuBA,EAA0C,kBAAI,MAAQ,oBA1BjF,CA2BGA,IAA2BA,EAAyB,KACvDxN,EAAQwN,uBAAyBA,EAEjC,SAAW2B,GAIPA,EAAkBA,EAA8B,WAAI,KAAQ,aAI5DA,EAAkBA,EAAgC,aAAI,MAAQ,eAI9DA,EAAkBA,EAAiC,cAAI,MAAQ,gBAI/DA,EAAkBA,EAAiC,cAAI,MAAQ,gBAI/DA,EAAkBA,EAA8B,WAAI,MAAQ,aAI5DA,EAAkBA,EAAkC,eAAI,MAAQ,iBAIhEA,EAAkBA,EAAkC,eAAI,MAAQ,iBAIhEA,EAAkBA,EAAiC,cAAI,MAAQ,gBAI/DA,EAAkBA,EAAkC,eAAI,MAAQ,iBAIhEA,EAAkBA,EAA8B,WAAI,MAAQ,aAI5DA,EAAkBA,EAAsC,mBAAI,MAAQ,qBAIpEA,EAAkBA,EAAyC,sBAAI,MAAQ,wBAIvEA,EAAkBA,EAAsC,mBAAI,MAAQ,qBAEpEA,EAAkBA,EAA6B,UAAI,MAAQ,YAE3DA,EAAkBA,EAAoC,iBAAI,MAAQ,mBAElEA,EAAkBA,EAA2C,wBAAI,MAAQ,0BAEzEA,EAAkBA,EAA4C,yBAAI,MAAQ,2BAE1EA,EAAkBA,EAAiC,cAAI,MAAQ,gBA9DnE,CA+DGA,IAAsBA,EAAoB,KAC7CnP,EAAQmP,kBAAoBA,EAE5B,SAAWkJ,GAEPA,EAAcA,EAAoB,KAAI,MAAQ,OAI9CA,EAAcA,EAAqB,MAAI,KAAQ,QAE/CA,EAAcA,EAAyB,UAAI,MAAQ,YAEnDA,EAAcA,EAAsB,OAAI,MAAQ,SAEhDA,EAAcA,EAA4B,aAAI,MAAQ,eAZ1D,CAaGA,IAAkBA,EAAgB,KACrCrY,EAAQqY,cAAgBA,EAExB,SAAW/G,GAEPA,EAAiBA,EAA8B,YAAI,KAAQ,cAE3DA,EAAiBA,EAA4C,0BAAI,MAAQ,4BAEzEA,EAAiBA,EAAmD,iCAAI,MAAQ,mCAEhFA,EAAiBA,EAAwD,sCAAI,MAAQ,wCAErFA,EAAiBA,EAAmD,iCAAI,MAAQ,mCAVpF,CAWGA,IAAqBA,EAAmB,KAC3CtR,EAAQsR,iBAAmBA,EAE3B,SAAWS,GAEPA,EAAyBA,EAA8C,oBAAI,KAAQ,sBAEnFA,EAAyBA,EAA8C,oBAAI,MAAQ,sBAJvF,CAKGA,IAA6BA,EAA2B,KAC3D/R,EAAQ+R,yBAA2BA,G,6BC7JnC/R,EAAQsB,YAAa,EACrBtB,EAAQob,sBAAwBpb,EAAQgb,sBAAwBhb,EAAQ6a,kBAAoB7a,EAAQ0a,mBAAqB1a,EAAQua,mBAAqBva,EAAQoa,mBAAqBpa,EAAQia,mBAAqBja,EAAQ6Z,uBAAoB,EAC5O,IAAIuX,EAAgB,EAAQ,IAO5BpxB,EAAQ6Z,kBALgB,SAAUhQ,EAAOwnB,EAAMrtB,EAAI4V,EAAM0X,GACrD,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYif,qBAAqBH,EAAMrtB,EAAI4V,GACpCrH,GASXvS,EAAQia,mBALiB,SAAUpQ,EAAOwnB,EAAMrtB,EAAIgW,EAAOsX,GACvD,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYkf,sBAAsBJ,EAAMrtB,EAAIgW,GACrCzH,GASXvS,EAAQoa,mBALiB,SAAUvQ,EAAOwnB,EAAMrtB,EAAImW,EAAOmX,GACvD,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYmf,sBAAsBL,EAAMrtB,EAAImW,GACrC5H,GASXvS,EAAQua,mBALiB,SAAU1Q,EAAOwnB,EAAMrtB,EAAIsW,EAAOgX,GACvD,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYof,sBAAsBN,EAAMrtB,EAAIsW,GACrC/H,GASXvS,EAAQ0a,mBALiB,SAAU7Q,EAAOwnB,EAAMrtB,EAAIyW,EAAO6W,GACvD,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYqf,sBAAsBP,EAAMrtB,EAAIyW,GACrClI,GASXvS,EAAQ6a,kBALgB,SAAUhR,EAAOwnB,EAAMrtB,EAAI4W,EAAM0W,GACrD,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYsf,qBAAqBR,EAAMrtB,EAAI4W,GACpCrI,GASXvS,EAAQgb,sBALoB,SAAUnR,EAAOwnB,EAAMrtB,EAAI+W,EAAUuW,GAC7D,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYuf,yBAAyBT,EAAMrtB,EAAI+W,GACxCxI,GASXvS,EAAQob,sBALoB,SAAUvR,EAAOwnB,EAAMrtB,EAAIkX,EAAMC,EAAQmW,GACjE,IAAI/e,EAAc,IAAI6e,EAAcG,YAAY1nB,EAAOynB,GAEvD,OADA/e,EAAYwf,yBAAyBV,EAAMrtB,EAAIkX,EAAMC,GAC9C5I,I,6BCxDXvS,EAAQsB,YAAa,EACrBtB,EAAQuxB,iBAAc,EACtB,IAAIhpB,EAAU,EAAQ,GAClBG,EAAqB,EAAQ,GAC7B6oB,EAA6B,WAC7B,SAASA,EAAY1nB,EAAOynB,GACxBnvB,KAAK6vB,UAAYzpB,EAAiB,QAAEpD,OACpChD,KAAK0H,MAAQA,EACb1H,KAAK8vB,cAAgB9vB,KAAK+vB,aAAa,EAAG,KAC1C/vB,KAAKgwB,YAAc/uB,KAAKe,OAAM,IAAIf,MAAOkC,YACzCnD,KAAKmvB,iBAAmBA,EAuG5B,OArGAC,EAAYzvB,UAAUowB,aAAe,SAAUE,EAAKC,GAChD,IAAIC,EAAQD,EAAMD,EAElB,OADYhtB,KAAKmtB,MAAMntB,KAAKC,SAAWitB,GAASF,GAIpDb,EAAYzvB,UAAU0vB,qBAAuB,SAAUvd,EAAQG,EAAMwF,GACjEzX,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAAS5Y,GAC/BzX,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAU2vB,sBAAwB,SAAUxd,EAAQG,EAAM4F,GAClE7X,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAASxY,GAC/B7X,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAU4vB,sBAAwB,SAAUzd,EAAQG,EAAM+F,GAClEhY,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAASrY,GAC/BhY,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAU6vB,sBAAwB,SAAU1d,EAAQG,EAAMkG,GAClEnY,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAASlY,GAC/BnY,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAU8vB,sBAAwB,SAAU3d,EAAQG,EAAMqG,GAClEtY,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAAS/X,GAC/BtY,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAU+vB,qBAAuB,SAAU5d,EAAQG,EAAMwG,GACjEzY,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAAS5X,GAC/BzY,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAUgwB,yBAA2B,SAAU7d,EAAQG,EAAM2G,GACrE5Y,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAM,EAAGsX,QAASzX,GAC/B5Y,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAG/C8qB,EAAYzvB,UAAUiwB,yBAA2B,SAAU9d,EAAQG,EAAM8G,EAAMmK,GAC3EljB,KAAK8R,OAASA,EACV9R,KAAKmvB,mBAAqB5oB,EAA4B,QAAEkQ,WACxDzW,KAAKiS,KAAOA,EAGZjS,KAAK+T,QAAU9B,EAEnB,IAAI3N,EAAO,CAAEyU,KAAMA,EAAMsX,QAASnN,GAClCljB,KAAKswB,YAAclqB,EAAiB,QAAEjE,KAAKmC,IAExC8qB,EA7GqB,GA+GhCvxB,EAAQuxB,YAAcA,G,6BCnHtBvxB,EAAQsB,YAAa,EACrBtB,EAAQ2Y,qBAAkB,EAC1B,IAAIjQ,EAAqB,EAAQ,GAC7BiQ,EACA,SAAyBxO,EAAQsO,EAAa6Y,GAC1CnvB,KAAK8R,OAAS9J,EACdhI,KAAKiS,KAAOqE,EAAYxE,OACxB9R,KAAKmvB,iBAAmBA,EACpBA,IAAqB5oB,EAA4B,QAAEsQ,eACnD7W,KAAK+T,QAAUuC,EAAYvC,SAE/B/T,KAAKuwB,gBAAkBja,EAAYia,iBAI3C1yB,EAAQ2Y,gBAAkBA,G,6BCf1B3Y,EAAQsB,YAAa,EACrBtB,EAAQoZ,2BAAwB,EAChC,IAAIA,EACA,SAA+BnF,EAAQwE,GACnCtW,KAAK8R,OAASA,EACd9R,KAAKiS,KAAOqE,EAAYxE,OACxB9R,KAAKwwB,WAAala,EAAYka,WAC9BxwB,KAAK6vB,UAAYvZ,EAAYuZ,UAC7B7vB,KAAKuwB,gBAAkBja,EAAYia,iBAI3C1yB,EAAQoZ,sBAAwBA,G,6BCZhCpZ,EAAQsB,YAAa,EACrBtB,EAAQuZ,uBAAoB,EAC5B,IAAIA,EACA,SAA2BtF,EAAQwE,EAAa6Y,GAC5CnvB,KAAK8R,OAASA,EACd9R,KAAKiS,KAAOqE,EAAYrE,KACxBjS,KAAKwwB,WAAala,EAAYka,WAC9BxwB,KAAKgwB,YAAc1Z,EAAY0Z,YAC/BhwB,KAAKuwB,gBAAkBja,EAAYia,gBACnCvwB,KAAKmvB,iBAAmBA,GAIhCtxB,EAAQuZ,kBAAoBA","file":"lim-sdk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nexports.__esModule = true;\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    Logger.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.info.apply(console, __spreadArrays([new Date().toISOString() + \" : \" + message], optionalParams));\n        }\n    };\n    Logger.infoTag = function (tag, message) {\n        var optionalParams = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            optionalParams[_i - 2] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.info.apply(console, __spreadArrays([new Date().toISOString() + \" \" + tag + \" : \" + message], optionalParams));\n        }\n    };\n    Logger.error = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.error.apply(console, __spreadArrays([new Date().toISOString() + \" : \" + message], optionalParams));\n        }\n    };\n    Logger.errorTag = function (tag, message) {\n        var optionalParams = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            optionalParams[_i - 2] = arguments[_i];\n        }\n        if (Logger.debug) {\n            console.error.apply(console, __spreadArrays([new Date().toISOString() + \" \" + tag + \"  : \" + message], optionalParams));\n        }\n    };\n    Logger.trace = function (e) {\n        if (Logger.debug) {\n            if (e instanceof Error) {\n                console.error(e.message + \" \\n \" + (e.stack !== undefined ? e.stack : ''));\n            }\n            else {\n                console.error(e);\n            }\n        }\n    };\n    Logger.debug = true;\n    return Logger;\n}());\nexports[\"default\"] = Logger;\n","\"use strict\";\nexports.__esModule = true;\nvar Beans = /** @class */ (function () {\n    function Beans() {\n    }\n    Beans.to = function (target) {\n        return JSON.parse(JSON.stringify(target));\n    };\n    Beans.bean = function (json) {\n        return JSON.parse(json);\n    };\n    Beans.copy = function (target) {\n        return Beans.to(target);\n    };\n    Beans.replace = function (target, replaceJSON) {\n        var r = Beans.to(target);\n        for (var v in replaceJSON) {\n            r[v] = replaceJSON[v];\n        }\n        return r;\n    };\n    Beans.toMapByKey = function (arrs, key) {\n        var result = {};\n        arrs.forEach(function (v) {\n            if (v.hasOwnProperty(key)) {\n                result[key] = v;\n            }\n        });\n        return result;\n    };\n    Beans.json = function (target) {\n        return JSON.stringify(target);\n    };\n    Beans.strEmpty = function (s) {\n        return !!s;\n    };\n    Beans.strNotEmpty = function (s) {\n        return !s;\n    };\n    Beans.isEmpty = function (str) {\n        if (str === null ||\n            str === '' ||\n            str === undefined ||\n            str.length === 0) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Beans.uuid = function () {\n        return (Math.random() * 36).toString(36).slice(2) + new Date().getTime().toString();\n    };\n    return Beans;\n}());\nexports[\"default\"] = Beans;\n","\"use strict\";\nexports.__esModule = true;\nvar ConversationType;\n(function (ConversationType) {\n    ConversationType[ConversationType[\"P2PMessage\"] = 0] = \"P2PMessage\";\n    ConversationType[ConversationType[\"GroupMessage\"] = 1] = \"GroupMessage\";\n})(ConversationType || (ConversationType = {}));\nexports[\"default\"] = ConversationType;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexports.__esModule = true;\nexports.imClient = exports.getLen = exports.limLogin = exports.ImClient = exports.sleep = exports.State = void 0;\nvar Logger_1 = require(\"../log/Logger\");\nvar ByteBuffer_1 = require(\"../codec/ByteBuffer\");\nvar LoginPack_1 = require(\"../pack/LoginPack\");\nvar WebToolkit_1 = require(\"../common/WebToolkit\");\nvar websocket_1 = require(\"websocket\");\nvar RequestBase_1 = require(\"../model/RequestBase\");\nvar RequestParams_1 = require(\"../model/RequestParams\");\nvar HttpApi_1 = require(\"./HttpApi\");\nvar utils_1 = require(\"../common/utils\");\nvar Command_1 = require(\"../common/Command\");\nvar CreateMessage_1 = require(\"../utils/CreateMessage\");\nvar ConversationType_1 = require(\"../common/ConversationType\");\nvar MessageReadPack_1 = require(\"../pack/MessageReadPack\");\nvar MessageReceiveAckPack_1 = require(\"../pack/MessageReceiveAckPack\");\nvar MessageRecallPack_1 = require(\"../pack/MessageRecallPack\");\nvar loginTimeout = 10 * 1000; // 10 seconds\nvar heartbeatInterval = 10 * 1000; // seconds\nvar firstMonitorSocket = false; // 第一次监听socket\nvar State;\n(function (State) {\n    State[State[\"INIT\"] = 0] = \"INIT\";\n    State[State[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    State[State[\"CONNECTED\"] = 2] = \"CONNECTED\";\n    State[State[\"RECONNECTING\"] = 3] = \"RECONNECTING\";\n    State[State[\"CLOSEING\"] = 4] = \"CLOSEING\";\n    State[State[\"CLOSED\"] = 5] = \"CLOSED\";\n})(State = exports.State || (exports.State = {}));\nvar TimeUnit;\n(function (TimeUnit) {\n    TimeUnit[TimeUnit[\"Second\"] = 1000] = \"Second\";\n    TimeUnit[TimeUnit[\"Millisecond\"] = 1] = \"Millisecond\";\n})(TimeUnit || (TimeUnit = {}));\nexports.sleep = function (second, Unit) {\n    if (Unit === void 0) { Unit = TimeUnit.Second; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, _) {\n                    setTimeout(function () {\n                        resolve();\n                    }, second * Unit);\n                })];\n        });\n    });\n};\nvar ImClient = /** @class */ (function () {\n    function ImClient() {\n        this.url = \"\";\n        this.version = 1;\n        this.clientType = 1;\n        this.listeners = null;\n        this.state = State.INIT;\n        // lastOfflineMessageSequence: number = 0;\n        // offlineMessageList: Array<any> = new Array<any>()\n        this.httpUrl = \"http://127.0.0.1:8000\";\n    }\n    ImClient.prototype.getRequestBase = function () {\n        return new RequestBase_1.RequestBase(this.appId, this.clientType, this.imei);\n    };\n    ImClient.prototype.isInit = function () {\n        return this.state == State.CONNECTED;\n    };\n    ImClient.prototype.getRequestParams = function () {\n        return new RequestParams_1.RequestParams(this.appId, this.userId, this.userSign);\n    };\n    ImClient.prototype.init = function (appId, userId, userSign, listeners, callback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var self, api, resp, ip, port, req, _a, success, err, conn;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        self = this;\n                        self.appId = appId;\n                        self.listeners = listeners;\n                        self.imei = WebToolkit_1[\"default\"].getDeviceInfo().system;\n                        self.imeiLength = exports.getLen(self.imei);\n                        self.userId = userId;\n                        this.userSign = userSign;\n                        this.imeiLength = self.imeiLength;\n                        if (!utils_1[\"default\"].isEmpty(this.url)) return [3 /*break*/, 2];\n                        Logger_1[\"default\"].info(\"获取im地址\");\n                        api = new HttpApi_1[\"default\"](this.httpUrl);\n                        return [4 /*yield*/, api.call(\"/user/login\", {}, {\n                                clientType: this.clientType,\n                                appId: this.appId,\n                                userId: this.userId\n                            })\n                            // console.log(resp)\n                        ];\n                    case 1:\n                        resp = _b.sent();\n                        // console.log(resp)\n                        if (resp.isFailed()) {\n                            Logger_1[\"default\"].info(\"登录失败：获取im地址失败\");\n                            return [2 /*return*/];\n                        }\n                        ip = resp.data.ip;\n                        port = resp.data.port;\n                        this.url = \"ws://\" + ip + \":\" + port + \"/ws\";\n                        _b.label = 2;\n                    case 2:\n                        req = new LoginPack_1.LoginPack(self.appId, self.userId, 1);\n                        return [4 /*yield*/, exports.limLogin(self.url, req, self)];\n                    case 3:\n                        _a = _b.sent(), success = _a.success, err = _a.err, conn = _a.conn;\n                        if (success) {\n                            if (!firstMonitorSocket) {\n                                firstMonitorSocket = true;\n                            }\n                            //登录成功以后操作\n                            conn.onerror = function (error) {\n                                Logger_1[\"default\"].info(\"websocket error: \", error);\n                                // 加入socket 连接事件\n                                if (typeof exports.imClient.listeners.onSocketErrorEvent === 'function') {\n                                    exports.imClient.listeners.onSocketErrorEvent(error);\n                                }\n                                //异步方法，自动重连\n                                _this.errorHandler(error, req);\n                            };\n                            conn.onclose = function (e) {\n                                Logger_1[\"default\"].info(\"event[onclose] fired\");\n                                if (self.state == State.CLOSEING) {\n                                    _this.onclose(\"logout\");\n                                    return;\n                                }\n                                // socket断开事件 连接事件\n                                if (typeof exports.imClient.listeners.onSocketCloseEvent === 'function') {\n                                    exports.imClient.listeners.onSocketCloseEvent();\n                                }\n                                // 异步方法 自动重连\n                                _this.errorHandler(new Error(e.reason), req);\n                            };\n                            conn.onmessage = function (evt) {\n                                var bytebuf = new ByteBuffer_1[\"default\"](evt.data);\n                                var byteBuffer = bytebuf.int32().int32().unpack();\n                                var command = byteBuffer[0]; //解析command\n                                var bodyLen = byteBuffer[1]; //解析bodylen\n                                var unpack = bytebuf.vstring(null, bodyLen).unpack(); //解析出字符串\n                                var msgBody = unpack[2];\n                                console.log(\"sdk收到服务端数据：\" + msgBody);\n                                if (command === Command_1.MessageCommand.MSG_P2P) {\n                                    //单聊消息收发\n                                    if (typeof exports.imClient.listeners.onP2PMessage === 'function') {\n                                        exports.imClient.listeners.onP2PMessage(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_ACK) {\n                                    //单聊消息发送成功ACK\n                                    if (typeof exports.imClient.listeners.onMessageAck === 'function') {\n                                        exports.imClient.listeners.onMessageAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_RECEIVE_ACK) {\n                                    // 消息接收成功ACK\n                                    if (typeof exports.imClient.listeners.onMessageReceiveAck === 'function') {\n                                        exports.imClient.listeners.onMessageReceiveAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_READED_NOTIFY) {\n                                    // 消息已读通知给同步端\n                                    if (typeof exports.imClient.listeners.onMessageReadedNotify === 'function') {\n                                        exports.imClient.listeners.onMessageReadedNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_READED_RECEIPT) {\n                                    // 消息已读回执\n                                    if (typeof exports.imClient.listeners.onMessageReadedReceipt === 'function') {\n                                        exports.imClient.listeners.onMessageReadedReceipt(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_RECALL_NOTIFY) {\n                                    // 消息撤回通知\n                                    if (typeof exports.imClient.listeners.onMessageRecallNotify === 'function') {\n                                        exports.imClient.listeners.onMessageRecallNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.MessageCommand.MSG_RECALL_ACK) {\n                                    // 消息撤回ACK\n                                    if (typeof exports.imClient.listeners.onMessageRecallAck === 'function') {\n                                        exports.imClient.listeners.onMessageRecallAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_ADD) {\n                                    // 添加好友通知\n                                    if (typeof exports.imClient.listeners.onAddFriend === 'function') {\n                                        exports.imClient.listeners.onAddFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_UPDATE) {\n                                    // 更新好友通知\n                                    if (typeof exports.imClient.listeners.onUpdateFriend === 'function') {\n                                        exports.imClient.listeners.onUpdateFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_DELETE) {\n                                    // 删除好友通知\n                                    if (typeof exports.imClient.listeners.onDeleteFriend === 'function') {\n                                        exports.imClient.listeners.onDeleteFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_REQUEST) {\n                                    // 好友申请通知\n                                    if (typeof exports.imClient.listeners.onFriendRequest === 'function') {\n                                        exports.imClient.listeners.onFriendRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_REQUEST_READ) {\n                                    // 好友申请已读通知\n                                    if (typeof exports.imClient.listeners.onReadFriendRequest === 'function') {\n                                        exports.imClient.listeners.onReadFriendRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_REQUEST_APPROVE) {\n                                    if (typeof exports.imClient.listeners.onApproveFriendRequest === 'function') {\n                                        exports.imClient.listeners.onApproveFriendRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_BLACK_ADD) {\n                                    // 添加黑名单通知\n                                    if (typeof exports.imClient.listeners.onBlackFriend === 'function') {\n                                        exports.imClient.listeners.onBlackFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_BLACK_DELETE) {\n                                    // 删除黑名单通知\n                                    if (typeof exports.imClient.listeners.onDeleteBlackFriend === 'function') {\n                                        exports.imClient.listeners.onDeleteBlackFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_ADD) {\n                                    // 添加好友分组通知\n                                    if (typeof exports.imClient.listeners.onAddFriendGroup === 'function') {\n                                        exports.imClient.listeners.onAddFriendGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_DELETE) {\n                                    // 删除好友分组通知\n                                    if (typeof exports.imClient.listeners.onDeleteFriendGroup === 'function') {\n                                        exports.imClient.listeners.onDeleteFriendGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_MEMBER_ADD) {\n                                    // 添加好友分组成员通知\n                                    if (typeof exports.imClient.listeners.onAddFriendGroupMember === 'function') {\n                                        exports.imClient.listeners.onAddFriendGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_GROUP_MEMBER_DELETE) {\n                                    // 删除好友分组成员通知\n                                    if (typeof exports.imClient.listeners.onDeleteFriendGroupMember === 'function') {\n                                        exports.imClient.listeners.onDeleteFriendGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.FriendshipEventCommand.FRIEND_ALL_DELETE) {\n                                    // 删除所有好友通知\n                                    if (typeof exports.imClient.listeners.onDeleteAllFriend === 'function') {\n                                        exports.imClient.listeners.onDeleteAllFriend(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.JOIN_GROUP) {\n                                    // 推送申请入群通知\n                                    if (typeof exports.imClient.listeners.onJoinGroup === 'function') {\n                                        exports.imClient.listeners.onJoinGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.ADDED_MEMBER) {\n                                    // 推送添加群成员通知\n                                    if (typeof exports.imClient.listeners.onAddGroupMember === 'function') {\n                                        exports.imClient.listeners.onAddGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.CREATED_GROUP) {\n                                    // 推送创建群组通知\n                                    if (typeof exports.imClient.listeners.onCreateGroup === 'function') {\n                                        exports.imClient.listeners.onCreateGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.UPDATED_GROUP) {\n                                    // 推送更新群组通知\n                                    if (typeof exports.imClient.listeners.onUpdateGroup === 'function') {\n                                        exports.imClient.listeners.onUpdateGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.EXIT_GROUP) {\n                                    // 推送退出群组通知\n                                    if (typeof exports.imClient.listeners.onExitGroup === 'function') {\n                                        exports.imClient.listeners.onExitGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.UPDATED_MEMBER) {\n                                    // 推送修改群成员通知\n                                    if (typeof exports.imClient.listeners.onUpdateGroupMember === 'function') {\n                                        exports.imClient.listeners.onUpdateGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.DELETED_MEMBER) {\n                                    // 推送删除群成员通知\n                                    if (typeof exports.imClient.listeners.onDeleteGroupMember === 'function') {\n                                        exports.imClient.listeners.onDeleteGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.DESTROY_GROUP) {\n                                    // 推送解散群通知\n                                    if (typeof exports.imClient.listeners.onDestroyGroup === 'function') {\n                                        exports.imClient.listeners.onDestroyGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.TRANSFER_GROUP) {\n                                    // 推送转让群主通知\n                                    if (typeof exports.imClient.listeners.onTransferGroup === 'function') {\n                                        exports.imClient.listeners.onTransferGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MUTE_GROUP) {\n                                    // 推送禁言群通知\n                                    if (typeof exports.imClient.listeners.onMuteGroup === 'function') {\n                                        exports.imClient.listeners.onMuteGroup(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.SPEAK_GROUP_MEMBER) {\n                                    // 推送禁言群成员通知\n                                    if (typeof exports.imClient.listeners.onMuteGroupMember === 'function') {\n                                        exports.imClient.listeners.onMuteGroupMember(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.GROUP_REQUEST_APPROVE) {\n                                    // 推送审批群申请通知\n                                    if (typeof exports.imClient.listeners.onApproveGroupRequest === 'function') {\n                                        exports.imClient.listeners.onApproveGroupRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.GROUP_REQUEST_READ) {\n                                    // 推送群申请已读通知\n                                    if (typeof exports.imClient.listeners.onReadGroupRequest === 'function') {\n                                        exports.imClient.listeners.onReadGroupRequest(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MSG_GROUP) {\n                                    // 群聊消息收发\n                                    if (typeof exports.imClient.listeners.onGroupMessage === 'function') {\n                                        exports.imClient.listeners.onGroupMessage(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MSG_GROUP_READED_NOTIFY) {\n                                    // 群聊消息已读通知\n                                    if (typeof exports.imClient.listeners.onGroupMessageReadedNotify === 'function') {\n                                        exports.imClient.listeners.onGroupMessageReadedNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.MSG_GROUP_READED_RECEIPT) {\n                                    // 群聊消息已读回执\n                                    if (typeof exports.imClient.listeners.onGroupMessageReadedReceipt === 'function') {\n                                        exports.imClient.listeners.onGroupMessageReadedReceipt(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.GroupEventCommand.GROUP_MSG_ACK) {\n                                    // 群聊消息ACK\n                                    if (typeof exports.imClient.listeners.onGroupMessageAck === 'function') {\n                                        exports.imClient.listeners.onGroupMessageAck(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_MODIFY) {\n                                    // 用户信息变更通知\n                                    if (typeof exports.imClient.listeners.onUserModify === 'function') {\n                                        exports.imClient.listeners.onUserModify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_ONLINE_STATUS_CHANGE_NOTIFY) {\n                                    // 用户在线状态更改通知\n                                    if (typeof exports.imClient.listeners.onUserOnlineStatusChangeNotify === 'function') {\n                                        exports.imClient.listeners.onUserOnlineStatusChangeNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC) {\n                                    // 用户在线状态通知同步报文\n                                    if (typeof exports.imClient.listeners.onUserOnlineStatusChangeNotifySync === 'function') {\n                                        exports.imClient.listeners.onUserOnlineStatusChangeNotifySync(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.UserEventCommand.USER_CUSTOM_STATUS_CHANGE_NOTIFY) {\n                                    // 用户自身状态更改通知报文\n                                    if (typeof exports.imClient.listeners.onUserCustomStatusChangeNotify === 'function') {\n                                        exports.imClient.listeners.onUserCustomStatusChangeNotify(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.ConversationEventCommand.CONVERSATION_DELETE) {\n                                    // 删除会话通知\n                                    if (typeof exports.imClient.listeners.onConversationDelete === 'function') {\n                                        exports.imClient.listeners.onConversationDelete(msgBody);\n                                    }\n                                }\n                                else if (command === Command_1.ConversationEventCommand.CONVERSATION_UPDATE) {\n                                    // 沟通信会话通知\n                                    if (typeof exports.imClient.listeners.onConversationUpdate === 'function') {\n                                        exports.imClient.listeners.onConversationUpdate(msgBody);\n                                    }\n                                }\n                            };\n                            this.conn = conn;\n                            this.state = State.CONNECTED;\n                            //拉取离线消息\n                            // this.loadOfflineMessage();\n                            //心跳包\n                            this.heartbeatLoop(this.conn);\n                            if (typeof exports.imClient.listeners.onLogin === 'function') {\n                                exports.imClient.listeners.onLogin(this.userId);\n                            }\n                            callback(self);\n                        }\n                        else {\n                            Logger_1[\"default\"].error(err === null || err === void 0 ? void 0 : err.message);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    ImClient.prototype.buildMessagePack = function (command, messagePack) {\n        var jsonData = JSON.stringify(messagePack);\n        var bodyLen = exports.getLen(jsonData);\n        var pack = new ByteBuffer_1[\"default\"](null, 0);\n        pack.int32(command).int32(this.version).int32(this.clientType)\n            .int32(0x0)\n            .int32(this.appId)\n            .int32(this.imeiLength)\n            .int32(bodyLen)\n            .vstring(this.imei, this.imeiLength)\n            .vstring(jsonData, bodyLen);\n        return pack;\n    };\n    // 4. 自动重连\n    ImClient.prototype.errorHandler = function (error, req) {\n        return __awaiter(this, void 0, void 0, function () {\n            var index, _a, success, err, conn, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        // 如果是主动断开连接，就没有必要自动重连\n                        // 比如收到被踢，或者主动调用logout()方法\n                        if (this.state == State.CLOSED || this.state == State.CLOSEING) {\n                            return [2 /*return*/];\n                        }\n                        this.state = State.RECONNECTING;\n                        if (typeof exports.imClient.listeners.onSocketReConnectEvent === 'function') {\n                            exports.imClient.listeners.onSocketReConnectEvent();\n                        }\n                        index = 0;\n                        _b.label = 1;\n                    case 1:\n                        if (!(index < 10)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, exports.sleep(3)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _b.trys.push([3, 5, , 6]);\n                        Logger_1[\"default\"].info(\"try to relogin\");\n                        return [4 /*yield*/, exports.limLogin(this.url, req, this)];\n                    case 4:\n                        _a = _b.sent(), success = _a.success, err = _a.err, conn = _a.conn;\n                        if (success) {\n                            if (typeof exports.imClient.listeners.onSocketReConnectSuccessEvent === 'function') {\n                                exports.imClient.listeners.onSocketReConnectSuccessEvent();\n                            }\n                            return [2 /*return*/];\n                        }\n                        Logger_1[\"default\"].info(err);\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_1 = _b.sent();\n                        Logger_1[\"default\"].info(error_1);\n                        return [3 /*break*/, 6];\n                    case 6:\n                        index++;\n                        return [3 /*break*/, 1];\n                    case 7:\n                        this.onclose(\"reconnect timeout\");\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // 表示连接中止\n    ImClient.prototype.onclose = function (reason) {\n        if (this.state == State.CLOSED) {\n            return;\n        }\n        this.state = State.CLOSED;\n        Logger_1[\"default\"].info(\"connection closed due to \" + reason);\n        this.conn = undefined;\n        this.userId = \"\";\n        // 加入socket 关闭事件\n        if (typeof exports.imClient.listeners.onSocketErrorEvent === 'function') {\n            exports.imClient.listeners.onSocketCloseEvent();\n        }\n    };\n    /*\n     *   用户相关操作\n     */\n    ImClient.prototype.getSingleUserInfo = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/getSingleUserInfo\", _this.getRequestParams(), {\n                userId: _this.userId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getUserInfo = function (userIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/getUserInfo\", _this.getRequestParams(), { userIds: userIds });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.modifyUserInfo = function (userData) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/modifyUserInfo\", _this.getRequestParams(), userData);\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getUserSequence = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/getUserSequence\", _this.getRequestParams(), { userId: _this.userId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.subscribeUserOnlineStatus = function (subTime, subUserId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/subscribeUserOnlineStatus\", _this.getRequestParams(), {\n                subTime: subTime,\n                subUserId: subUserId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.setUserCustomerStatus = function (customText, customStatus) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/setUserCustomerStatus\", _this.getRequestParams(), {\n                userId: _this.userId,\n                customText: customText,\n                customStatus: customStatus\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.queryUserOnlineStatus = function (userList) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/queryUserOnlineStatus\", _this.getRequestParams(), {\n                userList: userList,\n                clientType: _this.clientType,\n                imei: _this.imei\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.queryFriendOnlineStatus = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/user/queryFriendOnlineStatus\", _this.getRequestParams(), {\n                clientType: _this.clientType,\n                imei: _this.imei\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     *  好友相关操作\n     */\n    ImClient.prototype.addFriend = function (toItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/add\", _this.getRequestParams(), { fromId: _this.userId, toItem: toItem });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.updateFriend = function (toItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/update\", _this.getRequestParams(), { fromId: _this.userId, toItem: toItem });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteFriend = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/delete\", _this.getRequestParams(), { fromId: _this.userId, toId: toId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteAllFriend = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/deleteAll\", _this.getRequestParams(), {\n                fromId: _this.userId,\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getAllFriend = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/getAll\", _this.getRequestParams(), { fromId: _this.userId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getRelation = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/getRelation\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                toId: toId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.verifyFriendship = function (checkType, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/verify\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                checkType: checkType,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.blackFriend = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/black\", _this.getRequestParams(), { fromId: _this.userId, toId: toId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteBlackFriend = function (toId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/deleteBlack\", _this.getRequestParams(), { fromId: _this.userId, toId: toId });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.verifyBlack = function (checkType, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/verifyBlack\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                checkType: checkType,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.approveFriendshipRequest = function (id, status) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendshipRequest/approve\", _this.getRequestParams(), {\n                id: id,\n                status: status\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.readFriendshipRequest = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendshipRequest/read\", _this.getRequestParams(), {\n                userId: _this.userId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getFriendshipRequest = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendshipRequest/get\", _this.getRequestParams(), {\n                userId: _this.userId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addFriendshipGroup = function (groupName, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupName: groupName,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getAllFriendshipGroup = function () {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/getAll\", _this.getRequestParams(), {\n                fromId: _this.userId,\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteFriendshipGroup = function (groupNames) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/delete\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupNames: groupNames\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addFriendshipGroupMember = function (groupName, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/member/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupName: groupName,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteFriendshipGroupMember = function (groupName, toIds) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/group/member/delete\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupName: groupName,\n                toIds: toIds\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     *  群组相关操作\n     */\n    ImClient.prototype.createGroup = function (groupData) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/create\", _this.getRequestParams(), groupData);\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.updateGroup = function (groupData) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/update\", _this.getRequestParams(), groupData);\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getJoinedGroup = function (limit, offset) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/getJoined\", _this.getRequestParams(), {\n                memberId: _this.userId,\n                limit: limit,\n                offset: offset\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.destroyGroup = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/destroy\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.transferGroup = function (groupId, ownerId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/transfer\", _this.getRequestParams(), {\n                groupId: groupId,\n                ownerId: ownerId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getGroupInfo = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/get\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.muteGroup = function (groupId, mute) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/mute\", _this.getRequestParams(), {\n                groupId: groupId,\n                mute: mute\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addGroup = function (groupItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupItem: groupItem\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addGroupMember = function (groupId, members) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/add\", _this.getRequestParams(), {\n                groupId: groupId,\n                clientType: _this.clientType,\n                members: members\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.removeGroupMember = function (groupId, memberId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/remove\", _this.getRequestParams(), {\n                groupId: groupId,\n                clientType: _this.clientType,\n                memberId: memberId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.exitGroup = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/exit\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.updateGroupMember = function (groupId, memberId, role) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/update\", _this.getRequestParams(), {\n                groupId: groupId,\n                clientType: _this.clientType,\n                memberId: memberId,\n                role: role\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.muteGroupMember = function (groupId, memberId, speakDate) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/member/speak\", _this.getRequestParams(), {\n                groupId: groupId,\n                memberId: memberId,\n                speakDate: speakDate\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.addGroupRequest = function (groupItem) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/add\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                groupItem: groupItem\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.approveGroupRequest = function (id, status) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/approve\", _this.getRequestParams(), {\n                id: id,\n                status: status\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.getGroupRequest = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/get\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.readGroupRequest = function (groupId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/request/read\", _this.getRequestParams(), {\n                groupId: groupId\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     *  会话相关操作\n     */\n    ImClient.prototype.updateConversation = function (conversationId, isMute, isTop) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/conversation/updateConversation\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                clientType: _this.clientType,\n                imei: _this.imei,\n                conversationId: conversationId,\n                isMute: isMute,\n                isTop: isTop\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.deleteConversation = function (conversationId) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/conversation/deleteConversation\", _this.getRequestParams(), {\n                fromId: _this.userId,\n                clientType: _this.clientType,\n                imei: _this.imei,\n                conversationId: conversationId,\n            });\n            resolve(resp);\n        });\n    };\n    /*\n     * 同步相关操作\n     */\n    ImClient.prototype.syncFriendshipList = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/friendship/syncFriendshipList\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.syncConversationList = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/conversation/syncConversationList\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.syncJoinedGroup = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/group/syncJoinedGroup\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    ImClient.prototype.syncOfflineMessage = function (lastSequence, maxLimit) {\n        var _this = this;\n        return new Promise(function (resolve, _) {\n            var api = new HttpApi_1[\"default\"](_this.httpUrl);\n            var resp = api.call(\"/message/syncOfflineMessage\", _this.getRequestParams(), {\n                lastSequence: lastSequence,\n                maxLimit: maxLimit\n            });\n            resolve(resp);\n        });\n    };\n    // 2、心跳\n    ImClient.prototype.heartbeatLoop = function (conn) {\n        var _this = this;\n        var start = Date.now();\n        var loop = function () {\n            if (_this.state != State.CONNECTED) {\n                Logger_1[\"default\"].error(\"heartbeatLoop exited\");\n                return;\n            }\n            if (Date.now() - start >= heartbeatInterval) {\n                Logger_1[\"default\"].info(\">>> send ping ;\");\n                start = Date.now();\n                var pingPack = exports.imClient.buildMessagePack(Command_1.SystemCommand.PING, {});\n                conn.send(pingPack.pack(false));\n            }\n            setTimeout(loop, 500);\n        };\n        setTimeout(loop, 500);\n    };\n    // 发送消息已读\n    ImClient.prototype.sendP2PMessageRead = function (messageData) {\n        var messageReadPack = new MessageReadPack_1.MessageReadPack(this.userId, messageData, ConversationType_1[\"default\"].P2PMessage);\n        var sendMessageReadPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_READED, messageReadPack);\n        if (this.conn) {\n            this.conn.send(sendMessageReadPack.pack(false));\n        }\n    };\n    ImClient.prototype.sendGroupMessageRead = function (messageData) {\n        var messageReadPack = new MessageReadPack_1.MessageReadPack(this.userId, messageData, ConversationType_1[\"default\"].GroupMessage);\n        var sendMessageReadPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP_READED, messageReadPack);\n        if (this.conn) {\n            this.conn.send(sendMessageReadPack.pack(false));\n        }\n    };\n    // 发送消息接收成功ACK\n    ImClient.prototype.sendMessageReceiveAck = function (messageData) {\n        var messageReceiveAckPack = new MessageReceiveAckPack_1.MessageReceiveAckPack(this.userId, messageData);\n        var sendMessageReceiveAck = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_RECEIVE_ACK, messageReceiveAckPack);\n        if (this.conn) {\n            this.conn.send(sendMessageReceiveAck.pack(false));\n        }\n    };\n    // 发送消息撤回\n    ImClient.prototype.sendP2PMessageRecall = function (messageData) {\n        var messageRecallPack = new MessageRecallPack_1.MessageRecallPack(this.userId, messageData, ConversationType_1[\"default\"].P2PMessage);\n        var sendMessageRecall = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_RECALL, messageRecallPack);\n        if (this.conn) {\n            this.conn.send(sendMessageRecall.pack(false));\n        }\n    };\n    ImClient.prototype.sendGroupMessageRecall = function (messageData) {\n        var messageRecallPack = new MessageRecallPack_1.MessageRecallPack(this.userId, messageData, ConversationType_1[\"default\"].GroupMessage);\n        var sendMessageRecall = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_RECALL, messageRecallPack);\n        if (this.conn) {\n            this.conn.send(sendMessageRecall.pack(false));\n        }\n    };\n    // 发送单聊文本消息\n    ImClient.prototype.sendP2PTextMessage = function (to, text) {\n        var pack = CreateMessage_1.createTextMessage(this.appId, this.userId, to, text, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n        }\n        return pack;\n    };\n    // 发送单聊图片消息\n    ImClient.prototype.sendP2PImageMessage = function (to, image) {\n        var pack = CreateMessage_1.createImageMessage(this.appId, this.userId, to, image, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊语音消息\n    ImClient.prototype.sendP2PAudioMessage = function (to, audio) {\n        var pack = CreateMessage_1.createAudioMessage(this.appId, this.userId, to, audio, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊视频消息\n    ImClient.prototype.sendP2PVideoMessage = function (to, video) {\n        var pack = CreateMessage_1.createVideoMessage(this.appId, this.userId, to, video, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊表情消息\n    ImClient.prototype.sendP2PEmojiMessage = function (to, emoji) {\n        var pack = CreateMessage_1.createEmojiMessage(this.appId, this.userId, to, emoji, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊文件消息\n    ImClient.prototype.sendP2PFileMessage = function (to, file) {\n        var pack = CreateMessage_1.createFileMessage(this.appId, this.userId, to, file, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊位置消息\n    ImClient.prototype.sendP2PLocationMessage = function (to, location) {\n        var pack = CreateMessage_1.createLocationMessage(this.appId, this.userId, to, location, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送单聊自定义消息\n    ImClient.prototype.sendP2PCustomerMessage = function (to, type, custom) {\n        var pack = CreateMessage_1.createCustomerMessage(this.appId, this.userId, to, type, custom, ConversationType_1[\"default\"].P2PMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.MessageCommand.MSG_P2P, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊文本消息\n    ImClient.prototype.sendGroupTextMessage = function (to, text) {\n        var pack = CreateMessage_1.createTextMessage(this.appId, this.userId, to, text, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊图片消息\n    ImClient.prototype.sendGroupImageMessage = function (to, image) {\n        var pack = CreateMessage_1.createImageMessage(this.appId, this.userId, to, image, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊语音消息\n    ImClient.prototype.sendGroupAudioMessage = function (to, audio) {\n        var pack = CreateMessage_1.createAudioMessage(this.appId, this.userId, to, audio, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊视频消息\n    ImClient.prototype.sendGroupVideoMessage = function (to, video) {\n        var pack = CreateMessage_1.createVideoMessage(this.appId, this.userId, to, video, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊表情消息\n    ImClient.prototype.sendGroupEmojiMessage = function (to, emoji) {\n        var pack = CreateMessage_1.createEmojiMessage(this.appId, this.userId, to, emoji, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊文件消息\n    ImClient.prototype.sendGroupFileMessage = function (to, file) {\n        var pack = CreateMessage_1.createFileMessage(this.appId, this.userId, to, file, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊位置消息\n    ImClient.prototype.sendGroupLocationMessage = function (to, location) {\n        var pack = CreateMessage_1.createLocationMessage(this.appId, this.userId, to, location, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    // 发送群聊自定义消息\n    ImClient.prototype.sendGroupCustomerMessage = function (to, type, custom) {\n        var pack = CreateMessage_1.createCustomerMessage(this.appId, this.userId, to, type, custom, ConversationType_1[\"default\"].GroupMessage);\n        var p2pPack = exports.imClient.buildMessagePack(Command_1.GroupEventCommand.MSG_GROUP, pack);\n        if (this.conn) {\n            this.conn.send(p2pPack.pack(false));\n            return pack;\n        }\n    };\n    ImClient.prototype.getUserId = function () {\n        return this.userId;\n    };\n    return ImClient;\n}());\nexports.ImClient = ImClient;\nexports.limLogin = function (url, req, imClient) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        return [2 /*return*/, new Promise(function (resolve, _) {\n                var conn = new websocket_1.w3cwebsocket(url);\n                conn.binaryType = \"arraybuffer\";\n                Logger_1[\"default\"].info(\"limLogin\");\n                // 设置一个登陆超时器\n                var tr = setTimeout(function () {\n                    clearTimeout(tr);\n                    resolve({ success: false, err: new Error(\"timeout\"), conn: conn });\n                }, loginTimeout);\n                conn.onopen = function () {\n                    if (conn.readyState == websocket_1.w3cwebsocket.OPEN) {\n                        // 加入socket 连接事件\n                        if (typeof imClient.listeners.onSocketConnectEvent === 'function') {\n                            imClient.listeners.onSocketConnectEvent(url, req);\n                        }\n                        Logger_1[\"default\"].info(\"\\u5F00\\u542F\\u8FDE\\u63A5\");\n                        //登录数据包\n                        var data = {\n                            \"userId\": req.userId\n                        };\n                        var loginPack = imClient.buildMessagePack(Command_1.SystemCommand.LOGIN, data);\n                        conn.send(loginPack.pack(false));\n                    }\n                };\n                conn.onerror = function (error) {\n                    clearTimeout(tr);\n                    Logger_1[\"default\"].error(error);\n                    resolve({ success: false, err: error, conn: conn });\n                };\n                conn.onmessage = function (evt) {\n                    if (typeof evt.data === 'string') {\n                        Logger_1[\"default\"].info(\"Received: '\" + evt.data + \"'\");\n                        return;\n                    }\n                    clearTimeout(tr);\n                    var bytebuf = new ByteBuffer_1[\"default\"](evt.data);\n                    var byteBuffer = bytebuf.int32().int32().unpack();\n                    var command = byteBuffer[0];\n                    var bodyLen = byteBuffer[1];\n                    if (command == Command_1.SystemCommand.LOGIN_ACK) {\n                        resolve({ success: true, conn: conn });\n                    }\n                };\n            })];\n    });\n}); };\nexports.getLen = function (str) {\n    var len = 0;\n    for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n        //单字节加1\n        if ((c >= 0x0001 && c <= 0x007e) || (0xff60 <= c && c <= 0xff9f)) {\n            len++;\n        }\n        else {\n            len += 3;\n        }\n    }\n    return len;\n};\nexports.imClient = new ImClient();\n","\"use strict\";\nexports.__esModule = true;\nvar Fetch = /** @class */ (function () {\n    function Fetch() {\n    }\n    Fetch.getFetchToolkit = function () {\n        var httpFetch;\n        // @ts-ignore\n        if (typeof global.fetch !== 'undefined' && typeof global.fetch === 'function') {\n            // @ts-ignore\n            httpFetch = global.fetch;\n        }\n        else if (typeof fetch === 'function') {\n            httpFetch = fetch; // RN FETCH\n        }\n        else {\n            /*WX_APP*/\n            httpFetch = require(\"wxapp-fetch\");\n            /*WX_APP*/\n            /*WEB_APP*/\n            httpFetch = require(\"isomorphic-fetch\");\n            /*WEB_APP*/\n            /*UNI_APP*/\n            var uniFetch = require(\"../uniapp/http/uni-fetch\");\n            httpFetch = uniFetch.fetch;\n            /*UNI_APP*/\n        }\n        return httpFetch;\n    };\n    return Fetch;\n}());\nexports[\"default\"] = Fetch;\n","\"use strict\";\nexports.__esModule = true;\nexports.im = void 0;\nvar ImClient_1 = require(\"./lim/core/ImClient\");\nexports.im = ImClient_1.imClient;\n// if(typeof window !== 'undefined'){\n//     console.log(\"window\");\n// }\n// if(typeof global !== 'undefined'){\n//     console.log(\"global\");\n// }\n// @ts-ignore\nif (typeof uni !== 'undefined') {\n    // console.log(\"uni\");\n    // @ts-ignore\n    uni['im'] = ImClient_1.imClient;\n    // @ts-ignore\n    // uni['im_webtoolkit'] = WebToolkit;\n}\n","\"use strict\";\nexports.__esModule = true;\nvar ByteBuffer = /** @class */ (function () {\n    function ByteBuffer(arrayBuf, offset) {\n        this.Type_Byte = 1;\n        this.Type_Short = 2;\n        this.Type_UShort = 3;\n        this.Type_Int32 = 4;\n        this.Type_UInt32 = 5;\n        this.Type_String = 6; //变长字符串，前两个字节表示长度\n        this.Type_VString = 7; //定长字符串\n        this.Type_Int64 = 8;\n        this.Type_Float = 9;\n        this.Type_Double = 10;\n        this.Type_ByteArray = 11;\n        this._offset = 0;\n        this._list = [];\n        this._littleEndian = false;\n        this._org_buf = arrayBuf ? (arrayBuf.constructor == DataView ? arrayBuf\n            : (arrayBuf.constructor == Uint8Array ? new DataView(arrayBuf.buffer, offset) : new DataView(arrayBuf, offset))) : new DataView(new Uint8Array([]).buffer);\n        this.arrayBuf = arrayBuf;\n        this.offset = offset;\n        // if (!ArrayBuffer.prototype.slice) {\n        //     ArrayBuffer.prototype.slice = function (start, end) {\n        //         var that = new Uint8Array(this);\n        //         if (end == undefined) end = that.length;\n        //         var result = new ArrayBuffer(end - start);\n        //         var resultArray = new Uint8Array(result);\n        //         for (var i = 0; i < resultArray.length; i++)\n        //             resultArray[i] = that[i + start];\n        //         return result;\n        //     }\n        // }\n    }\n    //指定字节序 为BigEndian\n    ByteBuffer.prototype.bigEndian = function () {\n        this._littleEndian = false;\n        return this;\n    };\n    ;\n    //指定字节序 为LittleEndian\n    ByteBuffer.prototype.littleEndianfunction = function () {\n        this._littleEndian = true;\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.utf8Write = function (view, offset, str) {\n        var c = 0;\n        for (var i = 0, l = str.length; i < l; i++) {\n            c = str.charCodeAt(i);\n            if (c < 0x80) {\n                view.setUint8(offset++, c);\n            }\n            else if (c < 0x800) {\n                view.setUint8(offset++, 0xc0 | (c >> 6));\n                view.setUint8(offset++, 0x80 | (c & 0x3f));\n            }\n            else if (c < 0xd800 || c >= 0xe000) {\n                view.setUint8(offset++, 0xe0 | (c >> 12));\n                view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n                view.setUint8(offset++, 0x80 | (c & 0x3f));\n            }\n            else {\n                i++;\n                c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\n                view.setUint8(offset++, 0xf0 | (c >> 18));\n                view.setUint8(offset++, 0x80 | (c >> 12) & 0x3f);\n                view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\n                view.setUint8(offset++, 0x80 | (c & 0x3f));\n            }\n        }\n    };\n    // byte (val, index) {\n    //     if (arguments.length == 0) {\n    //         this._list.push(this._org_buf.getUint8(this._offset, this._littleEndian));\n    //         this._offset += 1;\n    //     } else {\n    //         this._list.splice(index != undefined ? index : this._list.length, 0);\n    //         this._offset += 1;\n    //     }\n    //     return this;\n    // };\n    // short(val:number, index:number) {\n    //     if (arguments.length == 0) {\n    //         this._list.push(this._org_buf.getInt16(this._offset, this._littleEndian));\n    //         this._offset += 2;\n    //     } else {\n    //         this._list.splice(index != undefined ? index : this._list.length, 0, this.Type_Short);\n    //         this._offset += 2;\n    //     }\n    //     return this;\n    // };\n    // ushort(val, index) {\n    //     if (arguments.length == 0) {\n    //         this._list.push(this._org_buf.getUint16(this._offset, this._littleEndian));\n    //         this._offset += 2;\n    //     } else {\n    //         // , {t: this.Type_UShort, d: val, l: 2}\n    //         this._list.splice(index != undefined ? index : this._list.length, 0);\n    //         this._offset += 2;\n    //     }\n    //     return this;\n    // };\n    ByteBuffer.prototype.int32 = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getInt32(this._offset, this._littleEndian));\n            this._offset += 4;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Int32, d: val, l: 4 });\n            this._offset += 4;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.uint32 = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getUint32(this._offset, this._littleEndian));\n            this._offset += 4;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_UInt32, d: val, l: 4 });\n            this._offset += 4;\n        }\n        return this;\n    };\n    ;\n    /**\n     * 新加的方法，获取bytebuffer的长度\n     */\n    ByteBuffer.prototype.blength = function () {\n        return this._offset;\n    };\n    ;\n    /**\n     * 变长字符串 前4个字节表示字符串长度\n     **/\n    ByteBuffer.prototype.string = function (val, index) {\n        if (arguments.length == 0) {\n            var len = this._org_buf.getInt32(this._offset, this._littleEndian);\n            this._offset += 4;\n            this._list.push(this.utf8Read(this._org_buf, this._offset, len));\n            this._offset += len;\n        }\n        else {\n            var len = 0;\n            if (val) {\n                len = this.utf8Length(val);\n            }\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_String, d: val, l: len });\n            this._offset += len + 4;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.utf8Length = function (str) {\n        var c = 0, length = 0;\n        for (var i = 0, l = str.length; i < l; i++) {\n            c = str.charCodeAt(i);\n            if (c < 0x80) {\n                length += 1;\n            }\n            else if (c < 0x800) {\n                length += 2;\n            }\n            else if (c < 0xd800 || c >= 0xe000) {\n                length += 3;\n            }\n            else {\n                i++;\n                length += 4;\n            }\n        }\n        return length;\n    };\n    ByteBuffer.prototype.utf8Read = function (view, offset, length) {\n        var string = '', chr = 0;\n        for (var i = offset, end = offset + length; i < end; i++) {\n            var byte = view.getUint8(i);\n            if ((byte & 0x80) === 0x00) {\n                string += String.fromCharCode(byte);\n                continue;\n            }\n            if ((byte & 0xe0) === 0xc0) {\n                string += String.fromCharCode(((byte & 0x0f) << 6) |\n                    (view.getUint8(++i) & 0x3f));\n                continue;\n            }\n            if ((byte & 0xf0) === 0xe0) {\n                string += String.fromCharCode(((byte & 0x0f) << 12) |\n                    ((view.getUint8(++i) & 0x3f) << 6) |\n                    ((view.getUint8(++i) & 0x3f) << 0));\n                continue;\n            }\n            if ((byte & 0xf8) === 0xf0) {\n                chr = ((byte & 0x07) << 18) |\n                    ((view.getUint8(++i) & 0x3f) << 12) |\n                    ((view.getUint8(++i) & 0x3f) << 6) |\n                    ((view.getUint8(++i) & 0x3f) << 0);\n                if (chr >= 0x010000) { // surrogate pair\n                    chr -= 0x010000;\n                    string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\n                }\n                else {\n                    string += String.fromCharCode(chr);\n                }\n                continue;\n            }\n            throw new Error('Invalid byte ' + byte.toString(16));\n        }\n        return string;\n    };\n    /**\n     * 定长字符串 val为null时，读取定长字符串（需指定长度len）\n     **/\n    ByteBuffer.prototype.vstring = function (val, len, index) {\n        if (!len) {\n            throw new Error('vstring must got len argument');\n            return this;\n        }\n        if (val == undefined || val == null) {\n            var vlen = 0; //实际长度\n            for (var i = this._offset; i < this._offset + len; i++) {\n                if (this._org_buf.getUint8(i) > 0)\n                    vlen++;\n            }\n            this._list.push(this.utf8Read(this._org_buf, this._offset, vlen));\n            this._offset += len;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, {\n                t: this.Type_VString,\n                d: val,\n                l: len\n            });\n            this._offset += len;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.int64 = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getFloat64(this._offset, this._littleEndian));\n            this._offset += 8;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Int64, d: val, l: 8 });\n            this._offset += 8;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.float = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getFloat32(this._offset, this._littleEndian));\n            this._offset += 4;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Float, d: val, l: 4 });\n            this._offset += 4;\n        }\n        return this;\n    };\n    ;\n    ByteBuffer.prototype.double = function (val, index) {\n        if (arguments.length == 0) {\n            this._list.push(this._org_buf.getFloat64(this._offset, this._littleEndian));\n            this._offset += 8;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, { t: this.Type_Double, d: val, l: 8 });\n            this._offset += 8;\n        }\n        return this;\n    };\n    ;\n    /**\n     * 写入或读取一段字节数组\n     **/\n    ByteBuffer.prototype.byteArray = function (val, len, index) {\n        if (!len) {\n            throw new Error('byteArray must got len argument');\n            return this;\n        }\n        if (val == undefined || val == null) {\n            var arr = new Uint8Array(this._org_buf.buffer.slice(this._offset, this._offset + len));\n            this._list.push(arr);\n            this._offset += len;\n        }\n        else {\n            this._list.splice(index != undefined ? index : this._list.length, 0, {\n                t: this.Type_ByteArray,\n                d: val,\n                l: len\n            });\n            this._offset += len;\n        }\n        return this;\n    };\n    ;\n    /**\n     * 解包成数据数组\n     **/\n    ByteBuffer.prototype.unpack = function () {\n        return this._list;\n    };\n    ;\n    /**\n     * 打包成二进制,在前面加上4个字节表示包长\n     **/\n    ByteBuffer.prototype.packWithHead = function () {\n        return this.pack(true);\n    };\n    ;\n    /**\n     * 打包成二进制\n     * @param ifHead 是否在前面加上4个字节表示包长\n     **/\n    ByteBuffer.prototype.pack = function (ifHead) {\n        this._org_buf = new DataView(new ArrayBuffer((ifHead) ? this._offset + 4 : this._offset));\n        var offset = 0;\n        if (ifHead) {\n            this._org_buf.setUint32(offset, this._offset, this._littleEndian);\n            offset += 4;\n        }\n        for (var i = 0; i < this._list.length; i++) {\n            switch (this._list[i].t) {\n                case this.Type_Byte:\n                    this._org_buf.setInt8(offset, this._list[i].d);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Short:\n                    this._org_buf.setInt16(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_UShort:\n                    this._org_buf.setUint16(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Int32:\n                    this._org_buf.setInt32(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_UInt32:\n                    this._org_buf.setUint32(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_String:\n                    //前4个字节表示字符串长度\n                    this._org_buf.setUint32(offset, this._list[i].l, this._littleEndian);\n                    offset += 4;\n                    this.utf8Write(this._org_buf, offset, this._list[i].d);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_VString:\n                    this.utf8Write(this._org_buf, offset, this._list[i].d);\n                    var vlen = this.utf8Length(this._list[i].d); //字符串实际长度\n                    //补齐\\0\n                    for (var j = offset + vlen; j < offset + this._list[i].l; j++) {\n                        this._org_buf.setUint8(j, 0);\n                    }\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Int64:\n                    this._org_buf.setFloat64(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Float:\n                    this._org_buf.setFloat32(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_Double:\n                    this._org_buf.setFloat64(offset, this._list[i].d, this._littleEndian);\n                    offset += this._list[i].l;\n                    break;\n                case this.Type_ByteArray:\n                    var indx = 0;\n                    for (var j = offset; j < offset + this._list[i].l; j++) {\n                        if (indx < this._list[i].d.length) {\n                            this._org_buf.setUint8(j, this._list[i].d[indx]);\n                        }\n                        else { //不够的话，后面补齐0x00\n                            this._org_buf.setUint8(j, 0);\n                        }\n                        indx++;\n                    }\n                    offset += this._list[i].l;\n                    break;\n            }\n        }\n        return this._org_buf.buffer;\n    };\n    ;\n    /**\n     * 未读数据长度\n     **/\n    ByteBuffer.prototype.getAvailable = function () {\n        if (!this._org_buf)\n            return this._offset;\n        return this._org_buf.buffer.byteLength - this._offset;\n    };\n    ;\n    return ByteBuffer;\n}());\nexports[\"default\"] = ByteBuffer;\n","\"use strict\";\nexports.__esModule = true;\nexports.LoginPack = void 0;\nvar LoginPack = /** @class */ (function () {\n    function LoginPack(appId, userId, clientType) {\n        this.userId = userId;\n        this.clientType = clientType;\n        this.appId = appId;\n    }\n    return LoginPack;\n}());\nexports.LoginPack = LoginPack;\n","\"use strict\";\nexports.__esModule = true;\nvar Fetch_1 = require(\"../common/Fetch\");\nvar Logger_1 = require(\"../log/Logger\");\nvar Base64 = {\n    _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n    encode: function (e) {\n        var t = \"\";\n        var n, r, i, s, o, u, a;\n        var f = 0;\n        e = Base64._utf8_encode(e);\n        while (f < e.length) {\n            n = e.charCodeAt(f++);\n            r = e.charCodeAt(f++);\n            i = e.charCodeAt(f++);\n            s = n >> 2;\n            o = (n & 3) << 4 | r >> 4;\n            u = (r & 15) << 2 | i >> 6;\n            a = i & 63;\n            if (isNaN(r)) {\n                u = a = 64;\n            }\n            else if (isNaN(i)) {\n                a = 64;\n            }\n            t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n        }\n        return t;\n    },\n    decode: function (e) {\n        var t = \"\";\n        var n, r, i;\n        var s, o, u, a;\n        var f = 0;\n        e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");\n        while (f < e.length) {\n            s = this._keyStr.indexOf(e.charAt(f++));\n            o = this._keyStr.indexOf(e.charAt(f++));\n            u = this._keyStr.indexOf(e.charAt(f++));\n            a = this._keyStr.indexOf(e.charAt(f++));\n            n = s << 2 | o >> 4;\n            r = (o & 15) << 4 | u >> 2;\n            i = (u & 3) << 6 | a;\n            t = t + String.fromCharCode(n);\n            if (u != 64) {\n                t = t + String.fromCharCode(r);\n            }\n            if (a != 64) {\n                t = t + String.fromCharCode(i);\n            }\n        }\n        t = Base64._utf8_decode(t);\n        return t;\n    },\n    _utf8_encode: function (e) {\n        e = e.replace(/rn/g, \"n\");\n        var t = \"\";\n        for (var n = 0; n < e.length; n++) {\n            var r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n            }\n            else if (r > 127 && r < 2048) {\n                t += String.fromCharCode(r >> 6 | 192);\n                t += String.fromCharCode(r & 63 | 128);\n            }\n            else {\n                t += String.fromCharCode(r >> 12 | 224);\n                t += String.fromCharCode(r >> 6 & 63 | 128);\n                t += String.fromCharCode(r & 63 | 128);\n            }\n        }\n        return t;\n    },\n    _utf8_decode: function (e) {\n        var t = \"\";\n        var n = 0;\n        var r = 0;\n        var c1 = 0;\n        var c2 = 0;\n        while (n < e.length) {\n            r = e.charCodeAt(n);\n            if (r < 128) {\n                t += String.fromCharCode(r);\n                n++;\n            }\n            else if (r > 191 && r < 224) {\n                c2 = e.charCodeAt(n + 1);\n                t += String.fromCharCode((r & 31) << 6 | c2 & 63);\n                n += 2;\n            }\n            else {\n                c2 = e.charCodeAt(n + 1);\n                var c3 = e.charCodeAt(n + 2);\n                t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);\n                n += 3;\n            }\n        }\n        return t;\n    }\n};\nvar WebToolkit = /** @class */ (function () {\n    function WebToolkit() {\n    }\n    // 获取浏览器信息\n    WebToolkit.getBrowserInfo = function () {\n        var agent = navigator.userAgent.toLowerCase();\n        var system = agent.split(\" \")[1].split(\" \")[0].split(\"(\")[1];\n        var REGSTR_EDGE = /edge\\/[\\d.]+/gi;\n        var REGSTR_IE = /trident\\/[\\d.]+/gi;\n        var OLD_IE = /msie\\s[\\d.]+/gi;\n        var REGSTR_FF = /firefox\\/[\\d.]+/gi;\n        var REGSTR_CHROME = /chrome\\/[\\d.]+/gi;\n        var REGSTR_SAF = /safari\\/[\\d.]+/gi;\n        var REGSTR_OPERA = /opr\\/[\\d.]+/gi;\n        var info = {\n            code: 0,\n            system: system,\n            browser: \"\",\n            browserVersion: \"\"\n        };\n        // IE\n        if (agent.indexOf(\"trident\") > 0) {\n            info.browser = agent.match(REGSTR_IE)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_IE)[0].split(\"/\")[1];\n            return info;\n        }\n        // OLD_IE\n        if (agent.indexOf(\"msie\") > 0) {\n            info.browser = agent.match(OLD_IE)[0].split(\" \")[0];\n            info.browserVersion = agent.match(OLD_IE)[0].split(\" \")[1];\n            return info;\n        }\n        // Edge\n        if (agent.indexOf(\"edge\") > 0) {\n            info.browser = agent.match(REGSTR_EDGE)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_EDGE)[0].split(\"/\")[1];\n            return info;\n        }\n        // firefox\n        if (agent.indexOf(\"firefox\") > 0) {\n            info.browser = agent.match(REGSTR_FF)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_FF)[0].split(\"/\")[1];\n            return info;\n        }\n        // Opera\n        if (agent.indexOf(\"opr\") > 0) {\n            info.browser = agent.match(REGSTR_OPERA)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_OPERA)[0].split(\"/\")[1];\n            return info;\n        }\n        // Safari\n        if (agent.indexOf(\"safari\") > 0 && agent.indexOf(\"chrome\") < 0) {\n            info.browser = agent.match(REGSTR_SAF)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_SAF)[0].split(\"/\")[1];\n            return info;\n        }\n        // Chrome\n        if (agent.indexOf(\"chrome\") > 0) {\n            info.browser = agent.match(REGSTR_CHROME)[0].split(\"/\")[0];\n            info.browserVersion = agent.match(REGSTR_CHROME)[0].split(\"/\")[1];\n            return info;\n        }\n        else {\n            info.code = -1;\n            return info;\n        }\n    };\n    // TODO: 获取小程序设备信息\n    WebToolkit.getWxAppInfo = function () {\n        return {\n            system: 'WxApp',\n            browser: 'WxApp',\n            browserVersion: '1.0'\n        };\n    };\n    // TODO: 获取ReactNative设备信息\n    WebToolkit.getReactNativeInfo = function () {\n        return {\n            system: 'RNNative',\n            browser: 'RNNative',\n            browserVersion: '1.0'\n        };\n    };\n    // TODO: 获取UniApp设备信息\n    WebToolkit.getUniAppInfo = function () {\n        return {\n            system: 'UniApp',\n            browser: 'UniApp',\n            browserVersion: '1.0'\n        };\n    };\n    // 动态加入script 到head 标签处\n    WebToolkit.loadJS = function (url, callback) {\n        var script = document.createElement('script'), fn = callback || function () {\n        };\n        script.type = 'text/javascript';\n        // document.getElementsByTagName('head')[0].children[16].outerHTML.indexOf('http://pv.sohu.com/cityjson?ie=utf-8')\n        var exist = false;\n        for (var v in document.getElementsByTagName('head')[0].children) {\n            var dom = document.getElementsByTagName('head')[0].children[v];\n            if (dom.outerHTML !== undefined && dom.outerHTML.indexOf(url) >= 0) {\n                exist = true;\n            }\n        }\n        if (exist) {\n            fn();\n            return;\n        }\n        //IE\n        if (script.readyState) {\n            script.onreadystatechange = function () {\n                if (script.readyState == 'loaded' || script.readyState == 'complete') {\n                    script.onreadystatechange = null;\n                    fn();\n                }\n            };\n        }\n        else {\n            //其他浏览器\n            script.onload = function () {\n                fn();\n            };\n        }\n        script.src = url;\n        document.getElementsByTagName('head')[0].appendChild(script);\n    };\n    // 获取当前ip信息(fetch方式)\n    WebToolkit.getIpInfoByFetch = function (callback) {\n        var url = 'http://pv.sohu.com/cityjson?ie=utf-8';\n        var fetch = Fetch_1[\"default\"].getFetchToolkit();\n        var request = { method: \"GET\", mode: \"cors\", headers: { \"Content-Type\": \"application/json\" } };\n        return fetch(url, request).then(function (response) {\n            return response.text();\n        }).then(function (res) {\n            if (typeof callback === 'function') {\n                var currentCity = eval('_current_city=' + res.replace('var returnCitySN = ', ''));\n                callback(currentCity);\n            }\n        })[\"catch\"](function (e) {\n            Logger_1[\"default\"].trace(e);\n        });\n    };\n    // 获取当前ip信息(动态插入script脚本方式)\n    WebToolkit.getIpInfoByInsertScript = function (callback) {\n        var url = 'http://pv.sohu.com/cityjson?ie=utf-8';\n        WebToolkit.loadJS(url, function () {\n            callback(window['returnCitySN']);\n        });\n    };\n    WebToolkit.getIpInfo = function (callback) {\n        /*WX_APP*/\n        // 小程序的情况需要把pv.sohu.com域名加入白名单中\n        WebToolkit.getIpInfoByFetch(callback);\n        /*WX_APP*/\n        /*WEB_APP*/\n        WebToolkit.getIpInfoByInsertScript(callback);\n        /*WEB_APP*/\n        /*RN_APP*/\n        WebToolkit.getIpInfoByInsertScript(callback);\n        /*RN_APP*/\n        /*UNI_APP*/\n        // 小程序的情况需要把pv.sohu.com域名加入白名单中\n        WebToolkit.getIpInfoByFetch(callback);\n        /*UNI_APP*/\n    };\n    // 获取客户端设备信息\n    WebToolkit.getDeviceInfo = function () {\n        return WebToolkit.getBrowserInfo();\n    };\n    WebToolkit.base64Encode = function (str) {\n        return Base64.encode(str);\n    };\n    WebToolkit.base64Decode = function (str) {\n        return Base64.decode(str);\n    };\n    return WebToolkit;\n}());\nexports[\"default\"] = WebToolkit;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wxFetch\"] = factory();\n\telse\n\t\troot[\"wxFetch\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_wxapp_http__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_wxapp_http___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_wxapp_http__);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\nvar httpClient = __WEBPACK_IMPORTED_MODULE_0_wxapp_http___default.a.create({\n  maxConcurrent: 10,\n  timeout: 0,\n  header: {},\n  dataType: 'json'\n});\n\nfunction generateResponse(res) {\n  var header = res.header || {};\n  var config = res.config || {};\n  return {\n    ok: (res.statusCode / 200 | 0) === 1, // 200-299\n    status: res.statusCode,\n    statusText: res.errMsg,\n    url: config.url,\n    clone: function clone() {\n      return generateResponse(res);\n    },\n    text: function text() {\n      return Promise.resolve(typeof res.data === 'string' ? res.data : JSON.stringify(res.data));\n    },\n    json: function json() {\n      if (_typeof(res.data) === 'object') return Promise.resolve(res.data);\n      var json = {};\n      try {\n        json = JSON.parse(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n      return json;\n    },\n    blob: function blob() {\n      return Promise.resolve(new Blob([res.data]));\n    },\n    headers: {\n      keys: function keys() {\n        return Object.keys(header);\n      },\n      entries: function entries() {\n        var all = [];\n        for (var key in header) {\n          if (header.hasOwnProperty(key)) {\n            all.push([key, header[key]]);\n          }\n        }\n        return all;\n      },\n      get: function get(n) {\n        return header[n.toLowerCase()];\n      },\n      has: function has(n) {\n        return n.toLowerCase() in header;\n      }\n    }\n  };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (typeof fetch === 'function' ? fetch.bind() : function (url, options) {\n  options = options || {};\n  return httpClient.request(options.method || 'get', url, options.body, options.headers).then(function (res) {\n    return Promise.resolve(generateResponse(res));\n  }).catch(function (res) {\n    return Promise.reject(generateResponse(res));\n  });\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"wxHttp\"] = factory();\n\telse\n\t\troot[\"wxHttp\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * Created by axetroy on 17-6-23.\n */\n/// <reference path=\"./index.d.ts\" />\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar event_emitter_js_1 = __webpack_require__(1);\nvar DEFAULT_CONFIG = {\n    maxConcurrent: 10,\n    timeout: 0,\n    header: {},\n    dataType: 'json'\n};\nvar Http = /** @class */ (function (_super) {\n    __extends(Http, _super);\n    function Http(config) {\n        if (config === void 0) { config = DEFAULT_CONFIG; }\n        var _this = _super.call(this) || this;\n        _this.config = config;\n        _this.ctx = typeof wx === 'object' ? wx : { request: function () { } };\n        _this.queue = [];\n        _this.runningTask = 0;\n        _this.maxConcurrent = DEFAULT_CONFIG.maxConcurrent;\n        _this.requestInterceptor = function (config) { return true; };\n        _this.responseInterceptor = function (config, response) { return true; };\n        _this.maxConcurrent = config.maxConcurrent;\n        return _this;\n    }\n    Http.prototype.create = function (config) {\n        if (config === void 0) { config = DEFAULT_CONFIG; }\n        return new Http(config);\n    };\n    Http.prototype.next = function () {\n        var _this = this;\n        var queue = this.queue;\n        if (!queue.length || this.runningTask >= this.maxConcurrent)\n            return;\n        var entity = queue.shift();\n        var config = entity.config;\n        var _a = this, requestInterceptor = _a.requestInterceptor, responseInterceptor = _a.responseInterceptor;\n        if (requestInterceptor.call(this, config) !== true) {\n            var response = {\n                data: null,\n                errMsg: \"Request Interceptor: Request can't pass the Interceptor\",\n                statusCode: 0,\n                header: {}\n            };\n            entity.reject(response);\n            return;\n        }\n        this.emit('request', config);\n        this.runningTask = this.runningTask + 1;\n        var callBack = {\n            success: function (res) {\n                entity.response = res;\n                _this.emit('success', config, res);\n                responseInterceptor.call(_this, config, res) !== true\n                    ? entity.reject(res)\n                    : entity.resolve(res);\n            },\n            fail: function (res) {\n                entity.response = res;\n                _this.emit('fail', config, res);\n                responseInterceptor.call(_this, config, res) !== true\n                    ? entity.reject(res)\n                    : entity.resolve(res);\n            },\n            complete: function () {\n                _this.emit('complete', config, entity.response);\n                _this.next();\n                _this.runningTask = _this.runningTask - 1;\n            }\n        };\n        var requestConfig = Object.assign(config, callBack);\n        this.ctx.request(requestConfig);\n    };\n    Http.prototype.request = function (method, url, data, header, dataType) {\n        var _this = this;\n        if (data === void 0) { data = ''; }\n        if (header === void 0) { header = {}; }\n        if (dataType === void 0) { dataType = 'json'; }\n        var config = {\n            method: method,\n            url: url,\n            data: data,\n            header: __assign({}, header, this.config.header),\n            dataType: dataType || this.config.dataType\n        };\n        return new Promise(function (resolve, reject) {\n            var entity = { config: config, resolve: resolve, reject: reject, response: null };\n            _this.queue.push(entity);\n            _this.next();\n        });\n    };\n    Http.prototype.head = function (url, data, header, dataType) {\n        return this.request('HEAD', url, data, header, dataType);\n    };\n    Http.prototype.options = function (url, data, header, dataType) {\n        return this.request('OPTIONS', url, data, header, dataType);\n    };\n    Http.prototype.get = function (url, data, header, dataType) {\n        return this.request('GET', url, data, header, dataType);\n    };\n    Http.prototype.post = function (url, data, header, dataType) {\n        return this.request('POST', url, data, header, dataType);\n    };\n    Http.prototype.put = function (url, data, header, dataType) {\n        return this.request('PUT', url, data, header, dataType);\n    };\n    Http.prototype['delete'] = function (url, data, header, dataType) {\n        return this.request('DELETE', url, data, header, dataType);\n    };\n    Http.prototype.trace = function (url, data, header, dataType) {\n        return this.request('TRACE', url, data, header, dataType);\n    };\n    Http.prototype.connect = function (url, data, header, dataType) {\n        return this.request('CONNECT', url, data, header, dataType);\n    };\n    Http.prototype.setRequestInterceptor = function (interceptor) {\n        this.requestInterceptor = interceptor;\n        return this;\n    };\n    Http.prototype.setResponseInterceptor = function (interceptor) {\n        this.responseInterceptor = interceptor;\n        return this;\n    };\n    Http.prototype.clean = function () {\n        this.queue = [];\n    };\n    return Http;\n}(event_emitter_js_1.default));\nexports.default = new Http();\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(true)\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"EventEmitter\"] = factory();\n\telse\n\t\troot[\"EventEmitter\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/**\r\n * Created by axetroy on 2017/3/6.\r\n */\n/// <reference path=\"./index.d.ts\" />\n\nvar name = '@axetroy/event-emitter.js';\nvar id_Identifier = '__id__';\n\nfunction randomId() {\n  return Math.random().toString(36).substr(2, 16);\n}\n\nfunction findIndexById(id) {\n  return this.findIndex(function (callback) {\n    return callback[id_Identifier] === id;\n  });\n}\n\nvar defineProperty = Object.defineProperty;\n\nfunction EventEmitter() {\n  this[name] = {};\n  defineProperty && defineProperty(this, name, { enumerable: false, configurable: false });\n}\n\nvar prototype = EventEmitter.prototype;\n\nprototype.constructor = EventEmitter;\n\nprototype.on = function (event, listener) {\n  var events = this[name],\n      container = events[event] = events[event] || [],\n      id = randomId(),\n      index = void 0;\n  listener[id_Identifier] = id;\n  container.push(listener);\n  return function () {\n    index = findIndexById.call(container, id);\n    index >= 0 && container.splice(index, 1);\n  };\n};\n\nprototype.off = function (event) {\n  this[name][event] = [];\n};\n\nprototype.clear = function () {\n  this[name] = {};\n};\n\nprototype.once = function (event, listener) {\n  var self = this,\n      events = self[name],\n      container = events[event] = events[event] || [],\n      id = randomId(),\n      index = void 0,\n      callback = function callback() {\n    index = findIndexById.call(container, id);\n    index >= 0 && container.splice(index, 1);\n    listener.apply(self, arguments);\n  };\n  callback[id_Identifier] = id;\n  container.push(callback);\n};\n\nprototype.emit = function () {\n  var self = this,\n      argv = [].slice.call(arguments),\n      event = argv.shift(),\n      events = self[name];\n  (events['*'] || []).concat(events[event] || []).map(function (listener) {\n    return self.emitting(event, argv, listener);\n  });\n};\n\nprototype.emitting = function (event, dataArray, listener) {\n  listener.apply(this, dataArray);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = EventEmitter;\n\n/***/ })\n/******/ ]);\n});\n\n/***/ })\n/******/ ]);\n});\n\n/***/ })\n/******/ ]);\n});","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  // return name.toLowerCase()\n  return name;\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('Content-Type')) {\n      if (typeof body === 'string') {\n        this.headers.set('Content-Type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('Content-Type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('Content-Type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nfunction parseUniappHeaders(rawHeaders) {\n  var headers = new Headers()\n  for(var key in rawHeaders){\n    headers.append(key, rawHeaders[key])\n  }\n  return headers\n}\n\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\n// 从 whatwg-fetch 项目改写\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n    function isJson(json) {\n      try {\n        if (typeof json == \"object\") {\n          return true;\n        }\n        if (typeof json == \"string\") {\n          if (typeof JSON.parse(str) == \"object\") {\n            return true;\n          }\n        }\n      } catch(e) {\n      }\n      return false;\n    }\n    function toStr(json) {\n      try {\n        if (typeof json == \"object\") {\n          return JSON.stringify(json);\n        }\n        if (typeof json == \"string\") {\n           return json;\n        }\n      } catch(e) {\n      }\n      return json.toString();\n    }\n\n\n    let rawBody = typeof request._bodyInit === 'undefined' ? null : request._bodyInit;\n    if(request.headers.hasOwnProperty('Content-Type') && request.headers['Content-Type'].indexOf('application/json') >= 0){\n       if(request.method.toUpperCase() === 'POST'){\n         rawBody = JSON.parse(rawBody); // uniapp框架遇到 method = 'POST' 且 Content-Type = 'application/json' 会自动序列化\n       }\n    }\n    const requestTask = uni.request({\n      url: fixUrl(request.url),\n      method: request.method,\n      data: rawBody,\n      header: request.headers.map,\n      complete: (resp)=> {\n        // Logger.info(resp);\n        if (request.signal) {\n          request.signal.removeEventListener('abort', abortXhr);\n        }\n        if(resp.errMsg.indexOf('fail') >= 0){\n          setTimeout(function() {\n            reject(new TypeError('Network request failed'))\n          }, 0);\n          return;\n        }\n        // if(resp.statusCode !== 200){\n        //   setTimeout(function() {\n        //     reject(new TypeError('Network request failed, statusCode:' + resp.statusCode + \"  full text:\" + JSON.stringify(resp.data)))\n        //   }, 0)\n        //   return;\n        // }\n        var options = {\n          status: resp.statusCode,\n          statusText: resp.data ? toStr(resp.data) : '',\n          headers: parseUniappHeaders(resp.header || {})\n        };\n        options.url = options.headers.get('X-Request-URL')\n        var body = options.statusText;\n        setTimeout(function() {\n          resolve(new Response(body, options))\n        }, 0)\n\n      }\n    });\n    function abortXhr() {\n      requestTask.abort()\n    }\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n    }\n\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","var _globalThis;\nif (typeof globalThis === 'object') {\n\t_globalThis = globalThis;\n} else {\n\ttry {\n\t\t_globalThis = require('es5-ext/global');\n\t} catch (error) {\n\t} finally {\n\t\tif (!_globalThis && typeof window !== 'undefined') { _globalThis = window; }\n\t\tif (!_globalThis) { throw new Error('Could not determine global this'); }\n\t}\n}\n\nvar NativeWebSocket = _globalThis.WebSocket || _globalThis.MozWebSocket;\nvar websocket_version = require('./version');\n\n\n/**\n * Expose a W3C WebSocket class with just one or two arguments.\n */\nfunction W3CWebSocket(uri, protocols) {\n\tvar native_instance;\n\n\tif (protocols) {\n\t\tnative_instance = new NativeWebSocket(uri, protocols);\n\t}\n\telse {\n\t\tnative_instance = new NativeWebSocket(uri);\n\t}\n\n\t/**\n\t * 'native_instance' is an instance of nativeWebSocket (the browser's WebSocket\n\t * class). Since it is an Object it will be returned as it is when creating an\n\t * instance of W3CWebSocket via 'new W3CWebSocket()'.\n\t *\n\t * ECMAScript 5: http://bclary.com/2004/11/07/#a-13.2.2\n\t */\n\treturn native_instance;\n}\nif (NativeWebSocket) {\n\t['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'].forEach(function(prop) {\n\t\tObject.defineProperty(W3CWebSocket, prop, {\n\t\t\tget: function() { return NativeWebSocket[prop]; }\n\t\t});\n\t});\n}\n\n/**\n * Module exports.\n */\nmodule.exports = {\n    'w3cwebsocket' : NativeWebSocket ? W3CWebSocket : null,\n    'version'      : websocket_version\n};\n","var naiveFallback = function () {\n\tif (typeof self === \"object\" && self) return self;\n\tif (typeof window === \"object\" && window) return window;\n\tthrow new Error(\"Unable to resolve global `this`\");\n};\n\nmodule.exports = (function () {\n\tif (this) return this;\n\n\t// Unexpected strict mode (may happen if e.g. bundled into ESM module)\n\n\t// Fallback to standard globalThis if available\n\tif (typeof globalThis === \"object\" && globalThis) return globalThis;\n\n\t// Thanks @mathiasbynens -> https://mathiasbynens.be/notes/globalthis\n\t// In all ES5+ engines global object inherits from Object.prototype\n\t// (if you approached one that doesn't please report)\n\ttry {\n\t\tObject.defineProperty(Object.prototype, \"__global__\", {\n\t\t\tget: function () { return this; },\n\t\t\tconfigurable: true\n\t\t});\n\t} catch (error) {\n\t\t// Unfortunate case of updates to Object.prototype being restricted\n\t\t// via preventExtensions, seal or freeze\n\t\treturn naiveFallback();\n\t}\n\ttry {\n\t\t// Safari case (window.__global__ works, but __global__ does not)\n\t\tif (!__global__) return naiveFallback();\n\t\treturn __global__;\n\t} finally {\n\t\tdelete Object.prototype.__global__;\n\t}\n})();\n","module.exports = require('../package.json').version;\n","\"use strict\";\nexports.__esModule = true;\nexports.RequestBase = void 0;\nvar RequestBase = /** @class */ (function () {\n    function RequestBase(appId, clientType, imei) {\n        this.appId = appId;\n        this.clientType = clientType;\n        this.imei = imei;\n    }\n    return RequestBase;\n}());\nexports.RequestBase = RequestBase;\n","\"use strict\";\nexports.__esModule = true;\nexports.RequestParams = void 0;\nvar RequestParams = /** @class */ (function () {\n    function RequestParams(appId, identifier, userSign) {\n        this.appId = appId;\n        this.identifier = identifier;\n        this.userSign = userSign;\n    }\n    return RequestParams;\n}());\nexports.RequestParams = RequestParams;\n","\"use strict\";\nexports.__esModule = true;\nvar Logger_1 = require(\"../log/Logger\");\nvar ImClient_1 = require(\"./ImClient\");\nvar ApiResponse_1 = require(\"../model/ApiResponse\");\nvar utils_1 = require(\"../common/utils\");\nvar Fetch_1 = require(\"../common/Fetch\");\nvar HttpApi = /** @class */ (function () {\n    function HttpApi(url) {\n        this.url = \"http://127.0.0.1:8000\";\n        this.url = url;\n    }\n    HttpApi.prototype.call = function (url, params, body) {\n        var userId = ImClient_1.imClient.userId;\n        Logger_1[\"default\"].info(userId);\n        var reqUrl = this.url + url;\n        if (params != null) {\n            var paramStr = this.setQueryConfig(params);\n            console.log(paramStr);\n            reqUrl += paramStr;\n        }\n        var headers = {\n            'Content-Type': 'application/json'\n        };\n        var request = { method: \"POST\", headers: headers, mode: 'cors', body: utils_1[\"default\"].json(body) };\n        return this.httpFetch(reqUrl, request);\n    };\n    HttpApi.prototype.setQueryConfig = function (params) {\n        var _str = \"?\";\n        for (var o in params) {\n            _str += o + \"=\" + params[o] + \"&\";\n        }\n        _str = _str.substring(0, _str.length - 1); //末尾是&\n        return _str;\n    };\n    HttpApi.prototype.httpFetch = function (url, request) {\n        var _this = this;\n        console.log(\"httpFetch\");\n        var system = \"WebApp\";\n        if (system === 'WxApp') {\n            // @ts-ignore\n            if (wx === undefined) {\n                throw new Error('wx handle not exist');\n            }\n            return new Promise(function (resolve, reject) {\n                // @ts-ignore\n                wx.request({\n                    method: request.method,\n                    url: url,\n                    data: utils_1[\"default\"].bean(request),\n                    header: request.headers,\n                    success: function (res) {\n                        console.log(res);\n                        resolve(res.data);\n                    },\n                    fail: function (res) {\n                        console.log(res);\n                        reject(res.data);\n                    }\n                });\n            });\n        }\n        else if (system === 'RNNative') {\n            var rnFetch = Fetch_1[\"default\"].getFetchToolkit();\n            console.log(\"rnFetch\");\n            return rnFetch(url, request).then(function (response) {\n                return response.json();\n            }).then(function (res) {\n                Logger_1[\"default\"].info(\"==> [\" + request.method + \"] \" + url + \" back:\" + utils_1[\"default\"].json(res));\n                var resp = _this.response2ApiResponse(res);\n                if (resp.isFailed()) {\n                    return Promise.reject(resp);\n                }\n                return Promise.resolve(_this.response2ApiResponse(res));\n            });\n        }\n        else if (system === 'UniApp') {\n            var rnFetch = Fetch_1[\"default\"].getFetchToolkit();\n            return rnFetch(url, request).then(function (response) {\n                console.log(response);\n                return response.json();\n            }).then(function (res) {\n                Logger_1[\"default\"].info(\"==> [\" + request.method + \"] \" + url + \" back:\" + utils_1[\"default\"].json(res));\n                var resp = _this.response2ApiResponse(res);\n                if (resp.isFailed()) {\n                    return Promise.reject(resp);\n                }\n                return Promise.resolve(resp);\n            });\n        }\n        else {\n            var webFetch = Fetch_1[\"default\"].getFetchToolkit();\n            console.log(\"webFetch\");\n            return webFetch(url, request).then(function (response) {\n                return response.json();\n            }).then(function (res) {\n                Logger_1[\"default\"].info(\"==> [\" + request.method + \"] \" + url + \" back:\" + utils_1[\"default\"].json(res));\n                var resp = _this.response2ApiResponse(res);\n                console.log(res);\n                if (resp.isFailed()) {\n                    return Promise.reject(resp);\n                }\n                return Promise.resolve(_this.response2ApiResponse(res));\n            });\n        }\n    };\n    HttpApi.prototype.response2ApiResponse = function (response) {\n        var apiResponse = new ApiResponse_1[\"default\"](true);\n        apiResponse.data = response.data;\n        apiResponse.msg = response.msg;\n        apiResponse.code = response.code;\n        return apiResponse;\n    };\n    return HttpApi;\n}());\nexports[\"default\"] = HttpApi;\n","\"use strict\";\nexports.__esModule = true;\nvar ApiResponse = /** @class */ (function () {\n    function ApiResponse(succeed) {\n        if (succeed === void 0) { succeed = false; }\n        this.msg = '';\n        this.data = null;\n        if (succeed) {\n            this.code = 200;\n        }\n    }\n    ApiResponse.prototype.isSucceed = function () {\n        return this.code === 200;\n    };\n    ApiResponse.prototype.isFailed = function () {\n        return !this.isSucceed();\n    };\n    return ApiResponse;\n}());\nexports[\"default\"] = ApiResponse;\n","\"use strict\";\nexports.__esModule = true;\nexports.ConversationEventCommand = exports.UserEventCommand = exports.SystemCommand = exports.GroupEventCommand = exports.FriendshipEventCommand = exports.MessageCommand = void 0;\nvar MessageCommand;\n(function (MessageCommand) {\n    //单聊消息 1103\n    MessageCommand[MessageCommand[\"MSG_P2P\"] = 1103] = \"MSG_P2P\";\n    //单聊消息ACK 1046\n    MessageCommand[MessageCommand[\"MSG_ACK\"] = 1046] = \"MSG_ACK\";\n    //消息收到ack 1107\n    MessageCommand[MessageCommand[\"MSG_RECEIVE_ACK\"] = 1107] = \"MSG_RECEIVE_ACK\";\n    //发送消息已读   1106\n    MessageCommand[MessageCommand[\"MSG_READED\"] = 1106] = \"MSG_READED\";\n    //消息已读通知给同步端 1053\n    MessageCommand[MessageCommand[\"MSG_READED_NOTIFY\"] = 1053] = \"MSG_READED_NOTIFY\";\n    //消息已读回执，给原消息发送方 1054\n    MessageCommand[MessageCommand[\"MSG_READED_RECEIPT\"] = 1054] = \"MSG_READED_RECEIPT\";\n    //消息撤回 1050\n    MessageCommand[MessageCommand[\"MSG_RECALL\"] = 1050] = \"MSG_RECALL\";\n    //消息撤回通知 1052\n    MessageCommand[MessageCommand[\"MSG_RECALL_NOTIFY\"] = 1052] = \"MSG_RECALL_NOTIFY\";\n    //消息撤回回报 1051\n    MessageCommand[MessageCommand[\"MSG_RECALL_ACK\"] = 1051] = \"MSG_RECALL_ACK\";\n})(MessageCommand || (MessageCommand = {}));\nexports.MessageCommand = MessageCommand;\nvar FriendshipEventCommand;\n(function (FriendshipEventCommand) {\n    //添加好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_ADD\"] = 3000] = \"FRIEND_ADD\";\n    //更新好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_UPDATE\"] = 3001] = \"FRIEND_UPDATE\";\n    //删除好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_DELETE\"] = 3002] = \"FRIEND_DELETE\";\n    //好友申请\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_REQUEST\"] = 3003] = \"FRIEND_REQUEST\";\n    //好友申请已读\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_REQUEST_READ\"] = 3004] = \"FRIEND_REQUEST_READ\";\n    //好友申请审批\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_REQUEST_APPROVE\"] = 3005] = \"FRIEND_REQUEST_APPROVE\";\n    //添加黑名单\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_BLACK_ADD\"] = 3010] = \"FRIEND_BLACK_ADD\";\n    //移除黑名单\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_BLACK_DELETE\"] = 3011] = \"FRIEND_BLACK_DELETE\";\n    //新建好友分组\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_ADD\"] = 3012] = \"FRIEND_GROUP_ADD\";\n    //删除好友分组\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_DELETE\"] = 3013] = \"FRIEND_GROUP_DELETE\";\n    //好友分组添加成员\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_MEMBER_ADD\"] = 3014] = \"FRIEND_GROUP_MEMBER_ADD\";\n    //好友分组移除成员\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_GROUP_MEMBER_DELETE\"] = 3015] = \"FRIEND_GROUP_MEMBER_DELETE\";\n    //删除所有好友\n    FriendshipEventCommand[FriendshipEventCommand[\"FRIEND_ALL_DELETE\"] = 3016] = \"FRIEND_ALL_DELETE\";\n})(FriendshipEventCommand || (FriendshipEventCommand = {}));\nexports.FriendshipEventCommand = FriendshipEventCommand;\nvar GroupEventCommand;\n(function (GroupEventCommand) {\n    /**\n     * 推送申请入群通知 2023\n     */\n    GroupEventCommand[GroupEventCommand[\"JOIN_GROUP\"] = 2000] = \"JOIN_GROUP\";\n    /**\n     * 推送添加群成员 2001，通知给所有管理员和本人\n     */\n    GroupEventCommand[GroupEventCommand[\"ADDED_MEMBER\"] = 2001] = \"ADDED_MEMBER\";\n    /**\n     * 推送创建群组通知 2002，通知给所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"CREATED_GROUP\"] = 2002] = \"CREATED_GROUP\";\n    /**\n     * 推送更新群组通知 2003，通知给所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"UPDATED_GROUP\"] = 2003] = \"UPDATED_GROUP\";\n    /**\n     * 推送退出群组通知 2004，通知给管理员和操作人\n     */\n    GroupEventCommand[GroupEventCommand[\"EXIT_GROUP\"] = 2004] = \"EXIT_GROUP\";\n    /**\n     * 推送修改群成员通知 2005，通知给管理员和被操作人\n     */\n    GroupEventCommand[GroupEventCommand[\"UPDATED_MEMBER\"] = 2005] = \"UPDATED_MEMBER\";\n    /**\n     * 推送删除群成员通知 2006，通知给所有群成员和被踢人\n     */\n    GroupEventCommand[GroupEventCommand[\"DELETED_MEMBER\"] = 2006] = \"DELETED_MEMBER\";\n    /**\n     * 推送解散群通知 2007，通知所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"DESTROY_GROUP\"] = 2007] = \"DESTROY_GROUP\";\n    /**\n     * 推送转让群主 2008，通知所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"TRANSFER_GROUP\"] = 2008] = \"TRANSFER_GROUP\";\n    /**\n     * 禁言群 2009，通知所有人\n     */\n    GroupEventCommand[GroupEventCommand[\"MUTE_GROUP\"] = 2009] = \"MUTE_GROUP\";\n    /**\n     * 禁言/解禁 群成员 2010，通知管理员和被操作人\n     */\n    GroupEventCommand[GroupEventCommand[\"SPEAK_GROUP_MEMBER\"] = 2010] = \"SPEAK_GROUP_MEMBER\";\n    /**\n     * 审批群申请通知\n     */\n    GroupEventCommand[GroupEventCommand[\"GROUP_REQUEST_APPROVE\"] = 2011] = \"GROUP_REQUEST_APPROVE\";\n    /**\n     * 群申请已读通知\n     */\n    GroupEventCommand[GroupEventCommand[\"GROUP_REQUEST_READ\"] = 2012] = \"GROUP_REQUEST_READ\";\n    //群聊消息收发 2104\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP\"] = 2104] = \"MSG_GROUP\";\n    //发送消息已读   2106\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP_READED\"] = 2106] = \"MSG_GROUP_READED\";\n    //消息已读通知给同步端 2053\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP_READED_NOTIFY\"] = 2053] = \"MSG_GROUP_READED_NOTIFY\";\n    //消息已读回执，给原消息发送方 2054\n    GroupEventCommand[GroupEventCommand[\"MSG_GROUP_READED_RECEIPT\"] = 2054] = \"MSG_GROUP_READED_RECEIPT\";\n    //群聊消息ack 2047\n    GroupEventCommand[GroupEventCommand[\"GROUP_MSG_ACK\"] = 2047] = \"GROUP_MSG_ACK\";\n})(GroupEventCommand || (GroupEventCommand = {}));\nexports.GroupEventCommand = GroupEventCommand;\nvar SystemCommand;\n(function (SystemCommand) {\n    //心跳 9999\n    SystemCommand[SystemCommand[\"PING\"] = 9999] = \"PING\";\n    /**\n     * 登录 9000\n     */\n    SystemCommand[SystemCommand[\"LOGIN\"] = 9000] = \"LOGIN\";\n    //登录ack  9001\n    SystemCommand[SystemCommand[\"LOGIN_ACK\"] = 9001] = \"LOGIN_ACK\";\n    //登出  9003\n    SystemCommand[SystemCommand[\"LOGOUT\"] = 9003] = \"LOGOUT\";\n    //下线通知 用于多端互斥  9002\n    SystemCommand[SystemCommand[\"MUTUAL_LOGIN\"] = 9002] = \"MUTUAL_LOGIN\";\n})(SystemCommand || (SystemCommand = {}));\nexports.SystemCommand = SystemCommand;\nvar UserEventCommand;\n(function (UserEventCommand) {\n    //用户信息修改command 4000\n    UserEventCommand[UserEventCommand[\"USER_MODIFY\"] = 4000] = \"USER_MODIFY\";\n    //4001 用户在线状态修改\n    UserEventCommand[UserEventCommand[\"USER_ONLINE_STATUS_CHANGE\"] = 4001] = \"USER_ONLINE_STATUS_CHANGE\";\n    //4004 用户在线状态通知报文\n    UserEventCommand[UserEventCommand[\"USER_ONLINE_STATUS_CHANGE_NOTIFY\"] = 4004] = \"USER_ONLINE_STATUS_CHANGE_NOTIFY\";\n    //4005 用户在线状态通知同步报文\n    UserEventCommand[UserEventCommand[\"USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC\"] = 4005] = \"USER_ONLINE_STATUS_CHANGE_NOTIFY_SYNC\";\n    //4006 用户自己在线状态更改通知报文\n    UserEventCommand[UserEventCommand[\"USER_CUSTOM_STATUS_CHANGE_NOTIFY\"] = 4006] = \"USER_CUSTOM_STATUS_CHANGE_NOTIFY\";\n})(UserEventCommand || (UserEventCommand = {}));\nexports.UserEventCommand = UserEventCommand;\nvar ConversationEventCommand;\n(function (ConversationEventCommand) {\n    //删除会话\n    ConversationEventCommand[ConversationEventCommand[\"CONVERSATION_DELETE\"] = 5000] = \"CONVERSATION_DELETE\";\n    //更新会话\n    ConversationEventCommand[ConversationEventCommand[\"CONVERSATION_UPDATE\"] = 5001] = \"CONVERSATION_UPDATE\";\n})(ConversationEventCommand || (ConversationEventCommand = {}));\nexports.ConversationEventCommand = ConversationEventCommand;\n","\"use strict\";\nexports.__esModule = true;\nexports.createCustomerMessage = exports.createLocationMessage = exports.createFileMessage = exports.createEmojiMessage = exports.createVideoMessage = exports.createAudioMessage = exports.createImageMessage = exports.createTextMessage = void 0;\nvar MessagePack_1 = require(\"../pack/MessagePack\");\n// 创建文本消息\nvar createTextMessage = function (appId, from, to, text, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildTextMessagePack(from, to, text);\n    return messagePack;\n};\nexports.createTextMessage = createTextMessage;\n// 创建图片消息\nvar createImageMessage = function (appId, from, to, image, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildImageMessagePack(from, to, image);\n    return messagePack;\n};\nexports.createImageMessage = createImageMessage;\n// 创建语音消息\nvar createAudioMessage = function (appId, from, to, audio, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildAudioMessagePack(from, to, audio);\n    return messagePack;\n};\nexports.createAudioMessage = createAudioMessage;\n// 创建视频消息\nvar createVideoMessage = function (appId, from, to, video, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildVideoMessagePack(from, to, video);\n    return messagePack;\n};\nexports.createVideoMessage = createVideoMessage;\n// 创建表情消息\nvar createEmojiMessage = function (appId, from, to, emoji, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildEmojiMessagePack(from, to, emoji);\n    return messagePack;\n};\nexports.createEmojiMessage = createEmojiMessage;\n// 创建文件消息\nvar createFileMessage = function (appId, from, to, file, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildFileMessagePack(from, to, file);\n    return messagePack;\n};\nexports.createFileMessage = createFileMessage;\n// 创建位置消息\nvar createLocationMessage = function (appId, from, to, location, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildLocationMessagePack(from, to, location);\n    return messagePack;\n};\nexports.createLocationMessage = createLocationMessage;\n// 创建自定义消息\nvar createCustomerMessage = function (appId, from, to, type, custom, conversationType) {\n    var messagePack = new MessagePack_1.MessagePack(appId, conversationType);\n    messagePack.buildCustomerMessagePack(from, to, type, custom);\n    return messagePack;\n};\nexports.createCustomerMessage = createCustomerMessage;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessagePack = void 0;\nvar utils_1 = require(\"../common/utils\");\nvar ConversationType_1 = require(\"../common/ConversationType\");\nvar MessagePack = /** @class */ (function () {\n    function MessagePack(appId, conversationType) {\n        this.messageId = utils_1[\"default\"].uuid();\n        this.appId = appId;\n        this.messageRandom = this.RangeInteger(0, 10000);\n        this.messageTime = Date.parse(new Date().toString());\n        this.conversationType = conversationType;\n    }\n    MessagePack.prototype.RangeInteger = function (min, max) {\n        var range = max - min;\n        var value = Math.floor(Math.random() * range) + min;\n        return value;\n    };\n    // 创建文本消息\n    MessagePack.prototype.buildTextMessagePack = function (fromId, toId, text) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 1, content: text };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建图片消息\n    MessagePack.prototype.buildImageMessagePack = function (fromId, toId, image) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 2, content: image };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建语音消息\n    MessagePack.prototype.buildAudioMessagePack = function (fromId, toId, audio) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 3, content: audio };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建视频消息\n    MessagePack.prototype.buildVideoMessagePack = function (fromId, toId, video) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 4, content: video };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建表情消息\n    MessagePack.prototype.buildEmojiMessagePack = function (fromId, toId, emoji) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 5, content: emoji };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建文件消息\n    MessagePack.prototype.buildFileMessagePack = function (fromId, toId, file) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 6, content: file };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建位置消息\n    MessagePack.prototype.buildLocationMessagePack = function (fromId, toId, location) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: 7, content: location };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    // 创建自定义消息\n    MessagePack.prototype.buildCustomerMessagePack = function (fromId, toId, type, obj) {\n        this.fromId = fromId;\n        if (this.conversationType === ConversationType_1[\"default\"].P2PMessage) {\n            this.toId = toId;\n        }\n        else {\n            this.groupId = toId;\n        }\n        var body = { type: type, content: obj };\n        this.messageBody = utils_1[\"default\"].json(body);\n    };\n    return MessagePack;\n}());\nexports.MessagePack = MessagePack;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessageReadPack = void 0;\nvar ConversationType_1 = require(\"../common/ConversationType\");\nvar MessageReadPack = /** @class */ (function () {\n    function MessageReadPack(userId, messageData, conversationType) {\n        this.fromId = userId;\n        this.toId = messageData.fromId;\n        this.conversationType = conversationType;\n        if (conversationType === ConversationType_1[\"default\"].GroupMessage) {\n            this.groupId = messageData.groupId;\n        }\n        this.messageSequence = messageData.messageSequence;\n    }\n    return MessageReadPack;\n}());\nexports.MessageReadPack = MessageReadPack;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessageReceiveAckPack = void 0;\nvar MessageReceiveAckPack = /** @class */ (function () {\n    function MessageReceiveAckPack(fromId, messageData) {\n        this.fromId = fromId;\n        this.toId = messageData.fromId;\n        this.messageKey = messageData.messageKey;\n        this.messageId = messageData.messageId;\n        this.messageSequence = messageData.messageSequence;\n    }\n    return MessageReceiveAckPack;\n}());\nexports.MessageReceiveAckPack = MessageReceiveAckPack;\n","\"use strict\";\nexports.__esModule = true;\nexports.MessageRecallPack = void 0;\nvar MessageRecallPack = /** @class */ (function () {\n    function MessageRecallPack(fromId, messageData, conversationType) {\n        this.fromId = fromId;\n        this.toId = messageData.toId;\n        this.messageKey = messageData.messageKey;\n        this.messageTime = messageData.messageTime;\n        this.messageSequence = messageData.messageSequence;\n        this.conversationType = conversationType;\n    }\n    return MessageRecallPack;\n}());\nexports.MessageRecallPack = MessageRecallPack;\n"],"sourceRoot":""}